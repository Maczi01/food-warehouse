"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var _inheritsLoose=_interopDefault(require("@babel/runtime/helpers/inheritsLoose")),_objectWithoutPropertiesLoose=_interopDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose")),_extends=_interopDefault(require("@babel/runtime/helpers/extends")),React=_interopDefault(require("react")),_regeneratorRuntime=_interopDefault(require("@babel/runtime/regenerator")),_asyncToGenerator=_interopDefault(require("@babel/runtime/helpers/asyncToGenerator")),BlobStream=_interopDefault(require("blob-stream")),PDFDocument=require("@react-pdf/pdfkit"),PDFDocument__default=_interopDefault(PDFDocument);require("is-url");var emojiSource,hyphenationCallback,fontkit=_interopDefault(require("@react-pdf/fontkit")),fetch=_interopDefault(require("cross-fetch")),R=require("ramda"),runWidth=_interopDefault(require("@react-pdf/textkit/run/advanceWidth")),lineWidth=_interopDefault(require("@react-pdf/textkit/attributedString/advanceWidth")),absPath=_interopDefault(require("abs-svg-path")),parsePath=_interopDefault(require("parse-svg-path")),arcToCurve=_interopDefault(require("svg-arc-to-cubic-bezier")),PDFRenderer=_interopDefault(require("@react-pdf/textkit/renderers/pdf")),layoutEngine=_interopDefault(require("@react-pdf/textkit/layout")),linebreaker=_interopDefault(require("@react-pdf/textkit/engines/linebreaker")),justification=_interopDefault(require("@react-pdf/textkit/engines/justification")),textDecoration=_interopDefault(require("@react-pdf/textkit/engines/textDecoration")),scriptItemizer=_interopDefault(require("@react-pdf/textkit/engines/scriptItemizer")),wordHyphenation=_interopDefault(require("@react-pdf/textkit/engines/wordHyphenation")),AttributedString=_interopDefault(require("@react-pdf/textkit/attributedString")),_createClass=_interopDefault(require("@babel/runtime/helpers/createClass")),colorString=_interopDefault(require("color-string")),hlsToHex=_interopDefault(require("hsl-to-hex")),PNG=_interopDefault(require("@react-pdf/png-js")),emojiRegex=_interopDefault(require("emoji-regex")),matchMedia=_interopDefault(require("media-engine")),Yoga=_interopDefault(require("yoga-layout-prebuilt")),ReactFiberReconciler=_interopDefault(require("react-reconciler")),scheduler=require("scheduler"),VIEW="VIEW",TEXT="TEXT",LINK="LINK",PAGE="PAGE",NOTE="NOTE",IMAGE="IMAGE",DOCUMENT="DOCUMENT",CANVAS="CANVAS",TEXT_INSTANCE="TEXT_INSTANCE",SVG="SVG",GROUP="G",PATH="PATH",RECT="RECT",LINE="LINE",CIRCLE="CIRCLE",ELLIPSE="ELLIPSE",POLYGON="POLYGON",POLYLINE="POLYLINE",DEFS="DEFS",TSPAN="TSPAN",CLIP_PATH="CLIP_PATH",STOP="STOP",LINEAR_GRADIENT="LINEAR_GRADIENT",RADIAL_GRADIENT="RADIAL_GRADIENT",DPI=72,FONT_WEIGHTS={thin:100,hairline:100,ultralight:200,extralight:200,light:300,normal:400,medium:500,semibold:600,demibold:600,bold:700,ultrabold:800,extrabold:800,heavy:900,black:900},PAGE_SIZES={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},PORTRAIT="portrait",LANDSCAPE="landscape",INHERITED_PROPERTIES=["color","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","opacity","textDecoration","lineHeight","textAlign","visibility","wordSpacing"],SVG_INHERITED_PROPS=["x","y","clipPath","clipRule","opacity","fill","fillOpacity","fillRule","stroke","strokeLinecap","strokeLinejoin","strokeOpacity","strokeWidth","textAnchor"].concat(INHERITED_PROPERTIES),RULER_WIDTH=13,RULER_COLOR="white",RULER_FONT_SIZE=6,DEFAULT_RULER_STEPS=50,LINE_WIDTH=.5,LINE_COLOR="gray",GRID_COLOR="#ababab",BOX_MODEL_REGEX=/\d+(px|in|mm|cm|pt|%|vw|vh|px)?/g,OBJECT_POSITION_REGEX=/\d+(px|in|mm|cm|pt|%|vw|vh|px)?/g,BORDER_SHORTHAND_REGEX=/(\d+(px|in|mm|cm|pt|vw|vh|px)?)\s(\S+)\s(\S+)/,TRANSFORM_ORIGIN_REGEX=/(-?\d+(px|in|mm|cm|pt|%|vw|vh|px)?)|top|right|bottom|left|center/g,matchBoxModel=R.match(BOX_MODEL_REGEX),matchObjectPosition=R.match(OBJECT_POSITION_REGEX),matchBorderShorthand=R.match(BORDER_SHORTHAND_REGEX),matchTransformOrigin=R.match(TRANSFORM_ORIGIN_REGEX),isNumber=R.is(Number),isFontWeightStyle=function(e){return e.match(/^fontWeight/)},isBorderStyle=function(e,t){return e.match(/^border(Top|Right|Bottom|Left)(Color|Width|Style)/)&&"string"==typeof t},isBoxModelStyle=function(e,t){return e.match(/^(margin)|(padding)/)&&"string"==typeof t},isObjectPositionStyle=function(e,t){return e.match(/^objectPosition/)&&"string"==typeof t},isTransformOriginStyle=function(e,t){return e.match(/^transformOrigin/)&&"string"==typeof t},isFlexGrow=function(e){return"flexGrow"===e},isFlexShrink=function(e){return"flexShrink"===e},isFlexBasis=function(e){return"flexBasis"===e},processBorders=function(e,t){var r=matchBorderShorthand(t);if(r){if(e.match(/Color$/))return r[4]||t;if(e.match(/Style$/))return r[3]||t;if(e.match(/Width$/))return r[1]||t;throw new Error("StyleSheet: Invalid '"+t+"' for '"+e+"'")}return t},processBoxModel=function(e,t){var r=matchBoxModel(t);if(r){if(e.match(/Top$/))return r[0];if(e.match(/Right$/))return r[1]||r[0];if(e.match(/Bottom$/))return r[2]||r[0];if(e.match(/Left$/))return r[3]||r[1]||r[0];throw new Error("StyleSheet: Invalid '"+t+"' for '"+e+"'")}return t},processFontWeight=function(e,t){return t?"number"==typeof t?t:FONT_WEIGHTS[t.toLowerCase()]:FONT_WEIGHTS.normal},processObjectPosition=function(e,t){var r=matchObjectPosition(t);if(r){if(e.match(/X$/))return r[0]||t;if(e.match(/Y$/))return r[1]||t;throw new Error("StyleSheet: Invalid '"+t+"' for '"+e+"'")}return t},transformOffsetKeywords=function(e){switch(e){case"top":case"left":return"0%";case"right":case"bottom":return"100%";case"center":return"50%";default:return e}},processTransformOrigin=function(e,t){var r=matchTransformOrigin(t);if(r){var n;if(e.match(/X$/))n=r[0]||t;else{if(!e.match(/Y$/))throw new Error("StyleSheet: Invalid '"+t+"' for '"+e+"'");n=r[1]||r[0]||t}return transformOffsetKeywords(n)}return t},processFlexGrow=function(e,t){return isNumber(t)?t:t.split(" ")[0]},processFlexShrink=function(e,t){return isNumber(t)?t:t.split(" ")[1]},processFlexBasis=function(e,t){return isNumber(t)?t:t.split(" ")[2]},keepSame=function(e,t){return t},matchNumber=R.when(R.is(String),R.test(/^-?\d*\.?\d*$/)),castFloat=R.when(matchNumber,function(e){return parseFloat(e,10)}),transformStyle=R.compose(castFloat,R.cond([[isBorderStyle,processBorders],[isBoxModelStyle,processBoxModel],[isObjectPositionStyle,processObjectPosition],[isTransformOriginStyle,processTransformOrigin],[isFontWeightStyle,processFontWeight],[isFlexGrow,processFlexGrow],[isFlexShrink,processFlexShrink],[isFlexBasis,processFlexBasis],[R.T,keepSame]])),transformStyles=R.mapObjIndexed(R.flip(transformStyle)),fetchFont=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(t,r){var n,o;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r);case 2:return n=e.sent,e.next=5,n.buffer?n.buffer():n.arrayBuffer();case 5:return o=e.sent,e.abrupt("return","Buffer"===o.constructor.name?o:Buffer.from(o));case 7:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),FontSource=function(){function e(e,t,r,n,o){this.src=e,this.fontFamily=t,this.fontStyle=r||"normal",this.fontWeight=processFontWeight(n)||400,this.data=null,this.loading=!1,this.options=o}return e.prototype.load=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t,r,n,o,i,a,s=this;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,t=this.options,r=t.headers,n=t.body,o=t.method,i=void 0===o?"GET":o,e.next=5,fetchFont(this.src,{method:i,body:n,headers:r});case 5:a=e.sent,this.data=fontkit.create(a),e.next=12;break;case 9:return e.next=11,new Promise(function(e,t){return fontkit.open(s.src,function(r,n){return r?t(r):e(n)})});case 11:this.data=e.sent;case 12:this.loading=!1;case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),e}(),Font=function(){function e(e){this.family=e,this.sources=[]}e.create=function(t){return new e(t)};var t=e.prototype;return t.register=function(e){var t=e.src,r=e.fontWeight,n=e.fontStyle,o=_objectWithoutPropertiesLoose(e,["src","fontWeight","fontStyle"]);this.sources.push(new FontSource(t,this.fontFamily,n,r,o))},t.resolve=function(e){var t,r=e.fontWeight,n=void 0===r?400:r,o=e.fontStyle,i=void 0===o?"normal":o,a=this.sources.filter(function(e){return e.fontStyle===i}),s=a.find(function(e){return e.fontWeight===n});if(s)return s;if(n>=400&&n<=500){var l=a.filter(function(e){return e.fontWeight<=n}),u=a.filter(function(e){return e.fontWeight>500});t=a.filter(function(e){return e.fontWeight>=n&&e.fontWeight<500})[0]||l[l.length-1]||u[0]}var c=a.filter(function(e){return e.fontWeight<n}),p=a.filter(function(e){return e.fontWeight>n});if(n<400&&(t=c[c.length-1]||p[0]),n>500&&(t=p[0]||c[c.length-1]),!t)throw new Error("Could not resolve font for "+this.fontFamily+", fontWeight "+n);return t},e}(),registerEmojiSource=function(e){var t=e.url,r=e.format;emojiSource={url:t,format:void 0===r?"png":r}},getEmojiSource=function(){return emojiSource},emoji={registerEmojiSource:registerEmojiSource,getEmojiSource:getEmojiSource},standardFonts=["Courier","Courier-Bold","Courier-Oblique","Helvetica","Helvetica-Bold","Helvetica-Oblique","Times-Roman","Times-Bold","Times-Italic"],registerHyphenationCallback=function(e){hyphenationCallback=e},getHyphenationCallback=function(){return hyphenationCallback},hyphenation={registerHyphenationCallback:registerHyphenationCallback,getHyphenationCallback:getHyphenationCallback},fonts={},register=function(e){var t=e.family;if(fonts[t]||(fonts[t]=Font.create(t)),e.fonts)for(var r=0;r<e.fonts.length;r++)fonts[t].register(_extends({family:t},e.fonts[r]));else fonts[t].register(e)},getRegisteredFonts=function(){return fonts},getRegisteredFontFamilies=function(){return Object.keys(fonts)},getFont=function(e){var t=e.fontFamily;if(standardFonts.includes(t))return null;if(!fonts[t])throw new Error("Font family not registered: "+t+". Please register it calling Font.register() method.");return fonts[t].resolve(e)},load=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var r,n;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fontFamily,!standardFonts.includes(r)){e.next=4;break}return e.abrupt("return");case 4:if((n=getFont(t)).data||n.loading){e.next=8;break}return e.next=8,n.load();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),reset=function(){for(var e in fonts)fonts.hasOwnProperty(e)&&(fonts[e].data=null)},clear=function(){fonts={}},Font$1=_extends({register:register,getRegisteredFonts:getRegisteredFonts,getRegisteredFontFamilies:getRegisteredFontFamilies,getFont:getFont,load:load,clear:clear,reset:reset},emoji,hyphenation),save=function(e,t){return e.save(),t},save$1=R.curryN(2,save),PROTOCOL_REGEXP=/^([a-z]+\:(\/\/)?)/i,DEST_REGEXP=/^#.+/,getURL=function(e){return e?isSrcId(e)?e:"string"!=typeof e||e.match(PROTOCOL_REGEXP)?e:"http://"+e:""},isSrcId=function(e){return e.match(DEST_REGEXP)},DEST_REGEXP$1=/^#.+/,isSrcId$1=R.test(DEST_REGEXP$1),getSource=R.compose(R.either(R.path(["props","src"]),R.path(["props","href"]))),setLink=function(e,t){var r=t.box,n=r.top,o=r.left,i=r.width,a=r.height,s=getSource(t),l=isSrcId$1(s)?"goTo":"link",u=isSrcId$1(s)?s.slice(1):getURL(s);return u&&e[l](o,n,i,a,u),t},setLink$1=R.curryN(2,setLink),restore=function(e,t){return e.restore(),t},restore$1=R.curryN(2,restore),isSvg=R.propEq("type",SVG),isText=R.propEq("type",TEXT),isPage=R.propEq("type",PAGE),hasSource=R.either(R.hasPath(["props","src"]),R.hasPath(["props","href"])),isLink=R.either(R.propEq("type",LINK),R.both(R.propEq("type",TEXT),hasSource)),isNote=R.propEq("type",NOTE),isImage=R.propEq("type",IMAGE),isCanvas=R.propEq("type",CANVAS),KAPPA=(Math.sqrt(2)-1)/3*4,clipNode=function(e,t){var r=t.box,n=r.top,o=r.left,i=r.width,a=r.height,s=t.style,l=s.borderTopLeftRadius,u=void 0===l?0:l,c=s.borderTopRightRadius,p=void 0===c?0:c,d=s.borderBottomRightRadius,h=void 0===d?0:d,g=s.borderBottomLeftRadius,f=void 0===g?0:g,R=Math.min(p,.5*i,.5*a),m=R*(1-KAPPA);e.moveTo(o+R,n),e.lineTo(o+i-R,n),e.bezierCurveTo(o+i-m,n,o+i,n+m,o+i,n+R);var v=Math.min(h,.5*i,.5*a),y=v*(1-KAPPA);e.lineTo(o+i,n+a-v),e.bezierCurveTo(o+i,n+a-y,o+i-y,n+a,o+i-v,n+a);var b=Math.min(f,.5*i,.5*a),T=b*(1-KAPPA);e.lineTo(o+b,n+a),e.bezierCurveTo(o+T,n+a,o,n+a-T,o,n+a-b);var P=Math.min(u,.5*i,.5*a),x=P*(1-KAPPA);return e.lineTo(o,n+P),e.bezierCurveTo(o,n+x,o+x,n,o+P,n),e.closePath(),e.clip(),t},clipNode$1=R.curryN(2,clipNode),renderPath=function(e){return R.tap(function(t){R.path(["props","d"],t)&&e.path(t.props.d)})},KAPPA$1=(Math.sqrt(2)-1)/3*4,getProp=function(e,t,r){return R.pathOr(e,["props",t],r)},renderRect=function(e){return function(t){var r=getProp(0,"x",t),n=getProp(0,"y",t),o=getProp(0,"rx",t),i=getProp(0,"ry",t),a=getProp(0,"width",t),s=getProp(0,"height",t);if(!a||!s)return t;if(o&&i){var l=o*KAPPA$1,u=i*KAPPA$1;e.moveTo(r+o,n),e.lineTo(r-o+a,n),e.bezierCurveTo(r-o+a+l,n,r+a,n+i-u,r+a,n+i),e.lineTo(r+a,n+s-i),e.bezierCurveTo(r+a,n+s-i+u,r-o+a+l,n+s,r-o+a,n+s),e.lineTo(r+o,n+s),e.bezierCurveTo(r+o-l,n+s,r,n+s-i+u,r,n+s-i),e.lineTo(r,n+i),e.bezierCurveTo(r,n+i-u,r+o-l,n,r+o,n)}else e.moveTo(r,n),e.lineTo(r+a,n),e.lineTo(r+a,n+s),e.lineTo(r,n+s);return e.closePath(),t}},getProp$1=function(e,t){return R.path(["props",e],t)},renderLine=function(e){return function(t){var r=getProp$1("x1",t),n=getProp$1("y1",t),o=getProp$1("x2",t),i=getProp$1("y2",t);return e.moveTo(r,n),e.lineTo(o,i),t}},KAPPA$2=(Math.sqrt(2)-1)/3*4,getProp$2=function(e,t){return R.path(["props",e],t)},drawEllipse=function(e,t,r,n,o){var i=t-n,a=r-o,s=n*KAPPA$2,l=o*KAPPA$2,u=i+2*n,c=a+2*o,p=i+n,d=a+o;e.moveTo(i,d),e.bezierCurveTo(i,d-l,p-s,a,p,a),e.bezierCurveTo(p+s,a,u,d-l,u,d),e.bezierCurveTo(u,d+l,p+s,c,p,c),e.bezierCurveTo(p-s,c,i,d+l,i,d),e.closePath()},renderEllipse=function(e){return R.tap(function(t){var r=getProp$2("cx",t),n=getProp$2("cy",t),o=getProp$2("rx",t),i=getProp$2("ry",t);drawEllipse(e,r,n,o,i)})},getProp$3=function(e,t){return R.path(["props",e],t)},renderCircle=function(e){return R.tap(function(t){var r=getProp$3("cx",t),n=getProp$3("cy",t),o=getProp$3("r",t);drawEllipse(e,r,n,o,o)})},renderRun=function(e,t){var r=runWidth(t),n=t.attributes,o=n.font,i=n.fontSize,a=n.color,s=n.opacity;if(e.fillColor(a),e.fillOpacity(s),o.sbix||o.COLR&&o.CPAL){e.save(),e.translate(0,-t.ascent);for(var l=0;l<t.glyphs.length;l++){var u=t.positions[l],c=t.glyphs[l];e.save(),e.translate(u.xOffset,u.yOffset),c.render(e,i),e.restore(),e.translate(u.xAdvance,u.yAdvance)}e.restore()}else{e.font("string"==typeof o.name?o.name:o,i);try{e._addGlyphs(t.glyphs,t.positions,0,0)}catch(e){console.log(e)}}e.translate(r,0)},renderSpan=function(e,t,r){e.save();var n=R.pathOr(0,["box","x"],t),o=R.pathOr(0,["box","y"],t),i=lineWidth(t);switch(r){case"middle":e.translate(n-i/2,o);break;case"end":e.translate(n-i,o);break;default:e.translate(n,o)}var a=t.runs,s=Array.isArray(a),l=0;for(a=s?a:a[Symbol.iterator]();;){var u;if(s){if(l>=a.length)break;u=a[l++]}else{if((l=a.next()).done)break;u=l.value}renderRun(e,u)}e.restore()},renderSvgText=function(e){return function(t){var r=t.children,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var i;if(n){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var a=i;renderSpan(e,a.lines[0],a.props.textAnchor)}return t}},isOdd=function(e){return e%2!=0},lengthIsOdd=R.o(isOdd,R.prop("length")),parsePoints=R.compose(R.splitEvery(2),R.map(parseFloat),R.when(lengthIsOdd,R.slice(0,-1)),R.split(/\s+/),R.replace(/(\d)-(\d)/g,"$1 -$2"),R.replace(/,/g," "),R.trim),drawPolyline=function(e){return function(t){t.length>0&&(e.moveTo(t[0][0],t[0][1]),t.slice(1).forEach(function(t){return e.lineTo(t[0],t[1])}))}},renderPolyline=function(e){return R.tap(R.compose(drawPolyline(e),parsePoints,R.pathOr("",["props","points"])))},closePath=function(e){return R.tap(function(){return e.closePath()})},renderPolygon=function(e){return R.compose(closePath(e),renderPolyline(e))};function printWarning(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0,i="Warning: "+e.replace(/%s/g,function(){return r[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}var __DEV__="production"!==process.env.NODE_ENV,warning=__DEV__?function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];printWarning.apply(void 0,[t].concat(n))}}:function(){},drawImage=function(e){return function(t){var r=t.props,n=r.x,o=r.y,i=t.style,a=i.width,s=i.height,l=i.opacity,u=t.box.paddingLeft||0,c=t.box.paddingLeft||0;return t.image.data&&(0!==a&&0!==s?e.fillOpacity(l||1).image(t.image.data,n+c,o+u,{width:a,height:s}):warning(!1,"Image with src '"+t.props.href+"' skipped due to invalid dimensions")),t}},renderImage=function(e,t){return R.compose(restore$1(e),drawImage(e),save$1(e))(t),t},renderSvgImage=R.curryN(2,renderImage),getRotation=function(e){var t=/rotate\((-?\d+.?\d+)(.+)\)/g.exec(e);if(t&&t[1]&&t[2]){var r=t[1];return"rad"===t[2]?180*r/Math.PI:r}return 0},getTranslateX=function(e){var t=/translateX\((-?\d+\.?d*)\)/g.exec(e),r=/translate\((-?\d+\.?d*).*(,|\s)\s*(-?\d+\.?d*).*\)/g.exec(e);return t&&t[1]?t[1]:r&&r[1]?r[1]:0},getTranslateY=function(e){var t=/translateY\((-?\d+\.?\d*)\)/g.exec(e),r=/translate\((-?\d+\.?\d*).*(,|\s)\s*(-?\d+\.?\d*).*\)/g.exec(e);return t&&t[1]?t[1]:r&&r[3]?r[3]:0},getScaleX=function(e){var t=/scaleX\((-?\d+\.?\d*)\)/g.exec(e),r=/scale\((-?\d+\.?\d*).*,?\s*(-?\d+\.?\d*).*\)/g.exec(e);return t&&t[1]?t[1]:r&&r[1]?r[1]:1},getScaleY=function(e){var t=/scaleY\((-?\d+\.?\d*)\)/g.exec(e),r=/scale\((-?\d+\.?\d*).*,?\s*(-?\d+\.?\d*).*\)/g.exec(e);return t&&t[1]?t[1]:r&&r[2]?r[2]:1},getMatrix=function(e){var t=/matrix\(([^,]+),([^,]+),([^,]+),([^,]+),([^,]+),([^,]+)\)/g.exec(e);return t?t.slice(1,7):null},applySingleTransformation=function(e,t,r){/rotate/g.test(t)?e.rotate(getRotation(t),{origin:r}):/scaleX/g.test(t)?e.scale(getScaleX(t),1,{origin:r}):/scaleY/g.test(t)?e.scale(1,getScaleY(t),{origin:r}):/scale/g.test(t)?e.scale(getScaleX(t),getScaleY(t),{origin:r}):/translateX/g.test(t)?e.translate(getTranslateX(t),1,{origin:r}):/translateY/g.test(t)?e.translate(1,getTranslateY(t),{origin:r}):/translate/g.test(t)?e.translate(getTranslateX(t),getTranslateY(t),{origin:r}):/matrix/g.test(t)&&e.transform.apply(e,getMatrix(t))},applyTransformations=function(e,t){if(!t.origin)return t;for(var r,n=/[a-zA-Z]+\([^)]+\)/g,o=[t.origin.left,t.origin.top],i=t.style&&t.style.transform||t.props&&t.props.transform||"";null!=(r=n.exec(i));)applySingleTransformation(e,r[0],o);return t},applyTransformations$1=R.curryN(2,applyTransformations),isPath=R.propEq("type",PATH),isRect=R.propEq("type",RECT),isLine=R.propEq("type",LINE),isTspan=R.propEq("type",TSPAN),isGroup=R.propEq("type",GROUP),isCircle=R.propEq("type",CIRCLE),isTextInstance=R.propEq("type",TEXT_INSTANCE),renderGroup=function(){return R.identity},isEllipse=R.propEq("type",ELLIPSE),isPolygon=R.propEq("type",POLYGON),isPolyline=R.propEq("type",POLYLINE),normalizePath=function(e){for(var t,r=[],n=0,o=0,i=0,a=0,s=null,l=null,u=0,c=0,p=0,d=e.length;p<d;p++){var h=e[p],g=h[0];switch(g){case"M":i=h[1],a=h[2];break;case"A":var f=arcToCurve({px:u,py:c,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!f.length)continue;for(var R,m=0;m<f.length;m++)h=["C",(R=f[m]).x1,R.y1,R.x2,R.y2,R.x,R.y],m<f.length-1&&r.push(h);break;case"S":var v=u,y=c;"C"!==t&&"S"!==t||(v+=v-n,y+=y-o),h=["C",v,y,h[1],h[2],h[3],h[4]];break;case"T":"Q"===t||"T"===t?(s=2*u-s,l=2*c-l):(s=u,l=c),h=quadratic(u,c,s,l,h[1],h[2]);break;case"Q":s=h[1],l=h[2],h=quadratic(u,c,h[1],h[2],h[3],h[4]);break;case"L":h=line(u,c,h[1],h[2]);break;case"H":h=line(u,c,h[1],c);break;case"V":h=line(u,c,u,h[1]);break;case"Z":h=line(u,c,i,a)}t=g,u=h[h.length-2],c=h[h.length-1],h.length>4?(n=h[h.length-4],o=h[h.length-3]):(n=u,o=c),r.push(h)}return r},line=function(e,t,r,n){return["C",e,t,r,n,r,n]},quadratic=function(e,t,r,n,o,i){return["C",e/3+2/3*r,t/3+2/3*n,o/3+2/3*r,i/3+2/3*n,o,i]},getPathBoundingBox=function(e){var t=R.compose(normalizePath,absPath,parsePath,R.pathOr("",["props","d"]))(e);if(!t.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],n=0,o=t.length;n<o;n++)for(var i=t[n].slice(1),a=0;a<i.length;a+=2)i[a+0]<r[0]&&(r[0]=i[a+0]),i[a+1]<r[1]&&(r[1]=i[a+1]),i[a+0]>r[2]&&(r[2]=i[a+0]),i[a+1]>r[3]&&(r[3]=i[a+1]);return r},getCircleBoundingBox=function(e){var t=R.pathOr(0,["props","r"],e),r=R.pathOr(0,["props","cx"],e),n=R.pathOr(0,["props","cy"],e);return[r-t,n-t,r+t,n+t]},getEllipseBoundingBox=function(e){var t=R.pathOr(0,["props","cx"],e),r=R.pathOr(0,["props","cy"],e),n=R.pathOr(0,["props","rx"],e),o=R.pathOr(0,["props","ry"],e);return[t-n,r-o,t+n,r+o]},getLineBoundingBox=function(e){var t=R.pathOr(0,["props","x1"],e),r=R.pathOr(0,["props","y1"],e),n=R.pathOr(0,["props","x2"],e),o=R.pathOr(0,["props","y2"],e);return[R.min(t,n),R.min(r,o),R.max(t,n),R.max(r,o)]},getRectBoundingBox=function(e){var t=R.pathOr(0,["props","x"],e),r=R.pathOr(0,["props","y"],e);return[t,r,t+R.pathOr(0,["props","width"],e),r+R.pathOr(0,["props","height"],e)]},max=R.reduce(R.max,-1/0),min=R.reduce(R.min,1/0),getPolylineBoundingBox=function(e){var t=R.compose(parsePoints,R.pathOr([],["props","points"]))(e),r=R.pluck(0,t),n=R.pluck(1,t);return[min(r),min(n),max(r),max(n)]},getBoundingBox=R.cond([[isRect,getRectBoundingBox],[isLine,getLineBoundingBox],[isPath,getPathBoundingBox],[isCircle,getCircleBoundingBox],[isEllipse,getEllipseBoundingBox],[isPolygon,getPolylineBoundingBox],[isPolyline,getPolylineBoundingBox],[R.T,R.always([0,0,0,0])]]),warnUnsupportedNode=R.tap(function(e){console.warn("SVG node of type "+e.type+" is not currenty supported")}),getProp$4=function(e,t,r){return R.pathOr(e,["props",t],r)},setStrokeWidth=function(e){return function(t){var r=getProp$4(0,"strokeWidth",t);return r&&e.lineWidth(r),t}},setStrokeColor=function(e){return function(t){var r=getProp$4(null,"stroke",t);return r&&e.strokeColor(r),t}},setOpacity=function(e){return function(t){var r=getProp$4(null,"opacity",t);return r&&e.opacity(r),t}},setFillOpacity=function(e){return function(t){var r=getProp$4(null,"fillOpacity",t);return r&&e.fillOpacity(r),t}},setStrokeOpacity=function(e){return function(t){var r=getProp$4(null,"strokeOpacity",t);return r&&e.strokeOpacity(r),t}},setLineJoin=function(e){return function(t){var r=getProp$4(null,"strokeLinejoin",t);return r&&e.lineJoin(r),t}},setLineCap=function(e){return function(t){var r=getProp$4(null,"strokeLinecap",t);return r&&e.lineCap(r),t}},setLineDash=function(e){return function(t){var r=getProp$4(null,"strokeDasharray",t);if(r){var n=R.compose(R.map(R.o(parseFloat,R.trim)),R.split(","))(r);e.dash(n[0],{space:n[1]})}return t}},hasLinearGradientFill=R.pathEq(["props","fill","type"],LINEAR_GRADIENT),hasRadialGradientFill=R.pathEq(["props","fill","type"],RADIAL_GRADIENT),setLinearGradientFill=function(e){return R.tap(function(t){var r=getBoundingBox(t),n=getProp$4(null,"fill",t),o=R.pathOr(0,["props","x1"],n),i=R.pathOr(0,["props","y1"],n),a=R.pathOr(1,["props","x2"],n),s=R.pathOr(0,["props","y2"],n),l=r[2]-r[0],u=r[3]-r[1],c=r[0],p=r[1],d=l*o+c,h=u*i+p,g=l*a+c,f=u*s+p,m=e.linearGradient(d,h,g,f);n.children.forEach(function(e){m.stop(e.props.offset,e.props.stopColor,e.props.stopOpacity)}),e.fill(m)})},setRadialGradientFill=function(e){return R.tap(function(t){var r=getBoundingBox(t),n=getProp$4(null,"fill",t),o=R.pathOr(.5,["props","cx"],n),i=R.pathOr(.5,["props","cy"],n),a=R.pathOr(o,["props","fx"],n),s=R.pathOr(i,["props","fy"],n),l=R.pathOr(.5,["props","r"],n),u=r[2]-r[0],c=r[3]-r[1],p=r[0],d=r[1],h=l*u,g=u*o+p,f=c*i+d,m=u*a+p,v=c*s+d,y=e.radialGradient(m,v,0,g,f,h);n.children.forEach(function(e){y.stop(e.props.offset,e.props.stopColor,e.props.stopOpacity)}),e.fill(y)})},setFillColor=function(e){return R.tap(function(t){var r=getProp$4(null,"fill",t);r&&e.fillColor(r)})},setFill=function(e){return R.cond([[hasLinearGradientFill,setLinearGradientFill(e)],[hasRadialGradientFill,setRadialGradientFill(e)],[R.T,setFillColor(e)]])},draw=function(e){return function(t){var r=R.propOr({},"props",t);return r.fill&&r.stroke?e.fillAndStroke(r.fillRule):r.fill?e.fill(r.fillRule):r.stroke?e.stroke():(e.save(),e.opacity(0),e.fill(null),e.restore()),t}},renderNode=function(e){return R.cond([[isTspan,R.identity],[isTextInstance,R.identity],[isPath,renderPath(e)],[isRect,renderRect(e)],[isLine,renderLine(e)],[isGroup,renderGroup(e)],[isText,renderSvgText(e)],[isCircle,renderCircle(e)],[isImage,renderSvgImage(e)],[isEllipse,renderEllipse(e)],[isPolygon,renderPolygon(e)],[isPolyline,renderPolyline(e)],[R.T,warnUnsupportedNode]])},drawNode=function(e){return R.compose(draw(e),renderNode(e),applyTransformations$1(e),setOpacity(e),setFillOpacity(e),setStrokeOpacity(e),setFill(e),setStrokeColor(e),setStrokeWidth(e),setLineJoin(e),setLineDash(e),setLineCap(e))},clipPath=function(e){return function(t){var r=R.path(["props","clipPath"],t);return r&&R.compose(function(){return e.clip()},R.forEach(renderNode(e)),R.propOr([],"children"))(r),t}},drawChildren=function e(t){return function(r){return R.compose(R.map(R.compose(restore$1(t),e(t),drawNode(t),clipPath(t),save$1(t))),R.propOr([],"children"))(r)}},defaultsZero=R.pathOr(0),preserveAspectRatio=function(e){return function(t){var r=t.box,n=r.width,o=r.height,i=t.props,a=i.viewBox,s=i.preserveAspectRatio,l=void 0===s?{}:s,u=l.meetOrSlice,c=void 0===u?"meet":u,p=l.align,d=void 0===p?"xMidYMid":p;if(null==a||null==n||null==o)return t;var h=a?a.minX:0,g=a?a.minY:0,f=a?a.maxX:n,R=a?a.maxY:o,m=f/R,v=n/o,y=n/f,b=o/R;if("none"===d)return e.scale(y,b),e.translate(-h,-g),t;if(m<v&&"meet"===c||m>=v&&"slice"===c)switch(e.scale(b,b),d){case"xMinYMin":case"xMinYMid":case"xMinYMax":e.translate(-h,-g);break;case"xMidYMin":case"xMidYMid":case"xMidYMax":e.translate(-h-(f-n*R/o)/2,-g);break;default:e.translate(-h-(f-n*R/o),-g)}else switch(e.scale(y,y),d){case"xMinYMin":case"xMidYMin":case"xMaxYMin":e.translate(-h,-g);break;case"xMinYMid":case"xMidYMid":case"xMaxYMid":e.translate(-h,-g-(R-o*f/n)/2);break;default:e.translate(-h,-g-(R-o*f/n))}return t}},moveToOrigin=function(e){return function(t){var r=t.box,n=r.top,o=r.left,i=defaultsZero("paddingLeft",t.box),a=defaultsZero("paddingTop",t.box);return e.translate(o+i,n+a),t}},renderSvg=function(e,t){return R.compose(restore$1(e),drawChildren(e),preserveAspectRatio(e),moveToOrigin(e),clipNode$1(e),save$1(e))(t),t},renderSvg$1=R.curryN(2,renderSvg),renderText=function(e,t){var r=t.box,n=r.top,o=r.left,i=R.pathOr(0,["box","paddingTop"],t),a=R.pathOr(0,["box","paddingLeft"],t),s=t.lines[0]?t.lines[0].box.y:0;return e.save(),e.translate(o+a,n+i-s),PDFRenderer.render(e,[t.lines]),e.restore(),t},renderText$1=R.curryN(2,renderText),renderPage=function(e,t){var r=t.box,n=r.width,o=r.height;return e.addPage({size:[n,o],margin:0}),t},renderPage$1=R.curryN(2,renderPage),renderNote=function(e,t){var r=t.box,n=r.top,o=r.left,i=t.children[0]?t.children[0].value:"";return e.note(o,n,0,0,i),t},renderNote$1=R.curryN(2,renderNote),isPercent=function(e){return/((-)?\d+\.?\d*)%/g.exec(e)},matchPercent=function(e){var t=isPercent(e);if(t){var r=parseFloat(t[1],10),n=r/100;return{value:r,percent:n,absValue:Math.abs(r),absPercent:Math.abs(n)}}return null},isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},applyContainObjectFit=function(e,t,r,n,o,i){var a=e/t,s=r/n,l=matchPercent(o),u=matchPercent(i),c=l?l.percent:.5,p=u?u.percent:.5;if(a>s){var d=t,h=d*s,g=isNumeric(i)?i:0;return{width:h,height:d,xOffset:isNumeric(o)?o:(e-h)*c,yOffset:g}}var f=e,R=f/s,m=isNumeric(o)?o:0;return{width:f,height:R,yOffset:isNumeric(i)?i:(t-R)*p,xOffset:m}},applyNoneObjectFit=function(e,t,r,n,o,i){var a=r,s=n,l=matchPercent(o),u=matchPercent(i),c=l?l.percent:.5,p=u?u.percent:.5;return{width:a,height:s,xOffset:isNumeric(o)?o:(e-a)*c,yOffset:isNumeric(i)?i:(t-s)*p}},applyCoverObjectFit=function(e,t,r,n,o,i){var a=r/n,s=e/t,l=matchPercent(o),u=matchPercent(i),c=l?l.percent:.5,p=u?u.percent:.5;if(s>a){var d=e,h=d/a,g=isNumeric(o)?o:0;return{width:d,height:h,yOffset:isNumeric(i)?i:(t-h)*p,xOffset:g}}var f=t*a;return{width:f,height:t,xOffset:isNumeric(o)?o:(e-f)*c,yOffset:isNumeric(i)?i:0}},applyScaleDownObjectFit=function(e,t,r,n,o,i){var a=applyContainObjectFit(e,t,r,n,o,i),s=applyNoneObjectFit(e,t,r,n,o,i);return a.width<s.width?a:s},applyFillObjectFit=function(e,t,r,n){return{width:e,height:t,xOffset:matchPercent(r)?0:r||0,yOffset:matchPercent(n)?0:n||0}},resolveObjectFit=function(e,t,r,n,o,i,a){switch(void 0===e&&(e="fill"),e){case"contain":return applyContainObjectFit(t,r,n,o,i,a);case"cover":return applyCoverObjectFit(t,r,n,o,i,a);case"none":return applyNoneObjectFit(t,r,n,o,i,a);case"scale-down":return applyScaleDownObjectFit(t,r,n,o,i,a);default:return applyFillObjectFit(t,r,i,a)}},drawImage$1=function(e){return function(t){var r=t.box,n=r.left,o=r.top,i=t.style,a=i.opacity,s=i.objectPositionX,l=i.objectPositionY,u=t.box.paddingLeft||0,c=t.box.paddingRight||0,p=t.box.paddingBottom||0,d=t.box.paddingLeft||0,h=resolveObjectFit(t.style.objectFit,t.box.width-d-c,t.box.height-u-p,t.image.width,t.image.height,s,l),g=h.width,f=h.height,R=h.xOffset,m=h.yOffset;return t.image.data&&(0!==g&&0!==f?e.fillOpacity(a||1).image(t.image.data,n+d+R,o+u+m,{width:g,height:f}):warning(!1,"Image with src '"+t.props.src+"' skipped due to invalid dimensions")),t}},renderImage$1=function(e,t){return R.compose(restore$1(e),drawImage$1(e),clipNode$1(e),save$1(e))(t),t},renderImage$2=R.curryN(2,renderImage$1),availableMethods=["dash","clip","save","path","fill","font","text","rect","scale","moveTo","lineTo","stroke","rotate","circle","lineCap","opacity","ellipse","polygon","restore","lineJoin","fontSize","fillColor","lineWidth","translate","miterLimit","strokeColor","fillOpacity","roundedRect","strokeOpacity","bezierCurveTo","quadraticCurveTo","linearGradient","radialGradient"],painter=function(e){var t=availableMethods.reduce(function(r,n){var o;return _extends({},r,((o={})[n]=function(){return e[n].apply(e,arguments),t},o))},{});return t},defaultsZero$1=R.pathOr(0),renderCanvas=function(e,t){var r=t.box,n=r.top,o=r.left,i=r.width,a=r.height,s=defaultsZero$1("paddingLeft",t.box),l=defaultsZero$1("paddingRight",t.box),u=defaultsZero$1("paddingTop",t.box),c=i-s-l,p=a-u-defaultsZero$1("paddingBottom",t.box);return warning(c&&p,"Canvas element has null width or height. Please provide valid values via the `style` prop in order to correctly render it."),e.save().translate(o+s,n+u),t.props.paint&&t.props.paint(painter(e),c,p),e.restore(),t},renderCanvas$1=R.curryN(2,renderCanvas),hasVerticalRuler=R.either(R.hasPath(["props","ruler"]),R.hasPath(["props","verticalRuler"])),hasHorizontalRuler=R.either(R.hasPath(["props","ruler"]),R.hasPath(["props","horizontalRuler"])),range=function(e,t){return Array.from({length:Math.ceil(e/t)},function(e,r){return r*t})},matchPercentage=function(e){var t=matchPercent(e);return t?100/t.value:null},getVerticalSteps=function(e){var t=e.props.horizontalRulerSteps||e.props.rulerSteps||DEFAULT_RULER_STEPS;if("string"==typeof t){var r=matchPercentage(t);if(r)return(e.box.width-(hasVerticalRuler(e)?RULER_WIDTH:0))/r;throw new Error("Page: Invalid horizontal steps value")}return t},getHorizontalSteps=function(e){var t=e.props.verticalRulerSteps||e.props.rulerSteps||DEFAULT_RULER_STEPS;if("string"==typeof t){var r=matchPercentage(t);if(r)return(e.box.height-(hasVerticalRuler(e)?RULER_WIDTH:0))/r;throw new Error("Page: Invalid horizontal steps value")}return t},renderVerticalRuler=function(e){return function(t){var r=t.box.width,n=t.box.height,o=hasHorizontalRuler(t)?RULER_WIDTH:0,i=range(r,getVerticalSteps(t));return e.rect(o,0,r,RULER_WIDTH).fill(RULER_COLOR).moveTo(o,RULER_WIDTH).lineTo(r,RULER_WIDTH).stroke(LINE_COLOR),i.map(function(t){e.moveTo(o+t,0).lineTo(o+t,RULER_WIDTH).stroke(LINE_COLOR).fillColor("black").text(""+Math.round(t),o+t+1,1),0!==t&&e.moveTo(o+t,RULER_WIDTH).lineTo(o+t,n).stroke(GRID_COLOR)}),t}},renderHorizontalRuler=function(e){return function(t){var r=t.box.width,n=t.box.height,o=hasVerticalRuler(t)?RULER_WIDTH:0,i=range(n,getHorizontalSteps(t));return e.rect(0,o,RULER_WIDTH,n).fill(RULER_COLOR).moveTo(RULER_WIDTH,hasHorizontalRuler(t)?RULER_WIDTH:0).lineTo(RULER_WIDTH,n).stroke(LINE_COLOR),i.map(function(t){e.moveTo(0,o+t).lineTo(RULER_WIDTH,o+t).stroke(LINE_COLOR).fillColor("black").text(""+Math.round(t),1,o+t+1),0!==t&&e.moveTo(RULER_WIDTH,o+t).lineTo(r,o+t).stroke(GRID_COLOR)}),t}},renderRulers=function(e,t){return e.save().lineWidth(LINE_WIDTH).fontSize(RULER_FONT_SIZE).opacity(1),R.compose(R.when(hasVerticalRuler,renderVerticalRuler(e)),R.when(hasHorizontalRuler,renderHorizontalRuler(e)))(t),e.restore(),t},renderRulers$1=R.curryN(2,renderRulers),getDocumentProp=function(e){return function(t,r){return R.pathOr(t,["props",r],e)}},setPDFMetadata=function(e){return function(t,r){r&&(e.info[t]=r)}},addMetadata=function(e,t){var r=getDocumentProp(t),n=setPDFMetadata(e),o=r(null,"title"),i=r(null,"author"),a=r(null,"subject"),s=r(null,"keywords"),l=r("react-pdf","creator"),u=r("react-pdf","producer");return n("Title",o),n("Author",i),n("Subject",a),n("Keywords",s),n("Creator",l),n("Producer",u),t},addMetadata$1=R.curryN(2,addMetadata),CONTENT_COLOR="#a1c6e7",PADDING_COLOR="#c4deb9",MARGIN_COLOR="#f8cca1",shouldDebug=R.pathEq(["props","debug"],!0),debugContent=function(e){return R.tap(function(t){var r=t.box,n=r.left,o=r.top,i=r.width,a=r.height,s=r.paddingLeft,l=r.paddingTop,u=r.paddingRight,c=r.paddingBottom,p=r.borderLeftWidth,d=r.borderTopWidth,h=r.borderRightWidth,g=r.borderBottomWidth;e.fillColor(CONTENT_COLOR).opacity(.5).rect(n+s+p,o+l+d,i-s-u-h-p,a-l-c-d-g).fill()})},debugPadding=function(e){return R.tap(function(t){var r=t.box,n=r.left,o=r.top,i=r.width,a=r.height,s=r.paddingLeft,l=r.paddingTop,u=r.paddingRight,c=r.paddingBottom,p=r.borderLeftWidth,d=r.borderTopWidth,h=r.borderRightWidth,g=r.borderBottomWidth;e.fillColor(PADDING_COLOR).opacity(.5),e.rect(n+s+p,o+d,i-u-s-p-h,l).fill(),e.rect(n+p,o+d,s,a-d-g).fill(),e.rect(n+i-u-h,o+d,u,a-d-g).fill(),e.rect(n+s+p,o+a-c-g,i-u-s-p-h,c).fill()})},debugMargin=function(e){return R.tap(function(t){var r=t.box,n=r.left,o=r.top,i=r.width,a=r.height,s=r.marginLeft,l=r.marginTop,u=r.marginRight,c=r.marginBottom;e.fillColor(MARGIN_COLOR).opacity(.5),e.rect(n,o-l,i,l).fill(),e.rect(n-s,o-l,s,a+l+c).fill(),e.rect(n+i,o-l,u,a+l+c).fill(),e.rect(n,o+a,i,c).fill()})},debugText=function(e){return R.tap(function(t){var r=t.box,n=r.left,o=r.top,i=r.width,a=r.height,s=r.marginLeft,l=r.marginTop,u=r.marginRight,c=r.marginBottom,p=Math.round(i+s+u),d=Math.round(a+l+c);e.fontSize(4).opacity(1).fillColor("black").text(p+" x "+d,n-s,Math.max(o-l-4,1))})},debugOrigin=function(e){return R.tap(function(t){t.origin&&e.circle(t.origin.left,t.origin.top,3).fill("red").circle(t.origin.left,t.origin.top,5).stroke("red")})},renderDebug=function(e){return R.tap(R.when(shouldDebug,R.compose(restore$1(e),debugOrigin(e),debugText(e),debugMargin(e),debugPadding(e),debugContent(e),save$1(e))))},KAPPA$3=(Math.sqrt(2)-1)/3*4,clipBorderTop=function(e,t,r,n,o){var i=t.top,a=t.left,s=t.width,l=t.height,u=r.borderTopWidth,c=r.borderRightWidth,p=r.borderLeftWidth;e.moveTo(a+o,i),e.lineTo(a+s-n,i);var d=n*(1-KAPPA$3);e.bezierCurveTo(a+s-d,i,a+s,i+d,a+s,i+n);var h=i+Math.max(u,n);e.lineTo(a+s,h),e.lineTo(a+s-c,h);var g=Math.max(n-c,0),f=Math.max(n-u,0),R=g*(1-KAPPA$3),m=f*(1-KAPPA$3);e.bezierCurveTo(a+s-c,i+u+m,a+s-c-R,i+u,a+s-c-g,i+u),e.lineTo(a+Math.max(o,p),i+u);var v=Math.max(o-p,0),y=Math.max(o-u,0),b=v*(1-KAPPA$3),T=y*(1-KAPPA$3),P=i+Math.max(u,o);e.bezierCurveTo(a+p+b,i+u,a+p,i+u+T,a+p,P),e.lineTo(a,P),e.lineTo(a,i+o);var x=o*(1-KAPPA$3);if(e.bezierCurveTo(a,i+x,a+x,i,a+o,i),e.closePath(),e.clip(),c){var E=-u/c;e.moveTo(a+s/2,E*(-s/2)+i),e.lineTo(a+s,i),e.lineTo(a,i),e.lineTo(a,i+l),e.closePath(),e.clip()}if(p){var S=-u/p;e.moveTo(a+s/2,S*(-s/2)+i),e.lineTo(a,i),e.lineTo(a+s,i),e.lineTo(a+s,i+l),e.closePath(),e.clip()}},fillBorderTop=function(e,t,r,n,o){var i=t.top,a=t.left,s=t.width,l=r.borderTopColor,u=r.borderTopWidth,c=r.borderTopStyle,p=r.borderRightWidth,d=r.borderLeftWidth,h=o*(1-KAPPA$3),g=n*(1-KAPPA$3);e.moveTo(a,i+Math.max(o,u)),e.bezierCurveTo(a,i+h,a+h,i,a+o,i),e.lineTo(a+s-n,i),e.bezierCurveTo(a+s-g,i,a+s,i+g,a+s,i+n),e.strokeColor(l),e.lineWidth(2*Math.max(p,u,d)),"dashed"===c?e.dash(2*u,{space:1.2*u}):"dotted"===c&&e.dash(u,{space:1.2*u}),e.stroke(),e.undash()},clipBorderRight=function(e,t,r,n,o){var i=t.top,a=t.left,s=t.width,l=t.height,u=r.borderTopWidth,c=r.borderRightWidth,p=r.borderBottomWidth;e.moveTo(a+s,i+n),e.lineTo(a+s,i+l-o);var d=o*(1-KAPPA$3);e.bezierCurveTo(a+s,i+l-d,a+s-d,i+l,a+s-o,i+l);var h=a+s-Math.max(c,o);e.lineTo(h,i+l),e.lineTo(h,i+l-p);var g=Math.max(o-c,0),f=Math.max(o-p,0),R=g*(1-KAPPA$3),m=f*(1-KAPPA$3);e.bezierCurveTo(a+s-c-R,i+l-p,a+s-c,i+l-p-m,a+s-c,i+l-Math.max(o,p)),e.lineTo(a+s-c,i+Math.max(n,u));var v=Math.max(n-c,0),y=Math.max(n-u,0),b=v*(1-KAPPA$3),T=y*(1-KAPPA$3),P=a+s-Math.max(n,c);e.bezierCurveTo(a+s-c,i+u+T,a+s-c-b,i+u,P,i+u),e.lineTo(P,i),e.lineTo(a+s-n,i);var x=n*(1-KAPPA$3);if(e.bezierCurveTo(a+s-x,i,a+s,i+x,a+s,i+n),e.closePath(),e.clip(),u){var E=-u/c;e.moveTo(a+s/2,E*(-s/2)+i),e.lineTo(a+s,i),e.lineTo(a+s,i+l),e.lineTo(a,i+l),e.closePath(),e.clip()}if(p){var S=p/c;e.moveTo(a+s/2,S*(-s/2)+i+l),e.lineTo(a+s,i+l),e.lineTo(a+s,i),e.lineTo(a,i),e.closePath(),e.clip()}},fillBorderRight=function(e,t,r,n,o){var i=t.top,a=t.left,s=t.width,l=t.height,u=r.borderRightColor,c=r.borderRightStyle,p=r.borderRightWidth,d=r.borderTopWidth,h=r.borderBottomWidth,g=o*(1-KAPPA$3),f=n*(1-KAPPA$3);e.moveTo(a+s-n,i),e.bezierCurveTo(a+s-f,i,a+s,i+f,a+s,i+n),e.lineTo(a+s,i+l-o),e.bezierCurveTo(a+s,i+l-g,a+s-g,i+l,a+s-o,i+l),e.strokeColor(u),e.lineWidth(2*Math.max(p,d,h)),"dashed"===c?e.dash(2*p,{space:1.2*p}):"dotted"===c&&e.dash(p,{space:1.2*p}),e.stroke(),e.undash()},clipBorderBottom=function(e,t,r,n,o){var i=t.top,a=t.left,s=t.width,l=t.height,u=r.borderBottomWidth,c=r.borderRightWidth,p=r.borderLeftWidth;e.moveTo(a+s-o,i+l),e.lineTo(a+n,i+l);var d=n*(1-KAPPA$3);e.bezierCurveTo(a+d,i+l,a,i+l-d,a,i+l-n);var h=i+l-Math.max(u,n);e.lineTo(a,h),e.lineTo(a+p,h);var g=Math.max(n-p,0),f=Math.max(n-u,0),R=g*(1-KAPPA$3),m=f*(1-KAPPA$3);e.bezierCurveTo(a+p,i+l-u-m,a+p+R,i+l-u,a+p+g,i+l-u),e.lineTo(a+s-Math.max(o,c),i+l-u);var v=Math.max(o-c,0),y=Math.max(o-u,0),b=v*(1-KAPPA$3),T=y*(1-KAPPA$3),P=i+l-Math.max(u,o);e.bezierCurveTo(a+s-c-b,i+l-u,a+s-c,i+l-u-T,a+s-c,P),e.lineTo(a+s,P),e.lineTo(a+s,i+l-o);var x=o*(1-KAPPA$3);if(e.bezierCurveTo(a+s,i+l-x,a+s-x,i+l,a+s-o,i+l),e.closePath(),e.clip(),c){var E=u/c;e.moveTo(a+s/2,E*(-s/2)+i+l),e.lineTo(a+s,i+l),e.lineTo(a,i+l),e.lineTo(a,i),e.closePath(),e.clip()}if(p){var S=-u/p;e.moveTo(a+s/2,S*(s/2)+i+l),e.lineTo(a,i+l),e.lineTo(a+s,i+l),e.lineTo(a+s,i),e.closePath(),e.clip()}},fillBorderBottom=function(e,t,r,n,o){var i=t.top,a=t.left,s=t.width,l=t.height,u=r.borderBottomColor,c=r.borderBottomStyle,p=r.borderBottomWidth,d=r.borderRightWidth,h=r.borderLeftWidth,g=n*(1-KAPPA$3),f=o*(1-KAPPA$3);e.moveTo(a+s,i+l-o),e.bezierCurveTo(a+s,i+l-f,a+s-f,i+l,a+s-o,i+l),e.lineTo(a+n,i+l),e.bezierCurveTo(a+g,i+l,a,i+l-g,a,i+l-n),e.strokeColor(u),e.lineWidth(2*Math.max(p,d,h)),"dashed"===c?e.dash(2*p,{space:1.2*p}):"dotted"===c&&e.dash(p,{space:1.2*p}),e.stroke(),e.undash()},clipBorderLeft=function(e,t,r,n,o){var i=t.top,a=t.left,s=t.width,l=t.height,u=r.borderTopWidth,c=r.borderLeftWidth,p=r.borderBottomWidth;e.moveTo(a,i+l-n),e.lineTo(a,i+o);var d=o*(1-KAPPA$3);e.bezierCurveTo(a,i+d,a+d,i,a+o,i);var h=a+Math.max(c,o);e.lineTo(h,i),e.lineTo(h,i+u);var g=Math.max(o-c,0),f=Math.max(o-u,0),R=g*(1-KAPPA$3),m=f*(1-KAPPA$3);e.bezierCurveTo(a+c+R,i+u,a+c,i+u+m,a+c,i+Math.max(o,u)),e.lineTo(a+c,i+l-Math.max(n,p));var v=Math.max(n-c,0),y=Math.max(n-p,0),b=v*(1-KAPPA$3),T=y*(1-KAPPA$3),P=a+Math.max(n,c);e.bezierCurveTo(a+c,i+l-p-T,a+c+b,i+l-p,P,i+l-p),e.lineTo(P,i+l),e.lineTo(a+n,i+l);var x=n*(1-KAPPA$3);if(e.bezierCurveTo(a+x,i+l,a,i+l-x,a,i+l-n),e.closePath(),e.clip(),p){var E=-p/c;e.moveTo(a+s/2,E*(s/2)+i+l),e.lineTo(a,i+l),e.lineTo(a,i),e.lineTo(a+s,i),e.closePath(),e.clip()}if(p){var S=-u/c;e.moveTo(a+s/2,S*(-s/2)+i),e.lineTo(a,i),e.lineTo(a,i+l),e.lineTo(a+s,i+l),e.closePath(),e.clip()}},fillBorderLeft=function(e,t,r,n,o){var i=t.top,a=t.left,s=t.height,l=r.borderLeftColor,u=r.borderLeftStyle,c=r.borderLeftWidth,p=r.borderTopWidth,d=r.borderBottomWidth,h=n*(1-KAPPA$3),g=o*(1-KAPPA$3);e.moveTo(a+n,i+s),e.bezierCurveTo(a+h,i+s,a,i+s-h,a,i+s-n),e.lineTo(a,i+o),e.bezierCurveTo(a,i+g,a+g,i,a+o,i),e.strokeColor(l),e.lineWidth(2*Math.max(c,p,d)),"dashed"===u?e.dash(2*c,{space:1.2*c}):"dotted"===u&&e.dash(c,{space:1.2*c}),e.stroke(),e.undash()},shouldRenderBorders=function(e){return e.box&&(e.box.borderTopWidth||e.box.borderRightWidth||e.box.borderBottomWidth||e.box.borderLeftWidth)},renderBorders=function(e,t){if(!shouldRenderBorders(t))return t;var r=t.box,n=r.width,o=r.height,i=r.borderTopWidth,a=r.borderLeftWidth,s=r.borderRightWidth,l=r.borderBottomWidth,u=t.style,c=u.opacity,p=u.borderTopLeftRadius,d=void 0===p?0:p,h=u.borderTopRightRadius,g=void 0===h?0:h,f=u.borderBottomLeftRadius,R=void 0===f?0:f,m=u.borderBottomRightRadius,v=void 0===m?0:m,y=u.borderTopColor,b=void 0===y?"black":y,T=u.borderTopStyle,P=void 0===T?"solid":T,x=u.borderLeftColor,E=void 0===x?"black":x,S=u.borderLeftStyle,C=void 0===S?"solid":S,O=u.borderRightColor,A=void 0===O?"black":O,w=u.borderRightStyle,_=void 0===w?"solid":w,L=u.borderBottomColor,N=void 0===L?"black":L,I=u.borderBottomStyle,D={borderTopColor:b,borderTopWidth:i,borderTopStyle:P,borderLeftColor:E,borderLeftWidth:a,borderLeftStyle:C,borderRightColor:A,borderRightWidth:s,borderRightStyle:_,borderBottomColor:N,borderBottomWidth:l,borderBottomStyle:void 0===I?"solid":I,borderTopLeftRadius:d,borderTopRightRadius:g,borderBottomLeftRadius:R,borderBottomRightRadius:v},F=Math.min(g,.5*n,.5*o),B=Math.min(d,.5*n,.5*o),k=Math.min(v,.5*n,.5*o),M=Math.min(R,.5*n,.5*o);return e.save(),e.strokeOpacity(c),i&&(e.save(),clipBorderTop(e,t.box,D,F,B),fillBorderTop(e,t.box,D,F,B),e.restore()),s&&(e.save(),clipBorderRight(e,t.box,D,F,k),fillBorderRight(e,t.box,D,F,k),e.restore()),l&&(e.save(),clipBorderBottom(e,t.box,D,M,k),fillBorderBottom(e,t.box,D,M,k),e.restore()),a&&(e.save(),clipBorderLeft(e,t.box,D,M,B),fillBorderLeft(e,t.box,D,M,B),e.restore()),e.restore(),t},renderBorders$1=R.curryN(2,renderBorders),setDestination=function(e){return R.tap(function(t){t.props.id&&e.addNamedDestination(t.props.id,"XYZ",null,t.box.top,null)})},drawBackground=function(e){return function(t){if(t.box&&t.style.backgroundColor){var r=t.box,n=r.top,o=r.left,i=r.width,a=r.height;e.fillOpacity(t.style.opacity||1).fillColor(t.style.backgroundColor).rect(o,n,i,a).fill()}return t}},shouldRenderBackground=R.hasPath(["style","backgroundColor"]),renderBackground=function(e,t){return R.when(shouldRenderBackground,R.compose(restore$1(e),drawBackground(e),clipNode$1(e),save$1(e)))(t),t},renderBackground$1=R.curryN(2,renderBackground),shouldRenderChildren=function(e){return!isText(e)&&!isSvg(e)},renderChildren=function(e){return function(t){return save$1(e,t),e.translate(t.box.left,t.box.top),R.compose(R.forEach(renderNode$1(e)),R.pathOr([],["children"]))(t),restore$1(e,t),t}},renderNode$1=function(e){return function(t){return R.compose(restore$1(e),renderDebug(e),setDestination(e),R.when(shouldRenderChildren,renderChildren(e)),R.when(R.either(isText,isLink),setLink$1(e)),R.cond([[isText,renderText$1(e)],[isNote,renderNote$1(e)],[isImage,renderImage$2(e)],[isCanvas,renderCanvas$1(e)],[isSvg,renderSvg$1(e)],[R.T,R.identity]]),renderBorders$1(e),renderBackground$1(e),applyTransformations$1(e),save$1(e),R.when(isPage,renderPage$1(e)))(t)}},renderDocument=function(e){return R.compose(R.forEach(R.compose(renderRulers$1(e),renderNode$1(e))),R.pathOr([],["children"]))},render=function(e,t){return addMetadata$1(e)(t),renderDocument(e)(t),e.end(),Font$1.reset(),e},capitalize=function(e){return e?e.replace(/(^|\s)\S/g,function(e){return e.toUpperCase()}):e},upperFirst=R.ifElse(R.isNil,R.identity,R.compose(R.join(""),R.juxt([R.compose(R.toUpper,R.head),R.tail]))),upperFirst$1=R.memoizeWith(R.identity,upperFirst),transformText=function(e,t){switch(t){case"uppercase":return e.toUpperCase();case"lowercase":return e.toLowerCase();case"capitalize":return capitalize(e);case"upperfirst":return upperFirst$1(e);default:return e}},StandardFont=function(){function e(e){this.name=e,this.src=PDFDocument.PDFFont.open(null,e)}var t=e.prototype;return t.layout=function(e){var t=this,r=this.src.encode(e),n=r[0],o=r[1];return{positions:o,stringIndices:o.map(function(e,t){return t}),glyphs:n.map(function(e,r){var n=t.getGlyph(parseInt(e,16));return n.advanceWidth=o[r].advanceWidth,n})}},t.glyphForCodePoint=function(e){var t=this.getGlyph(e);return t.advanceWidth=400,t},t.getGlyph=function(e){return{id:e,_font:this.src,codePoints:[e],isLigature:!1,name:this.src.font.characterToGlyph(e)}},t.hasGlyphForCodePoint=function(e){return".notdef"!==this.src.font.characterToGlyph(e)},_createClass(e,[{key:"ascent",get:function(){return 900}},{key:"descent",get:function(){switch(this.name){case"Times-Roman":case"Times-Bold":case"Times-Italic":return-220;case"Courier":case"Courier-Bold":case"Courier-Oblique":return-230;default:return-200}}},{key:"lineGap",get:function(){return 0}},{key:"unitsPerEm",get:function(){return 1e3}}]),e}(),fontCache={},IGNORED_CODE_POINTS=[173],getFontSize=R.pathOr(12,["attributes","fontSize"]),getOrCreateFont=function(e){if(fontCache[e])return fontCache[e];var t=new StandardFont(e);return fontCache[e]=t,t},getFallbackFont=function(){return getOrCreateFont("Helvetica")},shouldFallbackToFont=function(e,t){return!IGNORED_CODE_POINTS.includes(e)&&!t.hasGlyphForCodePoint(e)&&getFallbackFont().hasGlyphForCodePoint(e)},fontSubstitution=function(){return function(e){var t=e.string,r=e.runs,n=null,o=0,i=0,a=[],s=r,l=Array.isArray(s),u=0;for(s=l?s:s[Symbol.iterator]();;){var c;if(l){if(u>=s.length)break;c=s[u++]}else{if((u=s.next()).done)break;c=u.value}var p=c,d=getFontSize(p),h="string"==typeof p.attributes.font?getOrCreateFont(p.attributes.font):p.attributes.font;if(0===t.length){a.push({start:0,end:0,attributes:{font:h}});break}var g=t.slice(p.start,p.end),f=Array.isArray(g),m=0;for(g=f?g:g[Symbol.iterator]();;){var v;if(f){if(m>=g.length)break;v=g[m++]}else{if((m=g.next()).done)break;v=m.value}var y=v,b=y.codePointAt(),T=shouldFallbackToFont(b,h)?getFallbackFont():h;T!==n&&(n&&a.push({start:o,end:i,attributes:{font:n,scale:n?d/n.unitsPerEm:0}}),n=T,o=i),i+=y.length}}if(o<t.length){var P=getFontSize(R.last(r));a.push({start:o,end:t.length,attributes:{font:n,scale:n?P/n.unitsPerEm:0}})}return{string:t,runs:a}}},engines={linebreaker:linebreaker,justification:justification,textDecoration:textDecoration,scriptItemizer:scriptItemizer,wordHyphenation:wordHyphenation,fontSubstitution:fontSubstitution},engine=layoutEngine(engines),layoutOptions={hyphenationCallback:Font$1.getHyphenationCallback(),shrinkWhitespaceFactor:{before:-.5,after:-.5}},getFragments=function e(t){if(!t)return[{string:""}];var r=[],n=t.props,o=n.fill,i=void 0===o?"black":o,a=n.fontFamily,s=void 0===a?"Helvetica":a,l=n.fontWeight,u=n.fontStyle,c=n.fontSize,p=void 0===c?18:c,d=n.textDecoration,h=n.textDecorationColor,g=n.textDecorationStyle,f=n.textTransform,R=n.opacity,m=Font$1.getFont({fontFamily:s,fontWeight:l,fontStyle:u}),v={font:m?m.data:s,opacity:R,fontSize:p,color:i,underlineStyle:g,underline:"underline"===d,underlineColor:h||i,strike:"line-through"===d,strikeStyle:g,strikeColor:h||i};return t.children.forEach(function(t){isTextInstance(t)?r.push({string:transformText(t.value,f),attributes:v}):t&&r.push.apply(r,e(t))}),r},getAttributedString=function(e){return AttributedString.fromFragments(getFragments(e))},AlmostInfinity=999999999999,layoutTspan=function(e){var t=getAttributedString(e),r={x:R.pathOr(0,["props","x"],e),y:R.pathOr(0,["props","y"],e),width:AlmostInfinity,height:AlmostInfinity},n=R.compose(R.reduce(R.concat,[]),engine)(t,r,layoutOptions);return R.assoc("lines",n,e)},layoutText=R.evolve({children:R.map(layoutTspan)}),isDefs=R.propEq("type",DEFS),getChildren=R.propOr([],"children"),getId=R.path(["props","id"]),getDefs=R.compose(R.map(R.prop(0)),R.groupBy(getId),getChildren,R.defaultTo({}),R.find(isDefs),getChildren),isNotDefs=R.complement(isDefs),detachDefs=R.evolve({children:R.filter(isNotDefs)}),URL_REGEX=/url\(['"]?#([^'"]+)['"]?\)/,replaceDef=function(e){return R.compose(R.when(R.test(URL_REGEX),R.compose(R.prop(R.__,e),R.prop(1),R.match(URL_REGEX))),R.defaultTo(""))},parseNodeDefs=function e(t){return function(r){return R.compose(R.evolve({props:R.evolve({fill:replaceDef(t),clipPath:replaceDef(t)})}),R.evolve({children:R.map(e(t))}))(r)}},parseDefs=function(e){var t=getDefs(e);return R.evolve({children:R.map(parseNodeDefs(t))},e)},replaceDefs=R.compose(detachDefs,parseDefs),parseViewbox=function(e){if(!e)return null;var t=e.split(/[,\s]+/).map(parseFloat);return 4!==t.length?null:{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},getContainer=function(e){var t=parseViewbox(e.props.viewBox);return t?{width:t.maxX,height:t.maxY}:e.props.width&&e.props.height?{width:parseFloat(e.props.width),height:parseFloat(e.props.height)}:{width:0,height:0}},getInheritProps=R.compose(R.pick(SVG_INHERITED_PROPS),R.propOr({},"props")),inheritProps=function e(t){var r=getInheritProps(t);return R.evolve({children:R.map(R.compose(e,R.evolve({props:R.merge(r)})))})(t)},parseAspectRatio=function(e){var t=e.replace(/[\s\r\t\n]+/gm," ").replace(/^defer\s/,"").split(" ");return{align:t[0]||"xMidYMid",meetOrSlice:t[1]||"meet"}},isRgb=R.test(/rgb/g),isRgba=R.test(/rgba/g),isHsl=R.test(/hsl/g),isHsla=R.test(/hsla/g),parseRgb=R.compose(colorString.to.hex,colorString.get.rgb),parseHsl=R.compose(R.toUpper,R.apply(hlsToHex),R.map(Math.round),colorString.get.hsl),transformColor=function(e){return R.cond([[isRgba,parseRgb],[isRgb,parseRgb],[isHsla,parseHsl],[isHsl,parseHsl],[R.T,R.always(e)]])(e)},transformColors=function(e){return R.map(transformColor,e)},STYLE_PROPS=["width","height","color","stroke","strokeWidth","opacity","fillOpacity","strokeOpacity","fill","fillRule","clipPath","offset","transform","strokeLinejoin","strokeLinecap","strokeDasharray"],VERTICAL_PROPS=["y","y1","y2","height","cy","ry"],HORIZONTAL_PROPS=["x","x1","x2","width","cx","rx"],transformPercent=function(e){return R.mapObjIndexed(function(t,r){var n=matchPercent(t);return n&&VERTICAL_PROPS.includes(r)?n.percent*e.height:n&&HORIZONTAL_PROPS.includes(r)?n.percent*e.width:t})},parsePercent=function(e){var t=matchPercent(e);return t?t.percent:parseFloat(e)},parseProps=function(e){return R.compose(R.evolve({props:R.o(R.evolve({x:parseFloat,x1:parseFloat,x2:parseFloat,y:parseFloat,y1:parseFloat,y2:parseFloat,r:parseFloat,rx:parseFloat,ry:parseFloat,cx:parseFloat,cy:parseFloat,width:parseFloat,height:parseFloat,offset:parsePercent,fill:transformColor,opacity:parsePercent,stroke:transformColor,stopOpacity:parsePercent,stopColor:transformColor}),transformPercent(e))}))},mergeStyles=function(e){var t=R.propOr({},"style",e);return R.evolve({props:R.merge(t)},e)},removeNoneValues=R.evolve({props:R.map(R.when(R.equals("none"),R.always(null)))}),pickStyleProps=function(e){var t=R.o(R.pick(STYLE_PROPS),R.propOr({},"props"))(e);return R.evolve({style:R.merge(t)},e)},parseSvgProps=R.evolve({props:R.evolve({width:parseFloat,height:parseFloat,viewBox:parseViewbox,preserveAspectRatio:parseAspectRatio})}),wrapBetweenTspan=function(e){return{type:"TSPAN",props:{},children:[e]}},addMissingTspan=R.when(isText,R.evolve({children:R.map(R.when(isTextInstance,wrapBetweenTspan))})),resolveSvgNode=function(e){return R.compose(parseProps(e),addMissingTspan,removeNoneValues,mergeStyles)},resolveChildren=function e(t){return function(r){return R.evolve({children:R.map(R.compose(e(t),resolveSvgNode(t)))})(r)}},parseText=function e(t){return R.ifElse(isText,layoutText,R.evolve({children:R.map(e)}))(t)},resolveSvgRoot=function(e){var t=getContainer(e);return R.compose(replaceDefs,parseText,parseSvgProps,pickStyleProps,inheritProps,resolveChildren(t))(e)},resolveSvg=function e(t){return R.compose(R.evolve({children:R.map(e)}),R.when(isSvg,resolveSvgRoot))(t)},getZIndex=R.path(["style","zIndex"]),isType=R.propEq("type"),shouldNotSort=R.anyPass([isType(DOCUMENT),isType(SVG)]),sortZIndex=function(e,t){var r=getZIndex(e),n=getZIndex(t);return r||n?r?n?n-r:-1:1:0},resolveZIndex=function e(t){return R.compose(R.evolve({children:R.map(e)}),R.unless(shouldNotSort,R.evolve({children:R.sort(sortZIndex)})))(t)},adjustPageSize=R.compose(R.when(hasVerticalRuler,R.evolve({box:{height:R.add(RULER_WIDTH)},children:R.map(R.evolve({box:{top:R.add(RULER_WIDTH)}}))})),R.when(hasHorizontalRuler,R.evolve({box:{width:R.add(RULER_WIDTH)},children:R.map(R.evolve({box:{left:R.add(RULER_WIDTH)}}))}))),resolveRulers=R.evolve({children:R.map(adjustPageSize)}),fs={};PNG.isValid=function(e){try{return!!new PNG(e)}catch(e){return!1}};var MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],JPEG=function(e){if(this.data=null,this.width=null,this.height=null,this.data=e,65496!==e.readUInt16BE(0))throw new Error("SOI not found in JPEG");for(var t,r=2;r<e.length&&(t=e.readUInt16BE(r),r+=2,!MARKERS.includes(t));)r+=e.readUInt16BE(r);if(!MARKERS.includes(t))throw new Error("Invalid JPEG.");r+=3,this.height=e.readUInt16BE(r),r+=2,this.width=e.readUInt16BE(r)};JPEG.isValid=function(e){if(!e||!Buffer.isBuffer(e)||65496!==e.readUInt16BE(0))return!1;for(var t,r=2;r<e.length&&(t=e.readUInt16BE(r),r+=2,!MARKERS.includes(t));)r+=e.readUInt16BE(r);return!!MARKERS.includes(t)};var createCache=function(e){var t=(void 0===e?{}:e).limit,r=void 0===t?100:t,n={},o=[];return{get:function(e){return n[e]},set:function(e,t){o.push(e),o.length>r&&delete n[o.shift()],n[e]=t},reset:function(){n={},o=[]},length:function(){return o.length}}},IMAGE_CACHE=createCache({limit:30}),getAbsoluteLocalPath=function(e){throw new Error("Cannot check local paths in client-side environment")},fetchLocalFile=function(e){return new Promise(function(e,t){try{return t(new Error("Cannot fetch local file in this environemnt"))}catch(e){t(e)}})},fetchRemoteFile=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(t,r){var n,o;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r);case 2:return n=e.sent,e.next=5,n.buffer?n.buffer():n.arrayBuffer();case 5:return o=e.sent,e.abrupt("return","Buffer"===o.constructor.name?o:Buffer.from(o));case 7:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),isValidFormat=function(e){var t=e.toLowerCase();return"jpg"===t||"jpeg"===t||"png"===t},guessFormat=function(e){var t;return JPEG.isValid(e)?t="jpg":PNG.isValid(e)&&(t="png"),t},isCompatibleBase64=function(e){var t=e.uri;return/^data:image\/[a-zA-Z]*;base64,[^"]*/g.test(t)};function getImage(e,t){switch(t.toLowerCase()){case"jpg":case"jpeg":return new JPEG(e);case"png":return new PNG(e);default:return null}}var resolveBase64Image=function(e){var t=e.uri,r=/^data:image\/([a-zA-Z]*);base64,([^"]*)/g.exec(t),n=r[1],o=r[2];if(!isValidFormat(n))throw new Error("Base64 image invalid format: "+n);return new Promise(function(e){return e(getImage(Buffer.from(o,"base64"),n))})},resolveImageFromData=function(e){if(e.data&&e.format)return new Promise(function(t){return t(getImage(e.data,e.format))});throw new Error("Invalid data given for local file: "+JSON.stringify(e))},resolveBufferImage=function(e){var t=guessFormat(e);if(t)return new Promise(function(r){return r(getImage(e,t))})},getImageFormat=function(e){var t=137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]&&13===e[4]&&10===e[5]&&26===e[6]&&10===e[7],r=255===e[0]&&216===e[1]&&255===e[2],n="";if(t)n="png";else{if(!r)throw new Error("Not valid image extension");n="jpg"}return n},resolveImageFromUrl=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,l;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.uri,n=t.body,o=t.headers,i=t.method,a=void 0===i?"GET":i,e.next=7;break;case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,fetchRemoteFile(r,{body:n,headers:o,method:a});case 9:e.t0=e.sent;case 10:return s=e.t0,l=getImageFormat(s),e.abrupt("return",getImage(s,l));case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),resolveImage=function(e,t){var r,n=(void 0===t?{}:t).cache,o=void 0===n||n,i=e.data?e.data.toString():e.uri;if(o&&IMAGE_CACHE.get(i))return IMAGE_CACHE.get(i);if(!(r=isCompatibleBase64(e)?resolveBase64Image(e):Buffer.isBuffer(e)?resolveBufferImage(e):"object"==typeof e&&e.data?resolveImageFromData(e):resolveImageFromUrl(e)))throw new Error("Cannot resolve image");return o&&IMAGE_CACHE.set(i,r),r},isNotNil=R.complement(R.isNil),firstPass=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r,n=0;n<t.length;n++){if(r=(0,t[n])(e),isNotNil(r))return r}return r}},getSource$1=R.compose(R.when(R.is(String),function(e){return{uri:e}}),firstPass(R.path(["props","src"]),R.path(["props","source"]),R.path(["props","href"]))),resolveSrc=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t){e.next=7;break}return e.next=3,t();case 3:e.t1=e.sent,e.t0={uri:e.t1},e.next=8;break;case 7:e.t0=t;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),fetchImage=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var r,n,o;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=getSource$1(t),n=t.props.cache,r){e.next=5;break}return warning(!1,'Image should receive either a "src" or "source" prop'),e.abrupt("return");case 5:return e.prev=5,e.next=8,resolveSrc(r);case 8:return o=e.sent,e.next=11,resolveImage(o,{cache:n});case 11:t.image=e.sent,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),t.image={width:0,height:0},console.warn(e.t0.message);case 18:case"end":return e.stop()}},e,null,[[5,14]])}));return function(t){return e.apply(this,arguments)}}(),emojis={},regex=emojiRegex(),reflect=function(e){return function(){return e.apply(void 0,arguments).then(function(e){return e},function(e){return e})}},makeFetchEmojiImage=function(){return reflect(resolveImage)},_removeNoColor=function(e){return"️"!==e},getCodePoints=function(e){return Array.from(e).filter(_removeNoColor).map(function(e){return e.codePointAt(0).toString(16)}).join("-")},buildEmojiUrl=function(e){var t=Font$1.getEmojiSource(),r=t.url,n=t.format;return""+r+getCodePoints(e)+"."+n},fetchEmojis=function(e){var t=Font$1.getEmojiSource();if(!t||!t.url)return[];for(var r,n=[],o=function(){var e=r[0];if(!emojis[e]||emojis[e].loading){var t=buildEmojiUrl(e);emojis[e]={loading:!0};var o=makeFetchEmojiImage();n.push(o({uri:t}).then(function(t){emojis[e].loading=!1,emojis[e].data=t.data}))}};r=regex.exec(e);)o();return n},embedEmojis=function(e){for(var t=[],r=0;r<e.length;r++){for(var n=e[r],o=void 0,i=0;o=regex.exec(n.string);){var a=o.index,s=o[0],l=n.attributes.fontSize,u=n.string.slice(i,a+o[0].length);emojis[s]&&emojis[s].data?t.push({string:u.replace(o,String.fromCharCode(65532)),attributes:_extends({},n.attributes,{attachment:{width:l,height:l,yOffset:Math.floor(.1*l),image:emojis[s].data}})}):t.push({string:u.replace(o,String.fromCharCode(0)),attributes:n.attributes}),i=a+s.length}i<n.string.length&&t.push({string:n.string.slice(i),attributes:n.attributes})}return t},fetchAssets=function(e){for(var t=[],r=e.children.slice(0);r.length>0;){var n=r.shift();isImage(n)&&t.push(fetchImage(n)),n.style&&n.style.fontFamily&&t.push(Font$1.load(n.style)),"string"==typeof n&&t.push.apply(t,fetchEmojis(n)),"string"==typeof n.value&&t.push.apply(t,fetchEmojis(n.value)),n.children&&n.children.forEach(function(e){r.push(e)})}return t},resolveAssets=function(e){return R.compose(R.then(R.always(e)),function(e){return Promise.all(e)},fetchAssets)(e)},isNotArray=R.complement(R.is(Array)),castArray=R.when(isNotArray,function(e){return[e]}),compact=R.filter(Boolean),isArray=R.is(Array),mergeStyles$1=function(e){return e.reduce(function(e,t){var r=isArray(t)?flatten(t):t;return Object.keys(r).forEach(function(t){null!==r[t]&&void 0!==r[t]&&(e[t]=r[t])}),e},{})},flatten=R.compose(mergeStyles$1,compact,castArray),hasOwnProperty=Object.prototype.hasOwnProperty,styleShorthands={margin:{marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0},marginHorizontal:{marginLeft:!0,marginRight:!0},marginVertical:{marginTop:!0,marginBottom:!0},padding:{paddingTop:!0,paddingRight:!0,paddingBottom:!0,paddingLeft:!0},paddingHorizontal:{paddingLeft:!0,paddingRight:!0},paddingVertical:{paddingTop:!0,paddingBottom:!0},border:{borderTopColor:!0,borderTopStyle:!0,borderTopWidth:!0,borderRightColor:!0,borderRightStyle:!0,borderRightWidth:!0,borderBottomColor:!0,borderBottomStyle:!0,borderBottomWidth:!0,borderLeftColor:!0,borderLeftStyle:!0,borderLeftWidth:!0},borderTop:{borderTopColor:!0,borderTopStyle:!0,borderTopWidth:!0},borderRight:{borderRightColor:!0,borderRightStyle:!0,borderRightWidth:!0},borderBottom:{borderBottomColor:!0,borderBottomStyle:!0,borderBottomWidth:!0},borderLeft:{borderLeftColor:!0,borderLeftStyle:!0,borderLeftWidth:!0},borderColor:{borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0},borderRadius:{borderTopLeftRadius:!0,borderTopRightRadius:!0,borderBottomRightRadius:!0,borderBottomLeftRadius:!0},borderStyle:{borderTopStyle:!0,borderRightStyle:!0,borderBottomStyle:!0,borderLeftStyle:!0},borderWidth:{borderTopWidth:!0,borderRightWidth:!0,borderBottomWidth:!0,borderLeftWidth:!0},objectPosition:{objectPositionX:!0,objectPositionY:!0},transformOrigin:{transformOriginX:!0,transformOriginY:!0},flex:{flexGrow:!0,flexShrink:!0,flexBasis:!0}},expandStyles=function(e){if(!e)return e;for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n],i=e[o];if(styleShorthands[o]){var a=styleShorthands[o];for(var s in a)hasOwnProperty.call(a,s)&&(r[s]=i)}else r[o]=i}return r},MM_FACTOR=1/25.4*DPI,CM_FACTOR=1/2.54*DPI,parseValue=function(e){var t=/^(-?\d*\.?\d+)(in|mm|cm|pt|vh|vw|px)?$/g.exec(e);return t?{value:parseFloat(t[1],10),unit:t[2]||"pt"}:{value:e,unit:void 0}},transformUnit=R.curryN(2,function(e,t){var r=parseValue(t);switch(r.unit){case"in":return r.value*DPI;case"mm":return r.value*MM_FACTOR;case"cm":return r.value*CM_FACTOR;case"vh":return r.value*(e.height/100);case"vw":return r.value*(e.width/100);default:return r.value}}),transformUnits=function(e,t){return R.map(transformUnit(e),t)},transformUnits$1=R.curryN(2,transformUnits),resolveMediaQueries=function(e,t){return Object.keys(t).reduce(function(r,n){var o,i;return/@media/.test(n)?_extends({},r,matchMedia(((i={})[n]=t[n],i),e)):_extends({},r,((o={})[n]=t[n],o))},{})},resolveMediaQueries$1=R.curryN(2,resolveMediaQueries),LINK_STYLES={color:"blue",textDecoration:"underline"},filterNoneValues=R.reject(R.equals("none")),resolveStyles=function(e){return R.compose(transformUnits$1(e),transformColors,transformStyles,expandStyles,resolveMediaQueries$1(e),filterNoneValues,flatten)},resolveNodeStyles=function e(t){return function(r){return R.o(R.when(isLink,R.evolve({style:R.merge(LINK_STYLES)})),R.evolve({style:resolveStyles(t),children:R.map(e(t))}))(r)}},resolvePageStyles=function(e){var t=R.prop("box",e),r=R.prop("style",e),n=R.isEmpty(t)?r:t;return R.evolve({style:resolveStyles(n),children:R.map(resolveNodeStyles(n))})(e)},resolveStyles$1=R.evolve({children:R.map(resolvePageStyles)}),getTransformStyle=function(e){return R.pathOr("50%",["style",e])},getOrigin=function(e){if(!e.box)return{};var t=e.box,r=t.left,n=t.top,o=t.width,i=t.height,a=getTransformStyle("transformOriginX")(e),s=getTransformStyle("transformOriginY")(e),l=matchPercent(a),u=matchPercent(s);return{left:r+(l?o*l.percent:a),top:n+(u?i*u.percent:s)}},resolveNodeOrigin=function e(t){return R.compose(R.evolve({children:R.map(e)}),R.converge(R.assoc("origin"),[getOrigin,R.identity]))(t)},resolveOrigin=R.evolve({children:R.map(resolveNodeOrigin)}),VALID_ORIENTATIONS=[PORTRAIT,LANDSCAPE],getOrientation=R.compose(R.ifElse(R.includes(R.__,VALID_ORIENTATIONS),R.identity,R.always(PORTRAIT)),R.pathOr(PORTRAIT,["props","orientation"])),isLandscape=R.compose(R.equals(LANDSCAPE),getOrientation),toSizeObject=R.applySpec({width:R.prop(0),height:R.prop(1)}),flipSizeObject=R.applySpec({width:R.prop("height"),height:R.prop("width")}),getStringSize=R.compose(toSizeObject,R.prop(R.__,PAGE_SIZES),R.toUpper),getNumberSize=R.compose(toSizeObject,function(e){return[e]}),throwInvalidError=function(e){throw new Error("Invalid Page size: "+JSON.stringify(e))},getSize=function(e){var t=R.compose(R.cond([[R.is(String),getStringSize],[R.is(Array),toSizeObject],[R.is(Number),getNumberSize],[R.is(Object),R.identity],[R.T,throwInvalidError]]),R.pathOr("A4",["props","size"]))(e);return isLandscape(e)?flipSizeObject(t):t},assocIfNil=function(e,t,r){return R.when(R.compose(R.isNil,R.prop(e)),R.assoc(e,t))(r)},assocIfNil$1=R.curryN(3,assocIfNil),resolvePageSize=function(e){var t=getSize(e);return R.evolve({style:R.merge(R.__,t)})(e)},resolvePageSizes=R.evolve({children:R.map(R.compose(resolvePageSize,assocIfNil$1("style",{})))}),lineIndexAtHeight=function(e,t){var r=0;if(!e.lines)return 0;for(var n=0;n<e.lines.length;n++){var o=e.lines[n];if(r+o.box.height>t)return n;r+=o.box.height}return e.lines.length},heightAtLineIndex=function(e,t){var r=0;if(!e.lines)return r;for(var n=0;n<t;n++){var o=e.lines[n];if(!o)break;r+=o.box.height}return r},zero=R.always(0),getTop=R.pathOr(0,["box","top"]),getWidows=R.pathOr(2,["props","widows"]),getOrphans=R.pathOr(2,["props","orphans"]),getLineBreak=function(e,t){var r=getTop(e),n=getWidows(e),o=getOrphans(e),i=e.lines.length,a=lineIndexAtHeight(e,t-r);return 0===a?0:i<o?i:a<o||i<o+n?0:i===o+n?o:i-a<n?i-n:a},splitText=function(e,t){var r=getLineBreak(e,t),n=heightAtLineIndex(e,r),o=e.box.height-n;return[R.evolve({lines:R.slice(0,r),style:R.evolve({marginBottom:zero,paddingBottom:zero,borderBottomWidth:zero,borderBottomLeftRadius:zero,borderBottomRightRadius:zero}),box:{height:R.always(n),borderBottomWidth:zero}},e),R.evolve({lines:R.slice(r,1/0),style:R.evolve({marginTop:zero,paddingTop:zero,borderTopWidth:zero,borderTopLeftRadius:zero,borderTopRightRadius:zero}),box:{top:zero,height:R.always(o),borderTopWidth:zero}},e)]},zero$1=R.always(0),getTop$1=R.pathOr(0,["box","top"]),hasFixedHeight=R.hasPath(["style","height"]),subtractHeight=function(e){return R.o(R.subtract(R.__,e),R.path(["box","height"]))},splitNode=function(e,t){if(!e)return[null,null];var r=getTop$1(e),n=R.evolve({style:R.evolve({marginBottom:zero$1,paddingBottom:zero$1,borderBottomWidth:zero$1,borderBottomLeftRadius:zero$1,borderBottomRightRadius:zero$1}),box:{height:R.always(t-r),borderBottomWidth:zero$1}})(e),o=R.ifElse(hasFixedHeight,subtractHeight(t-r),R.always(null))(e);return[n,R.evolve({style:R.evolve({marginTop:zero$1,paddingTop:zero$1,borderTopWidth:zero$1,borderTopLeftRadius:zero$1,borderTopRightRadius:zero$1}),box:{top:zero$1,height:R.always(o),borderTopWidth:zero$1}})(e)]},isString=R.is(String),isNumber$1=R.is(Number),isNotString=R.complement(isString),createInstance=function e(t){if(isString(t)||isNumber$1(t))return{type:TEXT_INSTANCE,value:""+t};if(isNotString(t.type))return e(t.type(t.props));var r=t.type,n=t.props,o=n.style,i=void 0===o?{}:o,a=n.children,s=void 0===a?[]:a;return{type:r,style:i,props:_objectWithoutPropertiesLoose(n,["style","children"]),box:{},children:R.compose(R.map(e),castArray)(s)}},getNodesHeight=function(e){var t=0,r=1/0;if(R.isEmpty(e))return 0;for(var n=0;n<e.length;n++){var o=e[n];r=Math.min(r,o.box.top),t=Math.max(t,o.box.top+o.box.height)}return t-r},getWrap=R.ifElse(R.anyPass([isSvg,isNote,isImage,isCanvas]),R.always(!1),R.pathOr(!0,["props","wrap"])),getBreak=R.pathOr(!1,["props","break"]),getMinPresenceAhead=R.path(["props","minPresenceAhead"]),defaultPresenceAhead=function(e){return function(t){return Math.min(e.box.height,t)}},getPresenceAhead=function(e,t){for(var r=0,n=0;n<e.length;n++){var o=e[n];if(o.box){var i=t>o.box.top,a=o.props.presenceAhead||defaultPresenceAhead(o);o&&i&&(r+=a(t-o.box.top))}}return r},shouldBreak=function(e,t,r){var n=getMinPresenceAhead(e),o=getPresenceAhead(t,r),i=getNodesHeight(t),a=r<e.box.top+e.box.height,s=getWrap(e);return getBreak(e)||!s&&a||n<i&&o<n},getComputedPadding=function(e){return function(t){var r=t._yogaNode;return r?r.getComputedPadding(e):null}},getPadding=R.applySpec({paddingTop:firstPass(getComputedPadding(Yoga.EDGE_TOP),R.path(["box","paddingTop"]),R.path(["style","paddingTop"]),R.path(["style","paddingVertical"]),R.path(["style","padding"]),R.always(0)),paddingRight:firstPass(getComputedPadding(Yoga.EDGE_RIGHT),R.path(["box","paddingRight"]),R.path(["style","paddingRight"]),R.path(["style","paddingHorizontal"]),R.path(["style","padding"]),R.always(0)),paddingBottom:firstPass(getComputedPadding(Yoga.EDGE_BOTTOM),R.path(["box","paddingBottom"]),R.path(["style","paddingBottom"]),R.path(["style","paddingVertical"]),R.path(["style","padding"]),R.always(0)),paddingLeft:firstPass(getComputedPadding(Yoga.EDGE_LEFT),R.path(["box","paddingLeft"]),R.path(["style","paddingLeft"]),R.path(["style","paddingHorizontal"]),R.path(["style","padding"]),R.always(0))}),getContentArea=function(e){var t=getPadding(e).paddingTop;return R.path(["style","height"],e)-t},IGNORABLE_CODEPOINTS=[8232,8233],buildSubsetForFont=function(e){return IGNORABLE_CODEPOINTS.reduce(function(t,r){return e.hasGlyphForCodePoint&&e.hasGlyphForCodePoint(r)?t:[].concat(t,[String.fromCharCode(r)])},[])},ignoreChars=function(e){return e.map(function(e){var t=buildSubsetForFont(e.attributes.font),r=new RegExp(t.join("|"));return{string:e.string.replace(r,""),attributes:e.attributes}})},PREPROCESSORS=[ignoreChars,embedEmojis],getFragments$1=function e(t){if(!t)return[{string:""}];var r=[],n=t.style,o=n.color,i=void 0===o?"black":o,a=n.backgroundColor,s=n.fontFamily,l=void 0===s?"Helvetica":s,u=n.fontWeight,c=n.fontStyle,p=n.fontSize,d=void 0===p?18:p,h=n.textAlign,g=void 0===h?"left":h,f=n.lineHeight,R=n.textDecoration,m=n.textDecorationColor,v=n.textDecorationStyle,y=n.textTransform,b=n.letterSpacing,T=n.textIndent,P=n.opacity,x=Font$1.getFont({fontFamily:l,fontWeight:u,fontStyle:c}),E={font:x?x.data:l,color:i,opacity:P,fontSize:d,backgroundColor:a,align:g,indent:T,link:t.src,characterSpacing:b,underlineStyle:v,underline:"underline"===R,underlineColor:m||i,strike:"line-through"===R,strikeStyle:v,strikeColor:m||i,lineHeight:f?f*d:null};t.children.forEach(function(t){if(isImage(t))r.push({string:String.fromCharCode(65532),attributes:_extends({},E,{attachment:{width:t.style.width||d,height:t.style.height||d,image:t.image.data}})});else if(isTextInstance(t))r.push({string:transformText(t.value,y),attributes:E});else{var n;if(t)(n=r).push.apply(n,e(t))}});for(var S=0;S<PREPROCESSORS.length;S++){var C=PREPROCESSORS[S];r=C(r)}return r},getAttributedString$1=function(e){return AttributedString.fromFragments(getFragments$1(e))},engines$1={linebreaker:linebreaker,justification:justification,textDecoration:textDecoration,scriptItemizer:scriptItemizer,wordHyphenation:wordHyphenation,fontSubstitution:fontSubstitution},engine$1=layoutEngine(engines$1),getContainer$1=function(e,t,r){return{x:0,y:0,width:t,maxLines:R.path(["style","maxLines"],e),height:r||1/0,truncateMode:R.path(["style","textOverflow"],e)}},getLayoutOptions=function(e){return{hyphenationPenalty:e.props.hyphenationPenalty,hyphenationCallback:Font$1.getHyphenationCallback(),shrinkWhitespaceFactor:{before:-.5,after:-.5}}},layoutText$1=R.compose(R.reduce(R.concat,[]),R.converge(engine$1,[getAttributedString$1,getContainer$1,getLayoutOptions])),isNotSvg=R.complement(isSvg),hasLines=function(e){return e.props.fixed?!R.isEmpty(e.lines):!!e.lines},shouldLayoutText=function(e){return isText(e)&&!hasLines(e)},resolveTextLayout=function e(t){return R.compose(R.evolve({children:R.map(R.when(isNotSvg,e))}),R.when(shouldLayoutText,R.compose(R.converge(R.assoc("lines"),[R.converge(layoutText$1,[R.identity,R.path(["box","width"]),R.path(["box","height"])]),R.identity]))))(t)},getInheritStyles=R.compose(R.pick(INHERITED_PROPERTIES),R.propOr({},"style")),mergeStyles$2=function(e){return R.evolve({style:R.merge(e)})},resolveInheritance=function e(t){if(isSvg(t))return t;var r=getInheritStyles(t);return R.evolve({children:R.map(R.compose(e,mergeStyles$2(r)))})(t)},getComputedMargin=function(e){return function(t){var r=t._yogaNode;return r?r.getComputedMargin(e):null}},getMargin=R.applySpec({marginTop:firstPass(getComputedMargin(Yoga.EDGE_TOP),R.path(["box","marginTop"]),R.path(["style","marginTop"]),R.path(["style","marginVertical"]),R.path(["style","margin"]),R.always(0)),marginRight:firstPass(getComputedMargin(Yoga.EDGE_RIGHT),R.path(["box","marginRight"]),R.path(["style","marginRight"]),R.path(["style","marginHorizontal"]),R.path(["style","margin"]),R.always(0)),marginBottom:firstPass(getComputedMargin(Yoga.EDGE_BOTTOM),R.path(["box","marginBottom"]),R.path(["style","marginBottom"]),R.path(["style","marginVertical"]),R.path(["style","margin"]),R.always(0)),marginLeft:firstPass(getComputedMargin(Yoga.EDGE_LEFT),R.path(["box","marginLeft"]),R.path(["style","marginLeft"]),R.path(["style","marginHorizontal"]),R.path(["style","margin"]),R.always(0))}),getTop$2=function(e){return e?e.getComputedTop():0},getRight=function(e){return e?e.getComputedRight():0},getBottom=function(e){return e?e.getComputedBottom():0},getLeft=function(e){return e?e.getComputedLeft():0},getPosition=function(e){var t=e._yogaNode;return R.applySpec({top:getTop$2,right:getRight,bottom:getBottom,left:getLeft})(t)},DEFAULT_DIMENSION={width:0,height:0},getDimension=function(e){var t=e._yogaNode;return t?{width:t.getComputedWidth(),height:t.getComputedHeight()}:DEFAULT_DIMENSION},getComputedBorder=function(e){return function(t){return t?t.getComputedBorder(e):0}},getBorderWidth=function(e){var t=e._yogaNode;return R.applySpec({borderTopWidth:getComputedBorder(Yoga.EDGE_TOP),borderRightWidth:getComputedBorder(Yoga.EDGE_RIGHT),borderBottomWidth:getComputedBorder(Yoga.EDGE_BOTTOM),borderLeftWidth:getComputedBorder(Yoga.EDGE_LEFT)})(t)},setDisplay=function(e){return R.tap(function(t){var r=t._yogaNode;r&&r.setDisplay("none"===e?Yoga.DISPLAY_NONE:Yoga.DISPLAY_FLEX)})},setOverflow=function(e){return R.tap(function(t){var r=t._yogaNode;if(!R.isNil(e)&&r){var n=R.cond([[R.equals("hidden"),R.always(Yoga.OVERFLOW_HIDDEN)],[R.equals("scroll"),R.always(Yoga.OVERFLOW_SCROLL)],[R.T,R.always(Yoga.OVERFLOW_VISIBLE)]])(e);r.setOverflow(n)}})},setFlexWrap=function(e){return R.tap(function(t){var r=t._yogaNode;if(r){var n=R.cond([[R.equals("wrap"),R.always(Yoga.WRAP_WRAP)],[R.equals("wrap-reverse"),R.always(Yoga.WRAP_WRAP_REVERSE)],[R.T,R.always(Yoga.WRAP_NO_WRAP)]])(e);r.setFlexWrap(n)}})},isNotNil$1=R.complement(R.isNil),setYogaValue=function(e,t){return function(r){return R.tap(function(n){var o=n._yogaNode;if(!R.isNil(r)&&o){var i=isNotNil$1(t),a="set"+upperFirst$1(e),s=a+"Auto",l=a+"Percent",u=matchPercent(r);if(u&&!o[l])throw new Error("You can't pass percentage values to "+e+" property");u?i?o[l](t,u.value):o[l](u.value):"auto"===r?i?o[s](t):o[s]():i?o[a](t,r):o[a](r)}})}},setFlexGrow=R.compose(setYogaValue("flexGrow"),R.defaultTo(0)),setFlexBasis=setYogaValue("flexBasis"),setAlign=function(e){return function(t){return R.tap(function(r){var n=r._yogaNode;if(n){var o=R.cond([[R.equals("flex-start"),R.always(Yoga.ALIGN_FLEX_START)],[R.equals("center"),R.always(Yoga.ALIGN_CENTER)],[R.equals("flex-end"),R.always(Yoga.ALIGN_FLEX_END)],[R.equals("stretch"),R.always(Yoga.ALIGN_STRETCH)],[R.equals("baseline"),R.always(Yoga.ALIGN_BASELINE)],[R.equals("space-between"),R.always(Yoga.ALIGN_SPACE_BETWEEN)],[R.equals("space-around"),R.always(Yoga.ALIGN_SPACE_AROUND)],[R.T,R.always("items"===e?Yoga.ALIGN_STRETCH:Yoga.ALIGN_AUTO)]])(t);n["setAlign"+upperFirst$1(e)](o)}})}},setAlignSelf=setAlign("self"),setAlignItems=setAlign("items"),setFlexShrink=R.compose(setYogaValue("flexShrink"),R.defaultTo(1)),setAspectRatio=function(e){return R.tap(function(t){var r=t._yogaNode;!R.isNil(e)&&r&&r.setAspectRatio(e)})},setAlignContent=setAlign("content"),setPositionType=function(e){return R.tap(function(t){var r=t._yogaNode;!R.isNil(e)&&r&&r.setPositionType("absolute"===e?Yoga.POSITION_TYPE_ABSOLUTE:Yoga.POSITION_TYPE_RELATIVE)})},isRow=R.equals("row"),isRowReverse=R.equals("row-reverse"),isColumnReverse=R.equals("column-reverse"),setFlexDirection=function(e){return R.tap(function(t){var r=t._yogaNode;if(r){var n=R.cond([[isRow,R.always(Yoga.FLEX_DIRECTION_ROW)],[isRowReverse,R.always(Yoga.FLEX_DIRECTION_ROW_REVERSE)],[isColumnReverse,R.always(Yoga.FLEX_DIRECTION_COLUMN_REVERSE)],[R.T,R.always(Yoga.FLEX_DIRECTION_COLUMN)]])(e);r.setFlexDirection(n)}})},setJustifyContent=function(e){return R.tap(function(t){var r=t._yogaNode;if(!R.isNil(e)&&r){var n=R.cond([[R.equals("center"),R.always(Yoga.JUSTIFY_CENTER)],[R.equals("flex-end"),R.always(Yoga.JUSTIFY_FLEX_END)],[R.equals("space-between"),R.always(Yoga.JUSTIFY_SPACE_BETWEEN)],[R.equals("space-around"),R.always(Yoga.JUSTIFY_SPACE_AROUND)],[R.equals("space-evenly"),R.always(Yoga.JUSTIFY_SPACE_EVENLY)],[R.T,R.always(Yoga.JUSTIFY_FLEX_START)]])(e);r.setJustifyContent(n)}})},setMarginTop=setYogaValue("margin",Yoga.EDGE_TOP),setMarginRight=setYogaValue("margin",Yoga.EDGE_RIGHT),setMarginBottom=setYogaValue("margin",Yoga.EDGE_BOTTOM),setMarginLeft=setYogaValue("margin",Yoga.EDGE_LEFT),setPaddingTop=setYogaValue("padding",Yoga.EDGE_TOP),setPaddingRight=setYogaValue("padding",Yoga.EDGE_RIGHT),setPaddingBottom=setYogaValue("padding",Yoga.EDGE_BOTTOM),setPaddingLeft=setYogaValue("padding",Yoga.EDGE_LEFT),setBorderTop=setYogaValue("border",Yoga.EDGE_TOP),setBorderRight=setYogaValue("border",Yoga.EDGE_RIGHT),setBorderBottom=setYogaValue("border",Yoga.EDGE_BOTTOM),setBorderLeft=setYogaValue("border",Yoga.EDGE_LEFT),setPositionTop=setYogaValue("position",Yoga.EDGE_TOP),setPositionRight=setYogaValue("position",Yoga.EDGE_RIGHT),setPositionBottom=setYogaValue("position",Yoga.EDGE_BOTTOM),setPositionLeft=setYogaValue("position",Yoga.EDGE_LEFT),setWidth=setYogaValue("width"),setMinWidth=setYogaValue("minWidth"),setMaxWidth=setYogaValue("maxWidth"),setHeight=setYogaValue("height"),setMinHeight=setYogaValue("minHeight"),setMaxHeight=setYogaValue("maxHeight"),getAspectRatio=function(e){return e?(e.maxX-e.minX)/(e.maxY-e.minY):null},measureCanvas=function(e,t,r,n,o,i){var a=getAspectRatio(t.props.viewBox)||1;return n===Yoga.MEASURE_MODE_EXACTLY||n===Yoga.MEASURE_MODE_AT_MOST?{width:r,height:r/a}:i===Yoga.MEASURE_MODE_EXACTLY?{width:o*a}:{}},measureSvg=R.curryN(6,measureCanvas),linesWidth=function(e){return e.lines?Math.max.apply(Math,e.lines.map(function(e){return AttributedString.advanceWidth(e)})):-1},linesHeight=function(e){return e.lines?e.lines.reduce(function(e,t){return e+t.box.height},0):-1},measureText=function(e,t,r,n,o,i){return n===Yoga.MEASURE_MODE_EXACTLY?(t.lines||(t.lines=layoutText$1(t,r,o)),{height:linesHeight(t)}):n===Yoga.MEASURE_MODE_AT_MOST?(t.lines||(t.lines=layoutText$1(t,r,o)),{height:linesHeight(t),width:Math.min(r,linesWidth(t))}):{}},measureText$1=R.curryN(6,measureText),getRatio=R.ifElse(R.hasPath(["image","data"]),function(e){return e.image.width/e.image.height},R.always(1)),isHeightAuto=R.pathSatisfies(R.isNil,["box","height"]),SAFETY_HEIGHT=10,measureImage=function(e,t,r,n,o,i){var a=getRatio(t),s=getMargin(t),l=getPadding(e),u=isHeightAuto(e)?1/0:e.box.height-l.paddingTop-l.paddingBottom-s.marginTop-s.marginBottom-SAFETY_HEIGHT;if(!t.image)return{width:0,height:0};if(n===Yoga.MEASURE_MODE_EXACTLY&&i===Yoga.MEASURE_MODE_UNDEFINED){var c=r/a;return{height:Math.min(u,c)}}if(i===Yoga.MEASURE_MODE_EXACTLY&&(n===Yoga.MEASURE_MODE_AT_MOST||n===Yoga.MEASURE_MODE_UNDEFINED))return{width:Math.min(o*a,r)};if(n===Yoga.MEASURE_MODE_EXACTLY&&i===Yoga.MEASURE_MODE_AT_MOST){var p=r/a;return{height:Math.min(o,u,p)}}return n===Yoga.MEASURE_MODE_AT_MOST&&i===Yoga.MEASURE_MODE_AT_MOST?a>1?{width:r,height:Math.min(r/a,o)}:{width:Math.min(o*a,r),height:o}:{height:o,width:r}},measureImage$1=R.curryN(6,measureImage),SAFETY_HEIGHT$1=10,getMax=R.reduce(R.max,-1/0),measureCtx=function(){var e={},t=[],r=function(){return e},n=function(e,r){return t.push([e,r])},o=R.compose(r,n),i=function(t,r,o,i){return n(t,r),n(t+o,r),n(t,r+i),n(t+o,r+i),e},a=function(t,r,o,i){return n(t-o,r-(i=i||o)),n(t+o,r-i),n(t+o,r+i),n(t-o,r+i),e};return e.rect=i,e.moveTo=o,e.lineTo=o,e.circle=a,e.polygon=function(){return t.push.apply(t,arguments),r()},e.ellipse=a,e.roundedRect=i,e.text=r,e.path=r,e.lineWidth=r,e.bezierCurveTo=r,e.quadraticCurveTo=r,e.scale=r,e.rotate=r,e.translate=r,e.dash=r,e.clip=r,e.save=r,e.fill=r,e.font=r,e.stroke=r,e.lineCap=r,e.opacity=r,e.restore=r,e.lineJoin=r,e.fontSize=r,e.fillColor=r,e.miterLimit=r,e.strokeColor=r,e.fillOpacity=r,e.strokeOpacity=r,e.linearGradient=r,e.radialGradient=r,e.getWidth=function(){return R.compose(getMax,R.pluck(0))(t)},e.getHeight=function(){return R.compose(getMax,R.pluck(1))(t)},e},measureCanvas$1=function(e,t){var r=getMargin(t),n=getPadding(e),o=isHeightAuto(e)?1/0:e.box.height-n.paddingTop-n.paddingBottom-r.marginTop-r.marginBottom-SAFETY_HEIGHT$1,i=measureCtx();t.props.paint(i);var a=i.getWidth();return{height:Math.min(o,i.getHeight()),width:a}},measureCanvas$2=R.curryN(6,measureCanvas$1),YOGA_NODE="_yogaNode",YOGA_CONFIG=Yoga.Config.create();YOGA_CONFIG.setPointScaleFactor(0);var setNodeHeight=function(e){return R.ifElse(isPage,setHeight(e.box.height),setHeight(e.box.height||e.style.height))},setYogaValues=R.tap(function(e){R.compose(setNodeHeight(e),setWidth(e.style.width),setMinWidth(e.style.minWidth),setMaxWidth(e.style.maxWidth),setMinHeight(e.style.minHeight),setMaxHeight(e.style.maxHeight),setMarginTop(e.style.marginTop),setMarginRight(e.style.marginRight),setMarginBottom(e.style.marginBottom),setMarginLeft(e.style.marginLeft),setPaddingTop(e.style.paddingTop),setPaddingRight(e.style.paddingRight),setPaddingBottom(e.style.paddingBottom),setPaddingLeft(e.style.paddingLeft),setPositionType(e.style.position),setPositionTop(e.style.top),setPositionRight(e.style.right),setPositionBottom(e.style.bottom),setPositionLeft(e.style.left),setBorderTop(e.style.borderTopWidth),setBorderRight(e.style.borderRightWidth),setBorderBottom(e.style.borderBottomWidth),setBorderLeft(e.style.borderLeftWidth),setDisplay(e.style.display),setFlexDirection(e.style.flexDirection),setAlignSelf(e.style.alignSelf),setAlignContent(e.style.alignContent),setAlignItems(e.style.alignItems),setJustifyContent(e.style.justifyContent),setFlexWrap(e.style.flexWrap),setOverflow(e.style.overflow),setAspectRatio(e.style.aspectRatio),setFlexBasis(e.style.flexBasis),setFlexGrow(e.style.flexGrow),setFlexShrink(e.style.flexShrink))(e)}),insertYogaNodes=function(e){return R.tap(function(t){return e.insertChild(t[YOGA_NODE],e.getChildCount())})},setMeasureFunc=function(e){return function(t){var r=t[YOGA_NODE];return isText(t)&&r.setMeasureFunc(measureText$1(e,t)),isImage(t)&&r.setMeasureFunc(measureImage$1(e,t)),isCanvas(t)&&r.setMeasureFunc(measureCanvas$2(e,t)),isSvg(t)&&r.setMeasureFunc(measureSvg(e,t)),t}},isNotText=R.complement(isText),isNotNote=R.complement(isNote),isNotSvg$1=R.complement(isSvg),isNotTextInstance=R.complement(isTextInstance),isLayoutElement=R.allPass([isNotText,isNotNote,isNotSvg$1]),createYogaNodes=function e(t){return function(r){var n=Yoga.Node.createWithConfig(YOGA_CONFIG);return R.compose(setMeasureFunc(t),R.when(isLayoutElement,R.evolve({children:R.map(R.compose(insertYogaNodes(n),e(t)))})),setYogaValues,R.assoc(YOGA_NODE,n))(r)}},calculateLayout=R.tap(function(e){return e[YOGA_NODE].calculateLayout()}),persistDimensions=function e(t){return R.evolve({children:R.map(R.when(isNotTextInstance,e)),box:R.always(R.mergeAll([getPadding(t),getMargin(t),getBorderWidth(t),getPosition(t),getDimension(t)]))})(t)},destroyYogaNodes=function e(t){return R.compose(R.dissoc(YOGA_NODE),R.tap(function(e){return Yoga.Node.destroy(e[YOGA_NODE])}),R.evolve({children:R.map(R.when(isLayoutElement,e))}))(t)},resolvePageDimensions=function(e){return R.ifElse(R.isNil,R.always(null),R.compose(destroyYogaNodes,persistDimensions,calculateLayout,createYogaNodes(e)))(e)},resolveDimensions=function(e){return R.evolve({children:R.map(resolvePageDimensions)})(e)},SAFTY_THRESHOLD=.001,assingChildren=R.assoc("children"),getTop$3=R.pathOr(0,["box","top"]),getHeight=R.path(["box","height"]),getChildren$1=R.propOr([],"children"),isElementOutside=R.useWith(R.lte,[R.identity,getTop$3]),isFixed=R.pathEq(["props","fixed"],!0),allFixed=R.all(isFixed),isDynamic=R.hasPath(["props","render"]),relayoutPage=R.compose(resolveTextLayout,resolveInheritance,resolvePageDimensions),splitView=function(e,t){var r=splitNode(e,t),n=r[0],o=r[1],i=splitChildren(t,e),a=i[0],s=i[1];return[assingChildren(a)(n),assingChildren(s)(o)]},split=R.ifElse(isText,splitText,splitView),splitNodes=function(e,t){for(var r=[],n=[],o=0;o<t.length;o++){var i=t[o],a=t.slice(o+1),s=R.filter(isFixed,a),l=getTop$3(i),u=getHeight(i),c=isElementOutside(e,i),p=shouldBreak(i,a,e),d=e+SAFTY_THRESHOLD<l+u;if(isFixed(i))n.push(i),r.push(i);else if(c){var h=R.evolve({box:{top:R.subtract(R.__,e)}})(i);n.push(h)}else{if(p){var g=R.evolve({box:{top:R.subtract(R.__,e)},props:R.evolve({break:R.always(!1)})})(i);r.push.apply(r,s),n.push.apply(n,[g].concat(a));break}if(d){var f=split(i,e),m=f[0],v=f[1];m&&r.push(m),v&&n.push(v)}else r.push(i)}}return[r,n]},splitChildren=function(e,t){var r=getChildren$1(t),n=e-getTop$3(t);return splitNodes(n,r)},splitPage=function(e,t){var r=getContentArea(e),n=R.path(["style","height"],e),o=resolveDynamicPage({pageNumber:t},e),i=splitNodes(r,o.children),a=i[0],s=i[1],l=R.compose(relayoutPage,assingChildren(a),R.assocPath(["box","height"],n))(e);return R.isEmpty(s)||allFixed(s)?[l,null]:[l,R.compose(relayoutPage,assingChildren(s),R.dissocPath(["box","height"]))(e)]},shouldResolveDynamicNodes=function e(t){return R.either(isDynamic,R.compose(R.any(e),R.propOr([],"children")))(t)},resolveDynamicPage=function(e,t){return R.when(shouldResolveDynamicNodes,R.compose(relayoutPage,resolveDynamicNodes(e)))(t)},resolveDynamicNodes=function e(t){return function(r){var n=R.always(isDynamic(r));return R.evolve({children:R.ifElse(n,function(){var e=r.props.render(t);return[createInstance(e)]},R.map(e(t))),lines:R.when(n,R.always([]))},r)}},paginate=function(e,t){if(!e)return[];for(var r=splitPage(e,t),n=[r[0]],o=r[1];null!==o;)r=splitPage(o,t+n.length),n.push(r[0]),o=r[1];return n},resolvePageIndices=function(e,t,r){var n=r.length;return resolveDynamicPage({pageNumber:t+1,totalPages:n},e)},resolvePagination=function(e){for(var t=[],r=1,n=0;n<e.children.length;n++){var o=e.children[n],i=paginate(o,r);r+=i.length,t=t.concat(i)}return t=t.map(resolvePageIndices),assingChildren(t,e)},removeMargins=R.compose(R.dissocPath(["style","margin"]),R.dissocPath(["style","marginTop"]),R.dissocPath(["style","marginRight"]),R.dissocPath(["style","marginBottom"]),R.dissocPath(["style","marginLeft"]),R.dissocPath(["style","marginHorizontal"]),R.dissocPath(["style","marginVertical"])),resolvePageMargins=R.evolve({children:R.map(removeMargins)}),getNodeText=function(e){return R.cond([[R.is(String),R.identity],[isTextInstance,R.prop("value")],[R.T,R.compose(getNodesText,R.propOr([],"children"))]])(e)},getNodesText=R.compose(R.join(""),R.map(getNodeText)),wrapTextInstance=function(e){return[{type:"TEXT_INSTANCE",value:e}]},resolveNoteChildren=function e(t){return R.ifElse(isNote,R.evolve({children:R.compose(wrapTextInstance,getNodesText)}),R.evolve({children:R.map(e)}))(t)},resolvePageHorizontalPadding=function(e){return function(t){var r=matchPercent(t);return r?r.percent*e.width:t}},resolvePageVerticalPadding=function(e){return function(t){var r=matchPercent(t);return r?r.percent*e.height:t}},resolvePagePaddings=function(e){var t=R.pathOr({},["props","size"],e);return R.evolve({style:R.evolve({paddingLeft:resolvePageHorizontalPadding(t),paddingRight:resolvePageHorizontalPadding(t),paddingTop:resolvePageVerticalPadding(t),paddingBottom:resolvePageVerticalPadding(t)})})(e)},resolvePagePaddings$1=R.evolve({children:R.map(resolvePagePaddings)}),resolveRadius=function(e){return function(t){var r=matchPercent(t);return r?r.percent*Math.min(e.width,e.height):t}},resolvePercentRadius=function e(t){return R.evolve({children:R.map(e),style:R.evolve({borderTopLeftRadius:resolveRadius(t.box),borderTopRightRadius:resolveRadius(t.box),borderBottomRightRadius:resolveRadius(t.box),borderBottomLeftRadius:resolveRadius(t.box)})})(t)},transformHeight=function(e){return function(t){var r=matchPercent(t);return r?r.percent*e:t}},getPageArea=function(e){return R.path(["style","height"],e)-R.pathOr(0,["style","paddingTop"],e)-R.pathOr(0,["style","paddingBottom"],e)},hasHeight=R.hasPath(["style","height"]),resolveNodePercentHeight=function(e){return function(t){if(hasHeight(e)){var r=getPageArea(e);return R.evolve({style:{height:transformHeight(r)}})(t)}return t}},resolvePagePercentHeight=function(e){return R.evolve({children:R.map(resolveNodePercentHeight(e))})(e)},resolvePercentHeight=R.evolve({children:R.map(resolvePagePercentHeight)}),hasRenderProp=R.hasPath(["props","render"]),hasTextInstanceChilds=R.compose(R.all(isTextInstance),R.propOr([],"children")),resolveLinkSubstitution=function e(t){return R.evolve({children:R.map(R.ifElse(R.both(isLink,R.either(hasRenderProp,hasTextInstanceChilds)),R.assoc("type",TEXT),e))})(t)},asyncCompose=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(r){var n,o,i,a,s;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=R.reverse(t),o=Array.isArray(n),i=0,n=o?n:n[Symbol.iterator]();case 1:if(!o){e.next=7;break}if(!(i>=n.length)){e.next=4;break}return e.abrupt("break",17);case 4:a=n[i++],e.next=11;break;case 7:if(!(i=n.next()).done){e.next=10;break}return e.abrupt("break",17);case 10:a=i.value;case 11:return s=a,e.next=14,s(r);case 14:r=e.sent;case 15:e.next=1;break;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},layout=asyncCompose(resolveZIndex,resolveRulers,resolveOrigin,resolvePagination,resolveTextLayout,resolvePercentRadius,resolveDimensions,resolveSvg,resolveAssets,resolveInheritance,resolvePercentHeight,resolvePagePaddings$1,resolveStyles$1,resolveNoteChildren,resolveLinkSubstitution,resolvePageMargins,resolvePageSizes),propsEqual=function e(t,r){var n=Object.keys(t),o=Object.keys(r);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if("render"!==a){if("children"!==a&&t[a]!==r[a]){if("object"==typeof t[a]&&"object"==typeof r[a]&&e(t[a],r[a]))continue;return!1}if("children"===a&&("string"==typeof t[a]||"string"==typeof r[a]))return t[a]===r[a]}else if(!t[a]!=!r[a])return!1}return!0},emptyObject={},createRenderer=function(e){var t=e.onChange,r=void 0===t?function(){}:t;return ReactFiberReconciler({schedulePassiveEffects:scheduler.unstable_scheduleCallback,cancelPassiveEffects:scheduler.unstable_cancelCallback,supportsMutation:!0,isPrimaryRenderer:!1,warnsIfNotActing:!1,appendInitialChild:function(e,t){e.children.push(t)},createInstance:function(e,t){var r=t.style;t.children;return{type:e,box:{},style:r||{},props:_objectWithoutPropertiesLoose(t,["style","children"])||{},children:[]}},createTextInstance:function(e,t){return{type:"TEXT_INSTANCE",value:e}},finalizeInitialChildren:function(e,t,r){return!1},getPublicInstance:function(e){return e},prepareForCommit:function(){},prepareUpdate:function(e,t,r,n){return!propsEqual(r,n)},resetAfterCommit:r,resetTextContent:function(e){},getRootHostContext:function(){return emptyObject},getChildHostContext:function(){return emptyObject},shouldSetTextContent:function(e,t){return!1},now:Date.now,useSyncScheduling:!0,appendChild:function(e,t){e.children.push(t)},appendChildToContainer:function(e,t){"ROOT"===e.type?e.document=t:e.children.push(t)},insertBefore:function(e,t,r){var n=e.children.indexOf(r);-1!==n&&t&&e.children.splice(n,0,t)},removeChild:function(e,t){var r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1)},removeChildFromContainer:function(e,t){var r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1)},commitTextUpdate:function(e,t,r){e.value=r},commitUpdate:function(e,t,r,n,o){var i=o.style,a=_objectWithoutPropertiesLoose(o,["style"]);e.props=a,e.style=i}})},create=function(e){return e},absoluteFillObject={position:"absolute",top:0,left:0,bottom:0,right:0},StyleSheet={hairlineWidth:1,create:create,flatten:flatten,absoluteFillObject:absoluteFillObject},version="2.0.0-beta.6",View=VIEW,Text=TEXT,Link=LINK,Page=PAGE,Note=NOTE,Image=IMAGE,Document=DOCUMENT,Canvas=CANVAS,Svg=SVG,G=GROUP,Path=PATH,Rect=RECT,Line=LINE,Circle=CIRCLE,Ellipse=ELLIPSE,Polygon=POLYGON,Polyline=POLYLINE,Defs=DEFS,Tspan=TSPAN,ClipPath=CLIP_PATH,Stop=STOP,LinearGradient=LINEAR_GRADIENT,RadialGradient=RADIAL_GRADIENT,pdf=function(e){var t=e.initialValue,r=e.onChange,n={type:"ROOT",document:null},o=createRenderer({onChange:r}),i=o.createContainer(n);t&&s(t);var a=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t,r;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new PDFDocument__default({autoFirstPage:!1}),console.time("layout"),e.next=4,layout(n.document);case 4:return r=e.sent,console.timeEnd("layout"),e.abrupt("return",render(t,r));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function s(e){o.updateContainer(e,i,null)}function l(e){void 0===e&&(e={}),n.document.props.onRender&&n.document.props.onRender(e)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t,r;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return t=e.sent,r=t.pipe(BlobStream()),e.abrupt("return",new Promise(function(e,t){r.on("finish",function(){try{var n=r.toBlob("application/pdf");l({blob:n}),e(n)}catch(e){t(e)}}),r.on("error",t)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=_asyncToGenerator(_regeneratorRuntime.mark(function e(){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.abrupt("return",a());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}return{layout:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",layout(n));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),container:n,updateContainer:s,toBuffer:function(){return c.apply(this,arguments)},toBlob:function(){return u.apply(this,arguments)},toString:function(){var e="",t=a();return new Promise(function(r,n){try{t.on("data",function(t){e+=t}),t.on("end",function(){r(e)})}catch(e){n(e)}})}}},svgpath=require("svgpath"),queue=require("queue"),canvasInstance=function(e){var t={},r={},n=e.getContext("2d"),o="white",i=function(){return t};return t.info={},t.end=i,t.font=i,t.translate=function(e,r){return n.translate(e,r),t},t.addPage=function(t){var r=t.size;e.width=r[0],e.height=r[1],n.clearRect(0,0,e.width,e.height)},t.save=function(){return n.save(),t},t.restore=function(){return n.restore(),t},t.moveTo=function(e,r){return n.moveTo(e,r),t},t.lineTo=function(e,r){return n.lineTo(e,r),t},t.bezierCurveTo=function(e,r,o,i,a,s){return n.bezierCurveTo(e,r,o,i,a,s),t},t.closePath=function(){return n.closePath(),t},t.clip=function(){return n.clip(),t},t.fillColor=function(e){return o=e,t},t.rect=function(e,r,o,i){return n.rect(e,r,o,i),t},t.fill=function(){return n.fillStyle=o,n.fill(),t},t.fillOpacity=function(e){return n.globalAlpha=e,t},t._addGlyphs=function(e,r){for(var o=0,i=0;i<e.length;i++){var a=e[i],s=r[i],l=svgpath(a.path.toSVG()).scale(1,-1).scale(20/2048).translate(o,0).toString();o+=s.xAdvance,n.fillStyle="#000";var u=new Path2D(l);n.stroke(u),n.fill(u)}return t},t.image=function(e,o,i,a){var s=a.width,l=a.height,u=btoa(String.fromCharCode.apply(null,e));if(r[u])n.drawImage(r[u],o,i,s,l);else{var c=document.createElement("img");c.src="data:image/png;base64,"+u,r[u]=c,c.onload=function(){n.drawImage(c,o,i,s,l)}}return t},t.clear=function(){n.clearRect(0,0,e.width,e.height)},t},CanvasViewer=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).ctx=null,t.instance=pdf(),t.renderQueue=queue({autostart:!0,concurrency:1}),t.state={layout:null,error:null},t.onRenderFailed=function(e){t.setState({error:e}),console.error(e)},t.onRenderSuccessful=function(e){t.setState({layout:e})},t}_inheritsLoose(t,e);var r=t.prototype;return r.componentDidMount=function(){this.ctx=canvasInstance(this.canvas),this.queueDocumentRender(this.props.children),this.renderQueue.on("error",this.onRenderFailed),this.renderQueue.on("success",this.onRenderSuccessful)},r.componentDidUpdate=function(e){e.children!==this.props.children&&this.queueDocumentRender(this.props.children)},r.componentWillUnmount=function(){this.renderQueue.end()},r.queueDocumentRender=function(e){var t=this;this.renderQueue.splice(0,this.renderQueue.length,function(){return t.instance.updateContainer(e),t.instance.isDirty()&&!t.state.error?t.instance.renderWithContext(t.ctx):Promise.resolve()})},r.render=function(){var e=this;return React.createElement("canvas",{height:900,id:"myCanvas",ref:function(t){return e.canvas=t},style:{border:"1px solid black"},width:900})},t}(React.Component),queue$1=require("queue"),flatStyles=function(e){return e.reduce(function(e,t){return _extends({},e,t)},{})},Document$1=function(e){var t=e.children,r=_objectWithoutPropertiesLoose(e,["children"]);return React.createElement(Document,r,t)},InternalBlobProvider=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderQueue=queue$1({autostart:!0,concurrency:1}),t.state={blob:null,url:null,loading:!0,error:null},t.queueDocumentRender=function(){t.renderQueue.splice(0,t.renderQueue.length,function(){return t.state.error?Promise.resolve():t.instance.toBlob()})},t.onRenderFailed=function(e){t.setState({error:e}),console.error(e)},t.onRenderSuccessful=function(e){var r=t.state.url;t.setState({blob:e,url:URL.createObjectURL(e),loading:!1},function(){return URL.revokeObjectURL(r)})},t}_inheritsLoose(t,e);var r=t.prototype;return r.componentDidMount=function(){this.instance=pdf({onChange:this.queueDocumentRender}),this.instance.updateContainer(this.props.document),this.renderQueue.on("error",this.onRenderFailed),this.renderQueue.on("success",this.onRenderSuccessful)},r.componentDidUpdate=function(){this.instance.updateContainer(this.props.document)},r.componentWillUnmount=function(){this.renderQueue.end()},r.render=function(){return this.props.children(this.state)},t}(React.PureComponent),BlobProvider=function(e){var t=e.document,r=e.children;return t?React.createElement(InternalBlobProvider,{document:t},r):(warning(!1,"You should pass a valid document to BlobProvider"),null)},PDFViewer=function(e){var t=e.className,r=e.style,n=e.children,o=e.innerRef,i=_objectWithoutPropertiesLoose(e,["className","style","children","innerRef"]);return React.createElement(InternalBlobProvider,{document:n},function(e){var n=e.url;return React.createElement("iframe",_extends({className:t,ref:o,src:n,style:Array.isArray(r)?flatStyles(r):r},i))})},PDFDownloadLink=function(e){var t=e.document,r=e.className,n=e.style,o=e.children,i=e.fileName,a=void 0===i?"document.pdf":i;if(!t)return warning(!1,"You should pass a valid document to PDFDownloadLink"),null;return React.createElement(InternalBlobProvider,{document:t},function(e){return React.createElement("a",{className:r,download:a,href:e.url,onClick:(t=e.blob,function(){window.navigator.msSaveBlob&&window.navigator.msSaveBlob(t,a)}),style:Array.isArray(n)?flatStyles(n):n},"function"==typeof o?o(e):o);var t})},dom={pdf:pdf,View:View,Text:Text,Link:Link,Page:Page,Font:Font$1,Note:Note,Image:Image,Canvas:Canvas,Svg:Svg,G:G,Path:Path,Rect:Rect,Line:Line,Circle:Circle,Ellipse:Ellipse,Polygon:Polygon,Polyline:Polyline,Defs:Defs,Tspan:Tspan,ClipPath:ClipPath,Stop:Stop,LinearGradient:LinearGradient,RadialGradient:RadialGradient,version:version,Document:Document$1,PDFViewer:PDFViewer,StyleSheet:StyleSheet,CanvasViewer:CanvasViewer,BlobProvider:BlobProvider,PDFDownloadLink:PDFDownloadLink};exports.Document=Document$1,exports.BlobProvider=BlobProvider,exports.PDFViewer=PDFViewer,exports.PDFDownloadLink=PDFDownloadLink,exports.default=dom,exports.pdf=pdf,exports.View=View,exports.Text=Text,exports.Link=Link,exports.Page=Page,exports.Font=Font$1,exports.Note=Note,exports.Image=Image,exports.Canvas=Canvas,exports.Svg=Svg,exports.G=G,exports.Path=Path,exports.Rect=Rect,exports.Line=Line,exports.Circle=Circle,exports.Ellipse=Ellipse,exports.Polygon=Polygon,exports.Polyline=Polyline,exports.Defs=Defs,exports.Tspan=Tspan,exports.ClipPath=ClipPath,exports.Stop=Stop,exports.LinearGradient=LinearGradient,exports.RadialGradient=RadialGradient,exports.version=version,exports.StyleSheet=StyleSheet,exports.CanvasViewer=CanvasViewer;
//# sourceMappingURL=react-pdf.browser.cjs.min.js.map
