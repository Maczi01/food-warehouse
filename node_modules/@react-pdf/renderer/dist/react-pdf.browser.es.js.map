{"version":3,"file":"react-pdf.browser.es.js","sources":["../src/constants.js","../src/stylesheet/transformStyles.js","../src/font/font.js","../src/font/emoji.js","../src/font/standard.js","../src/font/hyphenation.js","../src/font/index.js","../src/render/save.js","../src/utils/url.js","../src/render/setLink.js","../src/render/restore.js","../src/node/isSvg.js","../src/node/isText.js","../src/node/isPage.js","../src/node/isLink.js","../src/node/isNote.js","../src/node/isImage.js","../src/node/isCanvas.js","../src/render/clipNode.js","../src/render/renderPath.js","../src/render/renderRect.js","../src/render/renderLine.js","../src/render/renderEllipse.js","../src/render/renderCircle.js","../src/render/renderSvgText.js","../src/svg/parsePoints.js","../src/render/renderPolyline.js","../src/render/renderPolygon.js","../src/utils/warning.js","../src/render/renderSvgImage.js","../src/render/applyTransformations.js","../src/node/isPath.js","../src/node/isRect.js","../src/node/isLine.js","../src/node/isTspan.js","../src/node/isGroup.js","../src/node/isCircle.js","../src/node/isTextInstance.js","../src/render/renderGroup.js","../src/node/isEllipse.js","../src/node/isPolygon.js","../src/node/isPolyline.js","../src/svg/normalizePath.js","../src/svg/getBoundingBox.js","../src/render/renderSvg.js","../src/render/renderText.js","../src/render/renderPage.js","../src/render/renderNote.js","../src/utils/matchPercent.js","../src/image/resolveObjectFit.js","../src/render/renderImage.js","../src/canvas/painter.js","../src/render/renderCanvas.js","../src/node/hasVerticalRuler.js","../src/node/hasHorizontalRuler.js","../src/render/renderRulers.js","../src/render/addMetadata.js","../src/render/renderDebug.js","../src/render/renderBorders.js","../src/render/setDestination.js","../src/render/renderBackground.js","../src/render/index.js","../src/utils/capitalize.js","../src/utils/upperFirst.js","../src/text/transformText.js","../src/text/standardFont.js","../src/text/fontSubstitution.js","../src/svg/layoutText.js","../src/node/isDefs.js","../src/svg/getDefs.js","../src/svg/replaceDefs.js","../src/svg/parseViewbox.js","../src/svg/getContainer.js","../src/svg/inheritProps.js","../src/svg/parseAspectRatio.js","../src/stylesheet/transformColors.js","../src/layout/resolveSvg.js","../src/layout/resolveZIndex.js","../src/layout/resolveRulers.js","../src/utils/png.js","../src/utils/jpeg.js","../src/utils/cache.js","../src/image/resolveImage.js","../src/utils/firstPass.js","../src/image/getSource.js","../src/image/fetchImage.js","../src/text/emoji.js","../src/layout/resolveAssets.js","../src/utils/castArray.js","../src/stylesheet/flatten.js","../src/stylesheet/expandStyles.js","../src/stylesheet/transformUnits.js","../src/stylesheet/resolveMediaQueries.js","../src/layout/resolveStyles.js","../src/node/getOrigin.js","../src/layout/resolveOrigins.js","../src/page/getOrientation.js","../src/page/isLandscape.js","../src/page/getSize.js","../src/utils/assocIfNil.js","../src/layout/resolvePageSizes.js","../src/text/lineIndexAtHeight.js","../src/text/heightAtLineIndex.js","../src/text/splitText.js","../src/node/splitNode.js","../src/node/createInstance.js","../src/node/getNodesHeight.js","../src/node/shouldBreak.js","../src/node/getPadding.js","../src/page/getContentArea.js","../src/text/ignorableChars.js","../src/text/getAttributedString.js","../src/text/layoutText.js","../src/layout/resolveTextLayout.js","../src/layout/resolveInheritance.js","../src/node/getMargin.js","../src/node/getPosition.js","../src/node/getDimension.js","../src/node/getBorderWidth.js","../src/node/setDisplay.js","../src/node/setOverflow.js","../src/node/setFlexWrap.js","../src/node/setYogaValue.js","../src/node/setFlexGrow.js","../src/node/setFlexBasis.js","../src/node/setAlign.js","../src/node/setAlignSelf.js","../src/node/setAlignItems.js","../src/node/setFlexShrink.js","../src/node/setAspectRatio.js","../src/node/setAlignContent.js","../src/node/setPositionType.js","../src/node/setFlexDirection.js","../src/node/setJustifyContent.js","../src/node/setMargin.js","../src/node/setPadding.js","../src/node/setBorderWidth.js","../src/node/setPosition.js","../src/node/setDimension.js","../src/svg/measureSvg.js","../src/text/linesWidth.js","../src/text/linesHeight.js","../src/text/measureText.js","../src/image/getRatio.js","../src/page/isHeightAuto.js","../src/image/measureImage.js","../src/canvas/measureCanvas.js","../src/layout/resolveDimensions.js","../src/layout/resolvePagination.js","../src/node/removeMargins.js","../src/layout/resolvePageMargins.js","../src/layout/resolveNoteChildren.js","../src/layout/resolvePagePaddings.js","../src/layout/resolvePercentRadius.js","../src/layout/resolvePercentHeight.js","../src/layout/resolveLinkSubstitution.js","../src/utils/asyncCompose.js","../src/layout/index.js","../src/utils/propsEqual.js","../src/renderer.js","../src/stylesheet/index.js","../src/index.js","../src/canvas.js","../src/dom.js"],"sourcesContent":["export const VIEW = 'VIEW';\nexport const TEXT = 'TEXT';\nexport const LINK = 'LINK';\nexport const PAGE = 'PAGE';\nexport const NOTE = 'NOTE';\nexport const IMAGE = 'IMAGE';\nexport const DOCUMENT = 'DOCUMENT';\nexport const CANVAS = 'CANVAS';\nexport const TEXT_INSTANCE = 'TEXT_INSTANCE';\nexport const SVG = 'SVG';\nexport const GROUP = 'G';\nexport const PATH = 'PATH';\nexport const RECT = 'RECT';\nexport const LINE = 'LINE';\nexport const CIRCLE = 'CIRCLE';\nexport const ELLIPSE = 'ELLIPSE';\nexport const POLYGON = 'POLYGON';\nexport const POLYLINE = 'POLYLINE';\nexport const DEFS = 'DEFS';\nexport const TSPAN = 'TSPAN';\nexport const CLIP_PATH = 'CLIP_PATH';\nexport const STOP = 'STOP';\nexport const LINEAR_GRADIENT = 'LINEAR_GRADIENT';\nexport const RADIAL_GRADIENT = 'RADIAL_GRADIENT';\n\nexport const DPI = 72; // 72pt per inch.\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Common_weight_name_mapping\nexport const FONT_WEIGHTS = {\n  thin: 100,\n  hairline: 100,\n  ultralight: 200,\n  extralight: 200,\n  light: 300,\n  normal: 400,\n  medium: 500,\n  semibold: 600,\n  demibold: 600,\n  bold: 700,\n  ultrabold: 800,\n  extrabold: 800,\n  heavy: 900,\n  black: 900,\n};\n\nexport const PAGE_SIZES = {\n  '4A0': [4767.87, 6740.79],\n  '2A0': [3370.39, 4767.87],\n  A0: [2383.94, 3370.39],\n  A1: [1683.78, 2383.94],\n  A2: [1190.55, 1683.78],\n  A3: [841.89, 1190.55],\n  A4: [595.28, 841.89],\n  A5: [419.53, 595.28],\n  A6: [297.64, 419.53],\n  A7: [209.76, 297.64],\n  A8: [147.4, 209.76],\n  A9: [104.88, 147.4],\n  A10: [73.7, 104.88],\n  B0: [2834.65, 4008.19],\n  B1: [2004.09, 2834.65],\n  B2: [1417.32, 2004.09],\n  B3: [1000.63, 1417.32],\n  B4: [708.66, 1000.63],\n  B5: [498.9, 708.66],\n  B6: [354.33, 498.9],\n  B7: [249.45, 354.33],\n  B8: [175.75, 249.45],\n  B9: [124.72, 175.75],\n  B10: [87.87, 124.72],\n  C0: [2599.37, 3676.54],\n  C1: [1836.85, 2599.37],\n  C2: [1298.27, 1836.85],\n  C3: [918.43, 1298.27],\n  C4: [649.13, 918.43],\n  C5: [459.21, 649.13],\n  C6: [323.15, 459.21],\n  C7: [229.61, 323.15],\n  C8: [161.57, 229.61],\n  C9: [113.39, 161.57],\n  C10: [79.37, 113.39],\n  RA0: [2437.8, 3458.27],\n  RA1: [1729.13, 2437.8],\n  RA2: [1218.9, 1729.13],\n  RA3: [864.57, 1218.9],\n  RA4: [609.45, 864.57],\n  SRA0: [2551.18, 3628.35],\n  SRA1: [1814.17, 2551.18],\n  SRA2: [1275.59, 1814.17],\n  SRA3: [907.09, 1275.59],\n  SRA4: [637.8, 907.09],\n  EXECUTIVE: [521.86, 756.0],\n  FOLIO: [612.0, 936.0],\n  LEGAL: [612.0, 1008.0],\n  LETTER: [612.0, 792.0],\n  TABLOID: [792.0, 1224.0],\n};\n\nexport const PORTRAIT = 'portrait';\nexport const LANDSCAPE = 'landscape';\n\nexport const INHERITED_PROPERTIES = [\n  'color',\n  'fontFamily',\n  'fontSize',\n  'fontStyle',\n  'fontWeight',\n  'letterSpacing',\n  'opacity',\n  'textDecoration',\n  'lineHeight',\n  'textAlign',\n  'visibility',\n  'wordSpacing',\n];\n\nexport const SVG_INHERITED_PROPS = [\n  'x',\n  'y',\n  'clipPath',\n  'clipRule',\n  'opacity',\n  'fill',\n  'fillOpacity',\n  'fillRule',\n  'stroke',\n  'strokeLinecap',\n  'strokeLinejoin',\n  'strokeOpacity',\n  'strokeWidth',\n  'textAnchor',\n  ...INHERITED_PROPERTIES,\n];\n\nexport const RULER_WIDTH = 13;\nexport const RULER_COLOR = 'white';\nexport const RULER_FONT_SIZE = 6;\nexport const DEFAULT_RULER_STEPS = 50;\nexport const LINE_WIDTH = 0.5;\nexport const LINE_COLOR = 'gray';\nexport const GRID_COLOR = '#ababab';\n","import * as R from 'ramda';\n\nimport { FONT_WEIGHTS } from '../constants';\n\nconst BOX_MODEL_REGEX = /\\d+(px|in|mm|cm|pt|%|vw|vh|px)?/g;\nconst OBJECT_POSITION_REGEX = /\\d+(px|in|mm|cm|pt|%|vw|vh|px)?/g;\nconst BORDER_SHORTHAND_REGEX = /(\\d+(px|in|mm|cm|pt|vw|vh|px)?)\\s(\\S+)\\s(\\S+)/;\nconst TRANSFORM_ORIGIN_REGEX = /(-?\\d+(px|in|mm|cm|pt|%|vw|vh|px)?)|top|right|bottom|left|center/g;\n\nconst matchBoxModel = R.match(BOX_MODEL_REGEX);\nconst matchObjectPosition = R.match(OBJECT_POSITION_REGEX);\nconst matchBorderShorthand = R.match(BORDER_SHORTHAND_REGEX);\nconst matchTransformOrigin = R.match(TRANSFORM_ORIGIN_REGEX);\n\nconst isNumber = R.is(Number);\n\nconst isFontWeightStyle = key => key.match(/^fontWeight/);\n\nconst isBorderStyle = (key, value) =>\n  key.match(/^border(Top|Right|Bottom|Left)(Color|Width|Style)/) &&\n  typeof value === 'string';\n\nconst isBoxModelStyle = (key, value) =>\n  key.match(/^(margin)|(padding)/) && typeof value === 'string';\n\nconst isObjectPositionStyle = (key, value) =>\n  key.match(/^objectPosition/) && typeof value === 'string';\n\nconst isTransformOriginStyle = (key, value) =>\n  key.match(/^transformOrigin/) && typeof value === 'string';\n\nconst isFlexGrow = key => key === 'flexGrow';\n\nconst isFlexShrink = key => key === 'flexShrink';\n\nconst isFlexBasis = key => key === 'flexBasis';\n\nconst processBorders = (key, value) => {\n  const match = matchBorderShorthand(value);\n\n  if (match) {\n    if (key.match(/Color$/)) {\n      return match[4] || value;\n    } else if (key.match(/Style$/)) {\n      return match[3] || value;\n    } else if (key.match(/Width$/)) {\n      return match[1] || value;\n    } else {\n      throw new Error(`StyleSheet: Invalid '${value}' for '${key}'`);\n    }\n  }\n\n  return value;\n};\n\nconst processBoxModel = (key, value) => {\n  const match = matchBoxModel(value);\n\n  if (match) {\n    if (key.match(/Top$/)) {\n      return match[0];\n    } else if (key.match(/Right$/)) {\n      return match[1] || match[0];\n    } else if (key.match(/Bottom$/)) {\n      return match[2] || match[0];\n    } else if (key.match(/Left$/)) {\n      return match[3] || match[1] || match[0];\n    } else {\n      throw new Error(`StyleSheet: Invalid '${value}' for '${key}'`);\n    }\n  }\n\n  return value;\n};\n\nexport const processFontWeight = (key, value) => {\n  if (!value) return FONT_WEIGHTS.normal;\n  if (typeof value === 'number') return value;\n  return FONT_WEIGHTS[value.toLowerCase()];\n};\n\nexport const processObjectPosition = (key, value) => {\n  const match = matchObjectPosition(value);\n\n  if (match) {\n    if (key.match(/X$/)) {\n      return match[0] || value;\n    } else if (key.match(/Y$/)) {\n      return match[1] || value;\n    } else {\n      throw new Error(`StyleSheet: Invalid '${value}' for '${key}'`);\n    }\n  }\n\n  return value;\n};\n\nconst transformOffsetKeywords = value => {\n  switch (value) {\n    case 'top':\n    case 'left':\n      return '0%';\n    case 'right':\n    case 'bottom':\n      return '100%';\n    case 'center':\n      return '50%';\n    default:\n      return value;\n  }\n};\n\n// Transforms shorthand transformOrigin values\nconst processTransformOrigin = (key, value) => {\n  const match = matchTransformOrigin(value);\n\n  if (match) {\n    let result;\n\n    if (key.match(/X$/)) {\n      result = match[0] || value;\n    } else if (key.match(/Y$/)) {\n      result = match[1] || match[0] || value;\n    } else {\n      throw new Error(`StyleSheet: Invalid '${value}' for '${key}'`);\n    }\n\n    return transformOffsetKeywords(result);\n  }\n\n  return value;\n};\n\nconst processFlexGrow = (key, value) => {\n  if (isNumber(value)) return value;\n  const matches = value.split(' ');\n  return matches[0];\n};\n\nconst processFlexShrink = (key, value) => {\n  if (isNumber(value)) return value;\n  const matches = value.split(' ');\n  return matches[1];\n};\n\nconst processFlexBasis = (key, value) => {\n  if (isNumber(value)) return value;\n  const matches = value.split(' ');\n  return matches[2];\n};\n\nconst keepSame = (key, value) => value;\n\nconst matchNumber = R.when(R.is(String), R.test(/^-?\\d*\\.?\\d*$/));\n\nconst castFloat = R.when(matchNumber, v => parseFloat(v, 10));\n\n/**\n * Transforms style key-value\n *\n * @param {String} key style key\n * @param {String} value style value\n * @returns {String | Number} transformed style values\n */\nconst transformStyle = R.compose(\n  castFloat,\n  R.cond([\n    [isBorderStyle, processBorders],\n    [isBoxModelStyle, processBoxModel],\n    [isObjectPositionStyle, processObjectPosition],\n    [isTransformOriginStyle, processTransformOrigin],\n    [isFontWeightStyle, processFontWeight],\n    [isFlexGrow, processFlexGrow],\n    [isFlexShrink, processFlexShrink],\n    [isFlexBasis, processFlexBasis],\n    [R.T, keepSame],\n  ]),\n);\n\n/**\n * Transforms already expanded styles shortcuts into appropiate values\n * Ex. marginTopWidth: '2 solid red' -> marginTopWidth: 2\n *\n * @param {Object} styles expanded object\n * @returns {Object} transformed styles\n */\nconst transformStyles = R.mapObjIndexed(R.flip(transformStyle));\n\nexport default transformStyles;\n","import isUrl from 'is-url';\nimport fontkit from '@react-pdf/fontkit';\nimport fetch from 'cross-fetch';\n\nimport { processFontWeight } from '../stylesheet/transformStyles';\n\nconst fetchFont = async (src, options) => {\n  const response = await fetch(src, options);\n\n  const buffer = await (response.buffer\n    ? response.buffer()\n    : response.arrayBuffer());\n\n  return buffer.constructor.name === 'Buffer' ? buffer : Buffer.from(buffer);\n};\n\nclass FontSource {\n  constructor(src, fontFamily, fontStyle, fontWeight, options) {\n    this.src = src;\n    this.fontFamily = fontFamily;\n    this.fontStyle = fontStyle || 'normal';\n    this.fontWeight = processFontWeight(fontWeight) || 400;\n\n    this.data = null;\n    this.loading = false;\n    this.options = options;\n  }\n\n  async load() {\n    this.loading = true;\n\n    if (BROWSER || isUrl(this.src)) {\n      const { headers, body, method = 'GET' } = this.options;\n      const data = await fetchFont(this.src, { method, body, headers });\n      this.data = fontkit.create(data);\n    } else {\n      this.data = await new Promise((resolve, reject) =>\n        fontkit.open(this.src, (err, data) =>\n          err ? reject(err) : resolve(data),\n        ),\n      );\n    }\n\n    this.loading = false;\n  }\n}\n\nclass Font {\n  static create(family) {\n    return new Font(family);\n  }\n\n  constructor(family) {\n    this.family = family;\n    this.sources = [];\n  }\n\n  register({ src, fontWeight, fontStyle, ...options }) {\n    this.sources.push(\n      new FontSource(src, this.fontFamily, fontStyle, fontWeight, options),\n    );\n  }\n\n  resolve(descriptor) {\n    const { fontWeight = 400, fontStyle = 'normal' } = descriptor;\n    const styleSources = this.sources.filter(s => s.fontStyle === fontStyle);\n\n    // Weight resolution. https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Fallback_weights\n    const exactFit = styleSources.find(s => s.fontWeight === fontWeight);\n\n    if (exactFit) return exactFit;\n\n    let res;\n\n    if (fontWeight >= 400 && fontWeight <= 500) {\n      const leftOffset = styleSources.filter(s => s.fontWeight <= fontWeight);\n      const rightOffset = styleSources.filter(s => s.fontWeight > 500);\n      const fit = styleSources.filter(\n        s => s.fontWeight >= fontWeight && s.fontWeight < 500,\n      );\n\n      res = fit[0] || leftOffset[leftOffset.length - 1] || rightOffset[0];\n    }\n\n    const lt = styleSources.filter(s => s.fontWeight < fontWeight);\n    const gt = styleSources.filter(s => s.fontWeight > fontWeight);\n\n    if (fontWeight < 400) {\n      res = lt[lt.length - 1] || gt[0];\n    }\n\n    if (fontWeight > 500) {\n      res = gt[0] || lt[lt.length - 1];\n    }\n\n    if (!res) {\n      throw new Error(\n        `Could not resolve font for ${\n          this.fontFamily\n        }, fontWeight ${fontWeight}`,\n      );\n    }\n\n    return res;\n  }\n}\n\nexport default Font;\n","let emojiSource;\n\nexport const registerEmojiSource = ({ url, format = 'png' }) => {\n  emojiSource = { url, format };\n};\n\nexport const getEmojiSource = () => emojiSource;\n\nexport default {\n  registerEmojiSource,\n  getEmojiSource,\n};\n","export default [\n  'Courier',\n  'Courier-Bold',\n  'Courier-Oblique',\n  'Helvetica',\n  'Helvetica-Bold',\n  'Helvetica-Oblique',\n  'Times-Roman',\n  'Times-Bold',\n  'Times-Italic',\n];\n","let hyphenationCallback;\n\nexport const registerHyphenationCallback = callback => {\n  hyphenationCallback = callback;\n};\n\nexport const getHyphenationCallback = () => hyphenationCallback;\n\nexport default {\n  registerHyphenationCallback,\n  getHyphenationCallback,\n};\n","import font from './font';\nimport emoji from './emoji';\nimport standardFonts from './standard';\nimport hyphenation from './hyphenation';\n\nlet fonts = {};\n\nconst register = data => {\n  const { family } = data;\n\n  if (!fonts[family]) {\n    fonts[family] = font.create(family);\n  }\n\n  // Bulk loading\n  if (data.fonts) {\n    for (let i = 0; i < data.fonts.length; i++) {\n      fonts[family].register({ family, ...data.fonts[i] });\n    }\n  } else {\n    fonts[family].register(data);\n  }\n};\n\nconst getRegisteredFonts = () => fonts;\n\nconst getRegisteredFontFamilies = () => Object.keys(fonts);\n\nconst getFont = descriptor => {\n  const { fontFamily } = descriptor;\n  const isStandard = standardFonts.includes(fontFamily);\n\n  if (isStandard) return null;\n\n  if (!fonts[fontFamily]) {\n    throw new Error(\n      `Font family not registered: ${fontFamily}. Please register it calling Font.register() method.`,\n    );\n  }\n\n  return fonts[fontFamily].resolve(descriptor);\n};\n\nconst load = async function(descriptor) {\n  const { fontFamily } = descriptor;\n  const isStandard = standardFonts.includes(fontFamily);\n\n  if (isStandard) return;\n\n  const font = getFont(descriptor);\n\n  // We cache the font to avoid fetching it many times\n  if (!font.data && !font.loading) {\n    await font.load();\n  }\n};\n\nconst reset = function() {\n  for (const font in fonts) {\n    if (fonts.hasOwnProperty(font)) {\n      fonts[font].data = null;\n    }\n  }\n};\n\nconst clear = function() {\n  fonts = {};\n};\n\nexport default {\n  register,\n  getRegisteredFonts,\n  getRegisteredFontFamilies,\n  getFont,\n  load,\n  clear,\n  reset,\n  ...emoji,\n  ...hyphenation,\n};\n","import * as R from 'ramda';\n\nconst save = (ctx, node) => {\n  ctx.save();\n  return node;\n};\n\nexport default R.curryN(2, save);\n","const PROTOCOL_REGEXP = /^([a-z]+\\:(\\/\\/)?)/i;\nconst DEST_REGEXP = /^#.+/;\n\n/**\n * Add protocol th URL if valid\n *\n * @param {String} value url\n * @returns {String} corrected url\n */\nexport const getURL = value => {\n  if (!value) return '';\n\n  if (isSrcId(value)) return value; // don't modify it if it is an id\n\n  if (typeof value === 'string' && !value.match(PROTOCOL_REGEXP)) {\n    return `http://${value}`;\n  }\n\n  return value;\n};\n\nexport const isSrcId = src => src.match(DEST_REGEXP);\n\nexport const setLink = node => {\n  if (!node.src) {\n    return;\n  }\n\n  const { top, left, width, height } = node.getAbsoluteLayout();\n  const instanceMethod = isSrcId(node.src) ? 'goTo' : 'link';\n  const nodeSrc = isSrcId(node.src) ? node.src.slice(1) : node.src;\n\n  node.root.instance[instanceMethod](left, top, width, height, nodeSrc);\n};\n\nexport const setDestination = node => {\n  if (!node.props.id) {\n    return;\n  }\n\n  const { top } = node.getAbsoluteLayout();\n  node.root.instance.addNamedDestination(node.props.id, 'XYZ', null, top, null);\n};\n","import * as R from 'ramda';\n\nimport { getURL } from '../utils/url';\n\nconst DEST_REGEXP = /^#.+/;\n\nconst isSrcId = R.test(DEST_REGEXP);\n\nconst getSource = R.compose(\n  R.either(R.path(['props', 'src']), R.path(['props', 'href'])),\n);\n\nconst setLink = (ctx, node) => {\n  const { top, left, width, height } = node.box;\n  const src = getSource(node);\n  const instanceMethod = isSrcId(src) ? 'goTo' : 'link';\n  const value = isSrcId(src) ? src.slice(1) : getURL(src);\n\n  if (value) {\n    ctx[instanceMethod](left, top, width, height, value);\n  }\n\n  return node;\n};\n\nexport default R.curryN(2, setLink);\n","import * as R from 'ramda';\n\nconst restore = (ctx, node) => {\n  ctx.restore();\n  return node;\n};\n\nexport default R.curryN(2, restore);\n","import * as R from 'ramda';\n\nimport { SVG } from '../constants';\n\n/**\n * Checks if node is svg\n *\n * @param {Object} node\n * @returns {Boolean} is node svg?\n */\nconst isSvg = R.propEq('type', SVG);\n\nexport default isSvg;\n","import * as R from 'ramda';\n\nimport { TEXT } from '../constants';\n\n/**\n * Checks if node is text\n *\n * @param {Object} node\n * @returns {Boolean} is node text?\n */\nconst isText = R.propEq('type', TEXT);\n\nexport default isText;\n","import * as R from 'ramda';\n\nimport { PAGE } from '../constants';\n\n/**\n * Checks if node is page\n *\n * @param {Object} node\n * @returns {Boolean} is node page?\n */\nconst isPage = R.propEq('type', PAGE);\n\nexport default isPage;\n","import * as R from 'ramda';\n\nimport { LINK, TEXT } from '../constants';\n\n/**\n * Checks if node has valid source prop\n *\n * @param {Object} node\n * @returns {Boolean} does node have source prop?\n */\nconst hasSource = R.either(\n  R.hasPath(['props', 'src']),\n  R.hasPath(['props', 'href']),\n);\n\n/**\n * Checks if node is link\n *\n * @param {Object} node\n * @returns {Boolean} is node link?\n */\nconst isLink = R.either(\n  R.propEq('type', LINK),\n  R.both(R.propEq('type', TEXT), hasSource),\n);\n\nexport default isLink;\n","import * as R from 'ramda';\n\nimport { NOTE } from '../constants';\n\n/**\n * Checks if node is note\n *\n * @param {Object} node\n * @returns {Boolean} is node note?\n */\nconst isNote = R.propEq('type', NOTE);\n\nexport default isNote;\n","import * as R from 'ramda';\n\nimport { IMAGE } from '../constants';\n\n/**\n * Checks if node is image\n *\n * @param {Object} node\n * @returns {Boolean} is node image?\n */\nconst isImage = R.propEq('type', IMAGE);\n\nexport default isImage;\n","import * as R from 'ramda';\n\nimport { CANVAS } from '../constants';\n\n/**\n * Checks if node is canvas\n *\n * @param {Object} node\n * @returns {Boolean} is node canvas?\n */\nconst isCanvas = R.propEq('type', CANVAS);\n\nexport default isCanvas;\n","import * as R from 'ramda';\n\n// This constant is used to approximate a symmetrical arc using a cubic\n// Bezier curve.\nconst KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nconst clipNode = (ctx, node) => {\n  const { top, left, width, height } = node.box;\n\n  const {\n    borderTopLeftRadius = 0,\n    borderTopRightRadius = 0,\n    borderBottomRightRadius = 0,\n    borderBottomLeftRadius = 0,\n  } = node.style;\n\n  // Border top\n  const rtr = Math.min(borderTopRightRadius, 0.5 * width, 0.5 * height);\n  const ctr = rtr * (1.0 - KAPPA);\n\n  ctx.moveTo(left + rtr, top);\n  ctx.lineTo(left + width - rtr, top);\n  ctx.bezierCurveTo(\n    left + width - ctr,\n    top,\n    left + width,\n    top + ctr,\n    left + width,\n    top + rtr,\n  );\n\n  // Border right\n  const rbr = Math.min(borderBottomRightRadius, 0.5 * width, 0.5 * height);\n  const cbr = rbr * (1.0 - KAPPA);\n\n  ctx.lineTo(left + width, top + height - rbr);\n  ctx.bezierCurveTo(\n    left + width,\n    top + height - cbr,\n    left + width - cbr,\n    top + height,\n    left + width - rbr,\n    top + height,\n  );\n\n  // Border bottom\n  const rbl = Math.min(borderBottomLeftRadius, 0.5 * width, 0.5 * height);\n  const cbl = rbl * (1.0 - KAPPA);\n\n  ctx.lineTo(left + rbl, top + height);\n  ctx.bezierCurveTo(\n    left + cbl,\n    top + height,\n    left,\n    top + height - cbl,\n    left,\n    top + height - rbl,\n  );\n\n  // Border left\n  const rtl = Math.min(borderTopLeftRadius, 0.5 * width, 0.5 * height);\n  const ctl = rtl * (1.0 - KAPPA);\n\n  ctx.lineTo(left, top + rtl);\n  ctx.bezierCurveTo(left, top + ctl, left + ctl, top, left + rtl, top);\n  ctx.closePath();\n  ctx.clip();\n\n  return node;\n};\n\nexport default R.curryN(2, clipNode);\n","import * as R from 'ramda';\n\nconst renderPath = ctx =>\n  R.tap(node => {\n    const d = R.path(['props', 'd'], node);\n    if (d) ctx.path(node.props.d);\n  });\n\nexport default renderPath;\n","import * as R from 'ramda';\n\nconst KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nconst getProp = (d, p, v) => R.pathOr(d, ['props', p], v);\n\nconst renderRect = ctx => node => {\n  const x = getProp(0, 'x', node);\n  const y = getProp(0, 'y', node);\n  const rx = getProp(0, 'rx', node);\n  const ry = getProp(0, 'ry', node);\n  const width = getProp(0, 'width', node);\n  const height = getProp(0, 'height', node);\n\n  if (!width || !height) return node;\n\n  if (rx && ry) {\n    const krx = rx * KAPPA;\n    const kry = ry * KAPPA;\n\n    ctx.moveTo(x + rx, y);\n    ctx.lineTo(x - rx + width, y);\n    ctx.bezierCurveTo(\n      x - rx + width + krx,\n      y,\n      x + width,\n      y + ry - kry,\n      x + width,\n      y + ry,\n    );\n    ctx.lineTo(x + width, y + height - ry);\n    ctx.bezierCurveTo(\n      x + width,\n      y + height - ry + kry,\n      x - rx + width + krx,\n      y + height,\n      x - rx + width,\n      y + height,\n    );\n    ctx.lineTo(x + rx, y + height);\n    ctx.bezierCurveTo(\n      x + rx - krx,\n      y + height,\n      x,\n      y + height - ry + kry,\n      x,\n      y + height - ry,\n    );\n    ctx.lineTo(x, y + ry);\n    ctx.bezierCurveTo(x, y + ry - kry, x + rx - krx, y, x + rx, y);\n  } else {\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + width, y);\n    ctx.lineTo(x + width, y + height);\n    ctx.lineTo(x, y + height);\n  }\n\n  ctx.closePath();\n\n  return node;\n};\n\nexport default renderRect;\n","import * as R from 'ramda';\n\nconst getProp = (p, v) => R.path(['props', p], v);\n\nconst renderLine = ctx => node => {\n  const x1 = getProp('x1', node);\n  const y1 = getProp('y1', node);\n  const x2 = getProp('x2', node);\n  const y2 = getProp('y2', node);\n\n  ctx.moveTo(x1, y1);\n  ctx.lineTo(x2, y2);\n\n  return node;\n};\n\nexport default renderLine;\n","import * as R from 'ramda';\n\nconst KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nconst getProp = (p, v) => R.path(['props', p], v);\n\nexport const drawEllipse = (ctx, cx, cy, rx, ry) => {\n  const x = cx - rx;\n  const y = cy - ry;\n  const ox = rx * KAPPA;\n  const oy = ry * KAPPA;\n  const xe = x + rx * 2;\n  const ye = y + ry * 2;\n  const xm = x + rx;\n  const ym = y + ry;\n\n  ctx.moveTo(x, ym);\n  ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n  ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n  ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n  ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n  ctx.closePath();\n};\n\nconst renderEllipse = ctx =>\n  R.tap(node => {\n    const cx = getProp('cx', node);\n    const cy = getProp('cy', node);\n    const rx = getProp('rx', node);\n    const ry = getProp('ry', node);\n\n    drawEllipse(ctx, cx, cy, rx, ry);\n  });\n\nexport default renderEllipse;\n","import * as R from 'ramda';\n\nimport { drawEllipse } from './renderEllipse';\n\nconst getProp = (p, v) => R.path(['props', p], v);\n\nconst renderCircle = ctx =>\n  R.tap(node => {\n    const cx = getProp('cx', node);\n    const cy = getProp('cy', node);\n    const r = getProp('r', node);\n\n    drawEllipse(ctx, cx, cy, r, r);\n  });\n\nexport default renderCircle;\n","import * as R from 'ramda';\n\nimport runWidth from '@react-pdf/textkit/run/advanceWidth';\nimport lineWidth from '@react-pdf/textkit/attributedString/advanceWidth';\n\nconst renderRun = (ctx, run) => {\n  const runAdvanceWidth = runWidth(run);\n  const { font, fontSize, color, opacity } = run.attributes;\n\n  ctx.fillColor(color);\n  ctx.fillOpacity(opacity);\n\n  if (font.sbix || (font.COLR && font.CPAL)) {\n    ctx.save();\n    ctx.translate(0, -run.ascent);\n\n    for (let i = 0; i < run.glyphs.length; i++) {\n      const position = run.positions[i];\n      const glyph = run.glyphs[i];\n\n      ctx.save();\n      ctx.translate(position.xOffset, position.yOffset);\n\n      glyph.render(ctx, fontSize);\n\n      ctx.restore();\n      ctx.translate(position.xAdvance, position.yAdvance);\n    }\n\n    ctx.restore();\n  } else {\n    ctx.font(typeof font.name === 'string' ? font.name : font, fontSize);\n\n    try {\n      ctx._addGlyphs(run.glyphs, run.positions, 0, 0);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  ctx.translate(runAdvanceWidth, 0);\n};\n\nconst renderSpan = (ctx, line, textAnchor) => {\n  ctx.save();\n\n  const x = R.pathOr(0, ['box', 'x'], line);\n  const y = R.pathOr(0, ['box', 'y'], line);\n  const width = lineWidth(line);\n\n  switch (textAnchor) {\n    case 'middle':\n      ctx.translate(x - width / 2, y);\n      break;\n    case 'end':\n      ctx.translate(x - width, y);\n      break;\n    default:\n      ctx.translate(x, y);\n      break;\n  }\n\n  for (const run of line.runs) {\n    renderRun(ctx, run);\n  }\n\n  ctx.restore();\n};\n\nconst renderSvgText = ctx => node => {\n  for (const span of node.children) {\n    renderSpan(ctx, span.lines[0], span.props.textAnchor);\n  }\n\n  return node;\n};\n\nexport default renderSvgText;\n","import * as R from 'ramda';\n\nconst isOdd = x => x % 2 !== 0;\n\nconst lengthIsOdd = R.o(isOdd, R.prop('length'));\n\nconst parsePoints = R.compose(\n  R.splitEvery(2),\n  R.map(parseFloat),\n  R.when(lengthIsOdd, R.slice(0, -1)),\n  R.split(/\\s+/),\n  R.replace(/(\\d)-(\\d)/g, '$1 -$2'),\n  R.replace(/,/g, ' '),\n  R.trim,\n);\n\nexport default parsePoints;\n","import * as R from 'ramda';\n\nimport parsePoints from '../svg/parsePoints';\n\nexport const drawPolyline = ctx => points => {\n  if (points.length > 0) {\n    ctx.moveTo(points[0][0], points[0][1]);\n    points.slice(1).forEach(p => ctx.lineTo(p[0], p[1]));\n  }\n};\n\nconst renderPolyline = ctx =>\n  R.tap(\n    R.compose(\n      drawPolyline(ctx),\n      parsePoints,\n      R.pathOr('', ['props', 'points']),\n    ),\n  );\n\nexport default renderPolyline;\n","import * as R from 'ramda';\n\nimport renderPolyline from './renderPolyline';\n\nconst closePath = ctx => R.tap(() => ctx.closePath());\n\nconst renderPolygon = ctx =>\n  R.compose(\n    closePath(ctx),\n    renderPolyline(ctx),\n  );\n\nexport default renderPolygon;\n","function printWarning(format, ...args) {\n  let argIndex = 0;\n  const message = 'Warning: ' + format.replace(/%s/g, () => args[argIndex++]);\n\n  if (typeof console !== 'undefined') {\n    console.error(message);\n  }\n\n  try {\n    throw new Error(message);\n  } catch (x) {}\n}\n\nconst __DEV__ = process.env.NODE_ENV !== 'production';\n\nconst warning = __DEV__\n  ? (condition, format, ...args) => {\n      if (format === undefined) {\n        throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n            'message argument',\n        );\n      }\n      if (!condition) {\n        printWarning(format, ...args);\n      }\n    }\n  : () => {};\n\nexport default warning;\n","import * as R from 'ramda';\n\nimport save from './save';\nimport restore from './restore';\nimport warning from '../utils/warning';\n\nconst drawImage = ctx => node => {\n  const { x, y } = node.props;\n  const { width, height, opacity } = node.style;\n  const paddingTop = node.box.paddingLeft || 0;\n  const paddingLeft = node.box.paddingLeft || 0;\n\n  if (node.image.data) {\n    if (width !== 0 && height !== 0) {\n      ctx\n        .fillOpacity(opacity || 1)\n        .image(node.image.data, x + paddingLeft, y + paddingTop, {\n          width,\n          height,\n        });\n    } else {\n      warning(\n        false,\n        `Image with src '${node.props.href}' skipped due to invalid dimensions`,\n      );\n    }\n  }\n\n  return node;\n};\n\nconst renderImage = (ctx, node) => {\n  R.compose(\n    restore(ctx),\n    drawImage(ctx),\n    save(ctx),\n  )(node);\n\n  return node;\n};\n\nexport default R.curryN(2, renderImage);\n","import * as R from 'ramda';\n\n// TODO: Implement using only matrices to support skew and even more operations than css.\n\nconst getRotation = transform => {\n  const match = /rotate\\((-?\\d+.?\\d+)(.+)\\)/g.exec(transform);\n\n  if (match && match[1] && match[2]) {\n    const value = match[1];\n    return match[2] === 'rad' ? (value * 180) / Math.PI : value;\n  }\n\n  return 0;\n};\n\nconst getTranslateX = transform => {\n  const matchX = /translateX\\((-?\\d+\\.?d*)\\)/g.exec(transform);\n  const matchGeneric = /translate\\((-?\\d+\\.?d*).*(,|\\s)\\s*(-?\\d+\\.?d*).*\\)/g.exec(\n    transform,\n  );\n\n  if (matchX && matchX[1]) return matchX[1];\n  if (matchGeneric && matchGeneric[1]) return matchGeneric[1];\n\n  return 0;\n};\n\nconst getTranslateY = transform => {\n  const matchY = /translateY\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  const matchGeneric = /translate\\((-?\\d+\\.?\\d*).*(,|\\s)\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(\n    transform,\n  );\n\n  if (matchY && matchY[1]) return matchY[1];\n  if (matchGeneric && matchGeneric[3]) return matchGeneric[3];\n\n  return 0;\n};\n\nconst getScaleX = transform => {\n  const matchX = /scaleX\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  const matchGeneric = /scale\\((-?\\d+\\.?\\d*).*,?\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(\n    transform,\n  );\n\n  if (matchX && matchX[1]) return matchX[1];\n  if (matchGeneric && matchGeneric[1]) return matchGeneric[1];\n\n  return 1;\n};\n\nconst getScaleY = transform => {\n  const matchY = /scaleY\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  const matchGeneric = /scale\\((-?\\d+\\.?\\d*).*,?\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(\n    transform,\n  );\n\n  if (matchY && matchY[1]) return matchY[1];\n  if (matchGeneric && matchGeneric[2]) return matchGeneric[2];\n\n  return 1;\n};\n\nconst getMatrix = transform => {\n  const match = /matrix\\(([^,]+),([^,]+),([^,]+),([^,]+),([^,]+),([^,]+)\\)/g.exec(\n    transform,\n  );\n  if (match) return match.slice(1, 7);\n  return null;\n};\n\nconst applySingleTransformation = (ctx, transform, origin) => {\n  if (/rotate/g.test(transform)) {\n    ctx.rotate(getRotation(transform), { origin });\n  } else if (/scaleX/g.test(transform)) {\n    ctx.scale(getScaleX(transform), 1, { origin });\n  } else if (/scaleY/g.test(transform)) {\n    ctx.scale(1, getScaleY(transform), { origin });\n  } else if (/scale/g.test(transform)) {\n    ctx.scale(getScaleX(transform), getScaleY(transform), {\n      origin,\n    });\n  } else if (/translateX/g.test(transform)) {\n    ctx.translate(getTranslateX(transform), 1, { origin });\n  } else if (/translateY/g.test(transform)) {\n    ctx.translate(1, getTranslateY(transform), { origin });\n  } else if (/translate/g.test(transform)) {\n    ctx.translate(getTranslateX(transform), getTranslateY(transform), {\n      origin,\n    });\n  } else if (/matrix/g.test(transform)) {\n    ctx.transform(...getMatrix(transform));\n  }\n};\n\nconst applyTransformations = (ctx, node) => {\n  if (!node.origin) return node;\n\n  let match;\n  const re = /[a-zA-Z]+\\([^)]+\\)/g;\n  const origin = [node.origin.left, node.origin.top];\n  const transform =\n    (node.style && node.style.transform) ||\n    (node.props && node.props.transform) ||\n    '';\n\n  while ((match = re.exec(transform)) != null) {\n    applySingleTransformation(ctx, match[0], origin);\n  }\n\n  return node;\n};\n\nexport default R.curryN(2, applyTransformations);\n","import * as R from 'ramda';\n\nimport { PATH } from '../constants';\n\n/**\n * Checks if node is path\n *\n * @param {Object} node\n * @returns {Boolean} is node path?\n */\nconst isPath = R.propEq('type', PATH);\n\nexport default isPath;\n","import * as R from 'ramda';\n\nimport { RECT } from '../constants';\n\n/**\n * Checks if node is rect\n *\n * @param {Object} node\n * @returns {Boolean} is node rect?\n */\nconst isRect = R.propEq('type', RECT);\n\nexport default isRect;\n","import * as R from 'ramda';\n\nimport { LINE } from '../constants';\n\n/**\n * Checks if node is line\n *\n * @param {Object} node\n * @returns {Boolean} is node line?\n */\nconst isLine = R.propEq('type', LINE);\n\nexport default isLine;\n","import * as R from 'ramda';\n\nimport { TSPAN } from '../constants';\n\n/**\n * Checks if node is tspan\n *\n * @param {Object} node\n * @returns {Boolean} is node tspan?\n */\nconst isTspan = R.propEq('type', TSPAN);\n\nexport default isTspan;\n","import * as R from 'ramda';\n\nimport { GROUP } from '../constants';\n\n/**\n * Checks if node is group\n *\n * @param {Object} node\n * @returns {Boolean} is node group?\n */\nconst isGroup = R.propEq('type', GROUP);\n\nexport default isGroup;\n","import * as R from 'ramda';\n\nimport { CIRCLE } from '../constants';\n\n/**\n * Checks if node is circle\n *\n * @param {Object} node\n * @returns {Boolean} is node circle?\n */\nconst isCircle = R.propEq('type', CIRCLE);\n\nexport default isCircle;\n","import * as R from 'ramda';\n\nimport { TEXT_INSTANCE } from '../constants';\n\n/**\n * Checks if node is text intance\n *\n * @param {Object} node\n * @returns {Boolean} is node text intance?\n */\nconst isTextInstance = R.propEq('type', TEXT_INSTANCE);\n\nexport default isTextInstance;\n","import * as R from 'ramda';\n\nconst renderGroup = () => R.identity;\n\nexport default renderGroup;\n","import * as R from 'ramda';\n\nimport { ELLIPSE } from '../constants';\n\n/**\n * Checks if node is ellipse\n *\n * @param {Object} node\n * @returns {Boolean} is node ellipse?\n */\nconst isEllipse = R.propEq('type', ELLIPSE);\n\nexport default isEllipse;\n","import * as R from 'ramda';\n\nimport { POLYGON } from '../constants';\n\n/**\n * Checks if node is polygon\n *\n * @param {Object} node\n * @returns {Boolean} is node polygon?\n */\nconst isPolygon = R.propEq('type', POLYGON);\n\nexport default isPolygon;\n","import * as R from 'ramda';\n\nimport { POLYLINE } from '../constants';\n\n/**\n * Checks if node is polyline\n *\n * @param {Object} node\n * @returns {Boolean} is node polyline?\n */\nconst isPolyline = R.propEq('type', POLYLINE);\n\nexport default isPolyline;\n","import arcToCurve from 'svg-arc-to-cubic-bezier';\n\n// From https://github.com/jkroso/normalize-svg-path/blob/master/index.js\n// Copied here because an import issue with 'svg-arc-to-cubic-bezier'\nconst normalizePath = path => {\n  const result = [];\n\n  let prev;\n  let bezierX = 0;\n  let bezierY = 0;\n  let startX = 0;\n  let startY = 0;\n  let quadX = null;\n  let quadY = null;\n  let x = 0;\n  let y = 0;\n\n  for (let i = 0, len = path.length; i < len; i++) {\n    let seg = path[i];\n    const command = seg[0];\n\n    switch (command) {\n      case 'M':\n        startX = seg[1];\n        startY = seg[2];\n        break;\n      case 'A':\n        const curves = arcToCurve({\n          px: x,\n          py: y,\n          cx: seg[6],\n          cy: seg[7],\n          rx: seg[1],\n          ry: seg[2],\n          xAxisRotation: seg[3],\n          largeArcFlag: seg[4],\n          sweepFlag: seg[5],\n        });\n\n        // null-curves\n        if (!curves.length) continue;\n\n        for (let j = 0, c; j < curves.length; j++) {\n          c = curves[j];\n          seg = ['C', c.x1, c.y1, c.x2, c.y2, c.x, c.y];\n          if (j < curves.length - 1) result.push(seg);\n        }\n\n        break;\n      case 'S':\n        // default control point\n        let cx = x;\n        let cy = y;\n        if (prev === 'C' || prev === 'S') {\n          cx += cx - bezierX; // reflect the previous command's control\n          cy += cy - bezierY; // point relative to the current point\n        }\n        seg = ['C', cx, cy, seg[1], seg[2], seg[3], seg[4]];\n        break;\n      case 'T':\n        if (prev === 'Q' || prev === 'T') {\n          quadX = x * 2 - quadX; // as with 'S' reflect previous control point\n          quadY = y * 2 - quadY;\n        } else {\n          quadX = x;\n          quadY = y;\n        }\n        seg = quadratic(x, y, quadX, quadY, seg[1], seg[2]);\n        break;\n      case 'Q':\n        quadX = seg[1];\n        quadY = seg[2];\n        seg = quadratic(x, y, seg[1], seg[2], seg[3], seg[4]);\n        break;\n      case 'L':\n        seg = line(x, y, seg[1], seg[2]);\n        break;\n      case 'H':\n        seg = line(x, y, seg[1], y);\n        break;\n      case 'V':\n        seg = line(x, y, x, seg[1]);\n        break;\n      case 'Z':\n        seg = line(x, y, startX, startY);\n        break;\n      default:\n        break;\n    }\n\n    // update state\n    prev = command;\n    x = seg[seg.length - 2];\n    y = seg[seg.length - 1];\n    if (seg.length > 4) {\n      bezierX = seg[seg.length - 4];\n      bezierY = seg[seg.length - 3];\n    } else {\n      bezierX = x;\n      bezierY = y;\n    }\n    result.push(seg);\n  }\n\n  return result;\n};\n\nconst line = (x1, y1, x2, y2) => {\n  return ['C', x1, y1, x2, y2, x2, y2];\n};\n\nconst quadratic = (x1, y1, cx, cy, x2, y2) => {\n  return [\n    'C',\n    x1 / 3 + (2 / 3) * cx,\n    y1 / 3 + (2 / 3) * cy,\n    x2 / 3 + (2 / 3) * cx,\n    y2 / 3 + (2 / 3) * cy,\n    x2,\n    y2,\n  ];\n};\n\nexport default normalizePath;\n","import * as R from 'ramda';\nimport absPath from 'abs-svg-path';\nimport parsePath from 'parse-svg-path';\n\nimport isRect from '../node/isRect';\nimport isLine from '../node/isLine';\nimport isPath from '../node/isPath';\nimport isCircle from '../node/isCircle';\nimport isPolygon from '../node/isPolygon';\nimport isEllipse from '../node/isEllipse';\nimport isPolyline from '../node/isPolyline';\nimport normalizePath from '../svg/normalizePath';\nimport parsePoints from './parsePoints';\n\n// From https://github.com/dy/svg-path-bounds/blob/master/index.js\nconst getPathBoundingBox = node => {\n  const path = R.compose(\n    normalizePath,\n    absPath,\n    parsePath,\n    R.pathOr('', ['props', 'd']),\n  )(node);\n\n  if (!path.length) return [0, 0, 0, 0];\n\n  const bounds = [Infinity, Infinity, -Infinity, -Infinity];\n\n  for (let i = 0, l = path.length; i < l; i++) {\n    const points = path[i].slice(1);\n\n    for (let j = 0; j < points.length; j += 2) {\n      if (points[j + 0] < bounds[0]) bounds[0] = points[j + 0];\n      if (points[j + 1] < bounds[1]) bounds[1] = points[j + 1];\n      if (points[j + 0] > bounds[2]) bounds[2] = points[j + 0];\n      if (points[j + 1] > bounds[3]) bounds[3] = points[j + 1];\n    }\n  }\n\n  return bounds;\n};\n\nconst getCircleBoundingBox = node => {\n  const r = R.pathOr(0, ['props', 'r'], node);\n  const cx = R.pathOr(0, ['props', 'cx'], node);\n  const cy = R.pathOr(0, ['props', 'cy'], node);\n\n  return [cx - r, cy - r, cx + r, cy + r];\n};\n\nconst getEllipseBoundingBox = node => {\n  const cx = R.pathOr(0, ['props', 'cx'], node);\n  const cy = R.pathOr(0, ['props', 'cy'], node);\n  const rx = R.pathOr(0, ['props', 'rx'], node);\n  const ry = R.pathOr(0, ['props', 'ry'], node);\n\n  return [cx - rx, cy - ry, cx + rx, cy + ry];\n};\n\nconst getLineBoundingBox = node => {\n  const x1 = R.pathOr(0, ['props', 'x1'], node);\n  const y1 = R.pathOr(0, ['props', 'y1'], node);\n  const x2 = R.pathOr(0, ['props', 'x2'], node);\n  const y2 = R.pathOr(0, ['props', 'y2'], node);\n\n  return [R.min(x1, x2), R.min(y1, y2), R.max(x1, x2), R.max(y1, y2)];\n};\n\nconst getRectBoundingBox = node => {\n  const x = R.pathOr(0, ['props', 'x'], node);\n  const y = R.pathOr(0, ['props', 'y'], node);\n  const width = R.pathOr(0, ['props', 'width'], node);\n  const height = R.pathOr(0, ['props', 'height'], node);\n\n  return [x, y, x + width, y + height];\n};\n\nconst max = R.reduce(R.max, -Infinity);\nconst min = R.reduce(R.min, Infinity);\n\nconst getPolylineBoundingBox = node => {\n  const points = R.compose(\n    parsePoints,\n    R.pathOr([], ['props', 'points']),\n  )(node);\n\n  const xValues = R.pluck(0, points);\n  const yValues = R.pluck(1, points);\n\n  return [min(xValues), min(yValues), max(xValues), max(yValues)];\n};\n\nconst getBoundingBox = R.cond([\n  [isRect, getRectBoundingBox],\n  [isLine, getLineBoundingBox],\n  [isPath, getPathBoundingBox],\n  [isCircle, getCircleBoundingBox],\n  [isEllipse, getEllipseBoundingBox],\n  [isPolygon, getPolylineBoundingBox],\n  [isPolyline, getPolylineBoundingBox],\n  [R.T, R.always([0, 0, 0, 0])],\n]);\n\nexport default getBoundingBox;\n","import * as R from 'ramda';\n\nimport save from './save';\nimport restore from './restore';\nimport clipNode from './clipNode';\nimport renderPath from './renderPath';\nimport renderRect from './renderRect';\nimport renderLine from './renderLine';\nimport renderCircle from './renderCircle';\nimport renderSvgText from './renderSvgText';\nimport renderEllipse from './renderEllipse';\nimport renderPolygon from './renderPolygon';\nimport renderPolyline from './renderPolyline';\nimport renderSvgImage from './renderSvgImage';\nimport applyTransformations from './applyTransformations';\nimport isPath from '../node/isPath';\nimport isText from '../node/isText';\nimport isRect from '../node/isRect';\nimport isLine from '../node/isLine';\nimport isTspan from '../node/isTspan';\nimport isImage from '../node/isImage';\nimport isGroup from '../node/isGroup';\nimport isCircle from '../node/isCircle';\nimport isTextInstance from '../node/isTextInstance';\nimport renderGroup from './renderGroup';\nimport isEllipse from '../node/isEllipse';\nimport isPolygon from '../node/isPolygon';\nimport isPolyline from '../node/isPolyline';\nimport getBoundingBox from '../svg/getBoundingBox';\nimport { LINEAR_GRADIENT, RADIAL_GRADIENT } from '../constants';\n\nconst warnUnsupportedNode = R.tap(node => {\n  console.warn(`SVG node of type ${node.type} is not currenty supported`);\n});\n\nconst getProp = (d, p, v) => R.pathOr(d, ['props', p], v);\n\nconst setStrokeWidth = ctx => node => {\n  const lineWidth = getProp(0, 'strokeWidth', node);\n  if (lineWidth) ctx.lineWidth(lineWidth);\n  return node;\n};\n\nconst setStrokeColor = ctx => node => {\n  const strokeColor = getProp(null, 'stroke', node);\n  if (strokeColor) ctx.strokeColor(strokeColor);\n  return node;\n};\n\nconst setOpacity = ctx => node => {\n  const opacity = getProp(null, 'opacity', node);\n  if (opacity) ctx.opacity(opacity);\n  return node;\n};\n\nconst setFillOpacity = ctx => node => {\n  const fillOpacity = getProp(null, 'fillOpacity', node);\n  if (fillOpacity) ctx.fillOpacity(fillOpacity);\n  return node;\n};\n\nconst setStrokeOpacity = ctx => node => {\n  const strokeOpacity = getProp(null, 'strokeOpacity', node);\n  if (strokeOpacity) ctx.strokeOpacity(strokeOpacity);\n  return node;\n};\n\nconst setLineJoin = ctx => node => {\n  const lineJoin = getProp(null, 'strokeLinejoin', node);\n  if (lineJoin) ctx.lineJoin(lineJoin);\n  return node;\n};\n\nconst setLineCap = ctx => node => {\n  const lineCap = getProp(null, 'strokeLinecap', node);\n  if (lineCap) ctx.lineCap(lineCap);\n  return node;\n};\n\nconst setLineDash = ctx => node => {\n  const value = getProp(null, 'strokeDasharray', node);\n\n  if (value) {\n    const dashArray = R.compose(\n      R.map(R.o(parseFloat, R.trim)),\n      R.split(','),\n    )(value);\n\n    ctx.dash(dashArray[0], { space: dashArray[1] });\n  }\n  return node;\n};\n\nconst hasLinearGradientFill = R.pathEq(\n  ['props', 'fill', 'type'],\n  LINEAR_GRADIENT,\n);\n\nconst hasRadialGradientFill = R.pathEq(\n  ['props', 'fill', 'type'],\n  RADIAL_GRADIENT,\n);\n\n// Math simplified from https://github.com/devongovett/svgkit/blob/master/src/elements/SVGGradient.js#L104\nconst setLinearGradientFill = ctx =>\n  R.tap(node => {\n    const bbox = getBoundingBox(node);\n    const gradient = getProp(null, 'fill', node);\n\n    const x1 = R.pathOr(0, ['props', 'x1'], gradient);\n    const y1 = R.pathOr(0, ['props', 'y1'], gradient);\n    const x2 = R.pathOr(1, ['props', 'x2'], gradient);\n    const y2 = R.pathOr(0, ['props', 'y2'], gradient);\n\n    const m0 = bbox[2] - bbox[0];\n    const m3 = bbox[3] - bbox[1];\n    const m4 = bbox[0];\n    const m5 = bbox[1];\n\n    const gx1 = m0 * x1 + m4;\n    const gy1 = m3 * y1 + m5;\n    const gx2 = m0 * x2 + m4;\n    const gy2 = m3 * y2 + m5;\n\n    const grad = ctx.linearGradient(gx1, gy1, gx2, gy2);\n\n    gradient.children.forEach(stop => {\n      grad.stop(\n        stop.props.offset,\n        stop.props.stopColor,\n        stop.props.stopOpacity,\n      );\n    });\n\n    ctx.fill(grad);\n  });\n\n// Math simplified from https://github.com/devongovett/svgkit/blob/master/src/elements/SVGGradient.js#L155\nconst setRadialGradientFill = ctx =>\n  R.tap(node => {\n    const bbox = getBoundingBox(node);\n    const gradient = getProp(null, 'fill', node);\n\n    const cx = R.pathOr(0.5, ['props', 'cx'], gradient);\n    const cy = R.pathOr(0.5, ['props', 'cy'], gradient);\n    const fx = R.pathOr(cx, ['props', 'fx'], gradient);\n    const fy = R.pathOr(cy, ['props', 'fy'], gradient);\n    const r = R.pathOr(0.5, ['props', 'r'], gradient);\n\n    const m0 = bbox[2] - bbox[0];\n    const m3 = bbox[3] - bbox[1];\n    const m4 = bbox[0];\n    const m5 = bbox[1];\n\n    const gr = r * m0;\n    const gcx = m0 * cx + m4;\n    const gcy = m3 * cy + m5;\n    const gfx = m0 * fx + m4;\n    const gfy = m3 * fy + m5;\n\n    const grad = ctx.radialGradient(gfx, gfy, 0, gcx, gcy, gr);\n\n    gradient.children.forEach(stop => {\n      grad.stop(\n        stop.props.offset,\n        stop.props.stopColor,\n        stop.props.stopOpacity,\n      );\n    });\n\n    ctx.fill(grad);\n  });\n\nconst setFillColor = ctx =>\n  R.tap(node => {\n    const fillColor = getProp(null, 'fill', node);\n    if (fillColor) ctx.fillColor(fillColor);\n  });\n\nconst setFill = ctx =>\n  R.cond([\n    [hasLinearGradientFill, setLinearGradientFill(ctx)],\n    [hasRadialGradientFill, setRadialGradientFill(ctx)],\n    [R.T, setFillColor(ctx)],\n  ]);\n\nconst draw = ctx => node => {\n  const props = R.propOr({}, 'props', node);\n\n  if (props.fill && props.stroke) {\n    ctx.fillAndStroke(props.fillRule);\n  } else if (props.fill) {\n    ctx.fill(props.fillRule);\n  } else if (props.stroke) {\n    ctx.stroke();\n  } else {\n    ctx.save();\n    ctx.opacity(0);\n    ctx.fill(null);\n    ctx.restore();\n  }\n\n  return node;\n};\n\nconst renderNode = ctx =>\n  R.cond([\n    [isTspan, R.identity],\n    [isTextInstance, R.identity],\n    [isPath, renderPath(ctx)],\n    [isRect, renderRect(ctx)],\n    [isLine, renderLine(ctx)],\n    [isGroup, renderGroup(ctx)],\n    [isText, renderSvgText(ctx)],\n    [isCircle, renderCircle(ctx)],\n    [isImage, renderSvgImage(ctx)],\n    [isEllipse, renderEllipse(ctx)],\n    [isPolygon, renderPolygon(ctx)],\n    [isPolyline, renderPolyline(ctx)],\n    [R.T, warnUnsupportedNode],\n  ]);\n\nconst drawNode = ctx =>\n  R.compose(\n    draw(ctx),\n    renderNode(ctx),\n    applyTransformations(ctx),\n    setOpacity(ctx),\n    setFillOpacity(ctx),\n    setStrokeOpacity(ctx),\n    setFill(ctx),\n    setStrokeColor(ctx),\n    setStrokeWidth(ctx),\n    setLineJoin(ctx),\n    setLineDash(ctx),\n    setLineCap(ctx),\n  );\n\nconst clipPath = ctx => node => {\n  const value = R.path(['props', 'clipPath'], node);\n\n  if (value) {\n    R.compose(\n      () => ctx.clip(),\n      R.forEach(renderNode(ctx)),\n      R.propOr([], 'children'),\n    )(value);\n  }\n\n  return node;\n};\n\nconst drawChildren = ctx => node =>\n  R.compose(\n    R.map(\n      R.compose(\n        restore(ctx),\n        drawChildren(ctx),\n        drawNode(ctx),\n        clipPath(ctx),\n        save(ctx),\n      ),\n    ),\n    R.propOr([], 'children'),\n  )(node);\n\nconst defaultsZero = R.pathOr(0);\n\nconst preserveAspectRatio = ctx => node => {\n  const { width, height } = node.box;\n  const { viewBox, preserveAspectRatio = {} } = node.props;\n  const { meetOrSlice = 'meet', align = 'xMidYMid' } = preserveAspectRatio;\n\n  if (viewBox == null || width == null || height == null) return node;\n\n  const x = viewBox ? viewBox.minX : 0;\n  const y = viewBox ? viewBox.minY : 0;\n  const logicalWidth = viewBox ? viewBox.maxX : width;\n  const logicalHeight = viewBox ? viewBox.maxY : height;\n\n  const logicalRatio = logicalWidth / logicalHeight;\n  const physicalRatio = width / height;\n  const scaleX = width / logicalWidth;\n  const scaleY = height / logicalHeight;\n\n  if (align === 'none') {\n    ctx.scale(scaleX, scaleY);\n    ctx.translate(-x, -y);\n    return node;\n  }\n\n  if (\n    (logicalRatio < physicalRatio && meetOrSlice === 'meet') ||\n    (logicalRatio >= physicalRatio && meetOrSlice === 'slice')\n  ) {\n    ctx.scale(scaleY, scaleY);\n\n    switch (align) {\n      case 'xMinYMin':\n      case 'xMinYMid':\n      case 'xMinYMax':\n        ctx.translate(-x, -y);\n        break;\n\n      case 'xMidYMin':\n      case 'xMidYMid':\n      case 'xMidYMax':\n        ctx.translate(\n          -x - (logicalWidth - (width * logicalHeight) / height) / 2,\n          -y,\n        );\n        break;\n\n      default:\n        ctx.translate(\n          -x - (logicalWidth - (width * logicalHeight) / height),\n          -y,\n        );\n    }\n  } else {\n    ctx.scale(scaleX, scaleX);\n\n    switch (align) {\n      case 'xMinYMin':\n      case 'xMidYMin':\n      case 'xMaxYMin':\n        ctx.translate(-x, -y);\n        break;\n\n      case 'xMinYMid':\n      case 'xMidYMid':\n      case 'xMaxYMid':\n        ctx.translate(\n          -x,\n          -y - (logicalHeight - (height * logicalWidth) / width) / 2,\n        );\n        break;\n\n      default:\n        ctx.translate(\n          -x,\n          -y - (logicalHeight - (height * logicalWidth) / width),\n        );\n    }\n  }\n\n  return node;\n};\n\nconst moveToOrigin = ctx => node => {\n  const { top, left } = node.box;\n\n  const paddingLeft = defaultsZero('paddingLeft', node.box);\n  const paddingTop = defaultsZero('paddingTop', node.box);\n\n  ctx.translate(left + paddingLeft, top + paddingTop);\n\n  return node;\n};\n\nconst renderSvg = (ctx, node) => {\n  R.compose(\n    restore(ctx),\n    drawChildren(ctx),\n    preserveAspectRatio(ctx),\n    moveToOrigin(ctx),\n    clipNode(ctx),\n    save(ctx),\n  )(node);\n\n  return node;\n};\n\nexport default R.curryN(2, renderSvg);\n","import * as R from 'ramda';\nimport PDFRenderer from '@react-pdf/textkit/renderers/pdf';\n\nconst renderText = (ctx, node) => {\n  const { top, left } = node.box;\n  const paddingTop = R.pathOr(0, ['box', 'paddingTop'], node);\n  const paddingLeft = R.pathOr(0, ['box', 'paddingLeft'], node);\n  const initialY = node.lines[0] ? node.lines[0].box.y : 0;\n\n  ctx.save();\n  ctx.translate(left + paddingLeft, top + paddingTop - initialY);\n\n  PDFRenderer.render(ctx, [node.lines]);\n  ctx.restore();\n\n  return node;\n};\n\nexport default R.curryN(2, renderText);\n","import * as R from 'ramda';\n\nconst renderPage = (ctx, node) => {\n  const { width, height } = node.box;\n\n  ctx.addPage({ size: [width, height], margin: 0 });\n\n  return node;\n};\n\nexport default R.curryN(2, renderPage);\n","import * as R from 'ramda';\n\nconst renderNote = (ctx, node) => {\n  const { top, left } = node.box;\n  const value = node.children[0] ? node.children[0].value : '';\n\n  ctx.note(left, top, 0, 0, value);\n\n  return node;\n};\n\nexport default R.curryN(2, renderNote);\n","const isPercent = value => /((-)?\\d+\\.?\\d*)%/g.exec(value);\n\n/**\n * Get percentage value of input\n *\n * @param {String} value\n * @returns {Object} percent value (if matches)\n */\nconst matchPercent = value => {\n  const match = isPercent(value);\n\n  if (match) {\n    const value = parseFloat(match[1], 10);\n    const percent = value / 100;\n\n    return {\n      value,\n      percent,\n      absValue: Math.abs(value),\n      absPercent: Math.abs(percent),\n    };\n  }\n\n  return null;\n};\n\nexport default matchPercent;\n","import matchPercent from '../utils/matchPercent';\n\nconst isNumeric = n => {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n};\n\nconst applyContainObjectFit = (cw, ch, iw, ih, px, py) => {\n  const cr = cw / ch;\n  const ir = iw / ih;\n\n  const pxp = matchPercent(px);\n  const pyp = matchPercent(py);\n  const pxv = pxp ? pxp.percent : 0.5;\n  const pyv = pyp ? pyp.percent : 0.5;\n\n  if (cr > ir) {\n    const height = ch;\n    const width = height * ir;\n    const yOffset = isNumeric(py) ? py : 0;\n    const xOffset = isNumeric(px) ? px : (cw - width) * pxv;\n\n    return { width, height, xOffset, yOffset };\n  } else {\n    const width = cw;\n    const height = width / ir;\n    const xOffset = isNumeric(px) ? px : 0;\n    const yOffset = isNumeric(py) ? py : (ch - height) * pyv;\n\n    return { width, height, yOffset, xOffset };\n  }\n};\n\nconst applyNoneObjectFit = (cw, ch, iw, ih, px, py) => {\n  const width = iw;\n  const height = ih;\n  const pxp = matchPercent(px);\n  const pyp = matchPercent(py);\n  const pxv = pxp ? pxp.percent : 0.5;\n  const pyv = pyp ? pyp.percent : 0.5;\n  const xOffset = isNumeric(px) ? px : (cw - width) * pxv;\n  const yOffset = isNumeric(py) ? py : (ch - height) * pyv;\n\n  return { width, height, xOffset, yOffset };\n};\n\nconst applyCoverObjectFit = (cw, ch, iw, ih, px, py) => {\n  const ir = iw / ih;\n  const cr = cw / ch;\n\n  const pxp = matchPercent(px);\n  const pyp = matchPercent(py);\n  const pxv = pxp ? pxp.percent : 0.5;\n  const pyv = pyp ? pyp.percent : 0.5;\n\n  if (cr > ir) {\n    const width = cw;\n    const height = width / ir;\n    const xOffset = isNumeric(px) ? px : 0;\n    const yOffset = isNumeric(py) ? py : (ch - height) * pyv;\n    return { width, height, yOffset, xOffset };\n  } else {\n    const height = ch;\n    const width = height * ir;\n    const xOffset = isNumeric(px) ? px : (cw - width) * pxv;\n    const yOffset = isNumeric(py) ? py : 0;\n    return { width, height, xOffset, yOffset };\n  }\n};\n\nconst applyScaleDownObjectFit = (cw, ch, iw, ih, px, py) => {\n  const containDimension = applyContainObjectFit(cw, ch, iw, ih, px, py);\n  const noneDimension = applyNoneObjectFit(cw, ch, iw, ih, px, py);\n\n  return containDimension.width < noneDimension.width\n    ? containDimension\n    : noneDimension;\n};\n\nconst applyFillObjectFit = (cw, ch, px, py) => {\n  return {\n    width: cw,\n    height: ch,\n    xOffset: matchPercent(px) ? 0 : px || 0,\n    yOffset: matchPercent(py) ? 0 : py || 0,\n  };\n};\n\nconst resolveObjectFit = (type = 'fill', cw, ch, iw, ih, px, py) => {\n  switch (type) {\n    case 'contain':\n      return applyContainObjectFit(cw, ch, iw, ih, px, py);\n    case 'cover':\n      return applyCoverObjectFit(cw, ch, iw, ih, px, py);\n    case 'none':\n      return applyNoneObjectFit(cw, ch, iw, ih, px, py);\n    case 'scale-down':\n      return applyScaleDownObjectFit(cw, ch, iw, ih, px, py);\n    default:\n      return applyFillObjectFit(cw, ch, px, py);\n  }\n};\n\nexport default resolveObjectFit;\n","import * as R from 'ramda';\n\nimport save from './save';\nimport restore from './restore';\nimport clipNode from './clipNode';\nimport warning from '../utils/warning';\nimport resolveObjectFit from '../image/resolveObjectFit';\n\nconst drawImage = ctx => node => {\n  const { left, top } = node.box;\n  const { opacity, objectPositionX, objectPositionY } = node.style;\n  const paddingTop = node.box.paddingLeft || 0;\n  const paddingRight = node.box.paddingRight || 0;\n  const paddingBottom = node.box.paddingBottom || 0;\n  const paddingLeft = node.box.paddingLeft || 0;\n\n  const { width, height, xOffset, yOffset } = resolveObjectFit(\n    node.style.objectFit,\n    node.box.width - paddingLeft - paddingRight,\n    node.box.height - paddingTop - paddingBottom,\n    node.image.width,\n    node.image.height,\n    objectPositionX,\n    objectPositionY,\n  );\n\n  if (node.image.data) {\n    if (width !== 0 && height !== 0) {\n      ctx\n        .fillOpacity(opacity || 1)\n        .image(\n          node.image.data,\n          left + paddingLeft + xOffset,\n          top + paddingTop + yOffset,\n          {\n            width,\n            height,\n          },\n        );\n    } else {\n      warning(\n        false,\n        `Image with src '${node.props.src}' skipped due to invalid dimensions`,\n      );\n    }\n  }\n\n  return node;\n};\n\nconst renderImage = (ctx, node) => {\n  R.compose(\n    restore(ctx),\n    drawImage(ctx),\n    clipNode(ctx),\n    save(ctx),\n  )(node);\n\n  return node;\n};\n\nexport default R.curryN(2, renderImage);\n","export const availableMethods = [\n  'dash',\n  'clip',\n  'save',\n  'path',\n  'fill',\n  'font',\n  'text',\n  'rect',\n  'scale',\n  'moveTo',\n  'lineTo',\n  'stroke',\n  'rotate',\n  'circle',\n  'lineCap',\n  'opacity',\n  'ellipse',\n  'polygon',\n  'restore',\n  'lineJoin',\n  'fontSize',\n  'fillColor',\n  'lineWidth',\n  'translate',\n  'miterLimit',\n  'strokeColor',\n  'fillOpacity',\n  'roundedRect',\n  'strokeOpacity',\n  'bezierCurveTo',\n  'quadraticCurveTo',\n  'linearGradient',\n  'radialGradient',\n];\n\nconst painter = function(ctx) {\n  const p = availableMethods.reduce(\n    (acc, prop) => ({\n      ...acc,\n      [prop]: (...args) => {\n        ctx[prop](...args);\n        return p;\n      },\n    }),\n    {},\n  );\n\n  return p;\n};\n\nexport default painter;\n","import * as R from 'ramda';\n\nimport painter from '../canvas/painter';\nimport warning from '../utils/warning';\n\nconst defaultsZero = R.pathOr(0);\n\nconst renderCanvas = (ctx, node) => {\n  const { top, left, width, height } = node.box;\n\n  const paddingLeft = defaultsZero('paddingLeft', node.box);\n  const paddingRight = defaultsZero('paddingRight', node.box);\n  const paddingTop = defaultsZero('paddingTop', node.box);\n  const paddingBottom = defaultsZero('paddingBottom', node.box);\n\n  const availableWidth = width - paddingLeft - paddingRight;\n  const availableHeight = height - paddingTop - paddingBottom;\n\n  warning(\n    availableWidth && availableHeight,\n    'Canvas element has null width or height. Please provide valid values via the `style` prop in order to correctly render it.',\n  );\n\n  ctx.save().translate(left + paddingLeft, top + paddingTop);\n\n  if (node.props.paint) {\n    node.props.paint(painter(ctx), availableWidth, availableHeight);\n  }\n\n  ctx.restore();\n\n  return node;\n};\n\nexport default R.curryN(2, renderCanvas);\n","import * as R from 'ramda';\n\n/**\n * Checks if page should render vertical ruler\n *\n * @param {Object} page\n * @returns {boolean} has vertical ruler\n */\nconst hasVerticalRuler = R.either(\n  R.hasPath(['props', 'ruler']),\n  R.hasPath(['props', 'verticalRuler']),\n);\n\nexport default hasVerticalRuler;\n","import * as R from 'ramda';\n\n/**\n * Checks if page should render horizontal ruler\n *\n * @param {Object} page\n * @returns {boolean} has horizontal ruler\n */\nconst hasHorizontalRuler = R.either(\n  R.hasPath(['props', 'ruler']),\n  R.hasPath(['props', 'horizontalRuler']),\n);\n\nexport default hasHorizontalRuler;\n","import * as R from 'ramda';\n\nimport matchPercent from '../utils/matchPercent';\nimport hasVerticalRuler from '../node/hasVerticalRuler';\nimport hasHorizontalRuler from '../node/hasHorizontalRuler';\nimport {\n  RULER_WIDTH,\n  RULER_COLOR,\n  LINE_COLOR,\n  GRID_COLOR,\n  LINE_WIDTH,\n  RULER_FONT_SIZE,\n  DEFAULT_RULER_STEPS,\n} from '../constants';\n\nconst range = (max, steps) =>\n  Array.from({ length: Math.ceil(max / steps) }, (_, i) => i * steps);\n\nconst matchPercentage = value => {\n  const match = matchPercent(value);\n  return match ? 100 / match.value : null;\n};\n\nconst getVerticalSteps = page => {\n  const value =\n    page.props.horizontalRulerSteps ||\n    page.props.rulerSteps ||\n    DEFAULT_RULER_STEPS;\n\n  if (typeof value === 'string') {\n    const percentage = matchPercentage(value);\n    if (percentage) {\n      const width = page.box.width - (hasVerticalRuler(page) ? RULER_WIDTH : 0);\n      return width / percentage;\n    }\n    throw new Error('Page: Invalid horizontal steps value');\n  }\n\n  return value;\n};\n\nconst getHorizontalSteps = page => {\n  const value =\n    page.props.verticalRulerSteps ||\n    page.props.rulerSteps ||\n    DEFAULT_RULER_STEPS;\n\n  if (typeof value === 'string') {\n    const percentage = matchPercentage(value);\n    if (percentage) {\n      const height =\n        page.box.height - (hasVerticalRuler(page) ? RULER_WIDTH : 0);\n      return height / percentage;\n    }\n    throw new Error('Page: Invalid horizontal steps value');\n  }\n\n  return value;\n};\n\nconst renderVerticalRuler = ctx => page => {\n  const width = page.box.width;\n  const height = page.box.height;\n  const offset = hasHorizontalRuler(page) ? RULER_WIDTH : 0;\n  const hRange = range(width, getVerticalSteps(page));\n\n  ctx\n    .rect(offset, 0, width, RULER_WIDTH)\n    .fill(RULER_COLOR)\n    .moveTo(offset, RULER_WIDTH)\n    .lineTo(width, RULER_WIDTH)\n    .stroke(LINE_COLOR);\n\n  hRange.map(step => {\n    ctx\n      .moveTo(offset + step, 0)\n      .lineTo(offset + step, RULER_WIDTH)\n      .stroke(LINE_COLOR)\n      .fillColor('black')\n      .text(`${Math.round(step)}`, offset + step + 1, 1);\n\n    if (step !== 0) {\n      ctx\n        .moveTo(offset + step, RULER_WIDTH)\n        .lineTo(offset + step, height)\n        .stroke(GRID_COLOR);\n    }\n  });\n\n  return page;\n};\n\nconst renderHorizontalRuler = ctx => page => {\n  const width = page.box.width;\n  const height = page.box.height;\n  const offset = hasVerticalRuler(page) ? RULER_WIDTH : 0;\n  const hRange = range(height, getHorizontalSteps(page));\n\n  ctx\n    .rect(0, offset, RULER_WIDTH, height)\n    .fill(RULER_COLOR)\n    .moveTo(RULER_WIDTH, hasHorizontalRuler(page) ? RULER_WIDTH : 0)\n    .lineTo(RULER_WIDTH, height)\n    .stroke(LINE_COLOR);\n\n  hRange.map(step => {\n    ctx\n      .moveTo(0, offset + step)\n      .lineTo(RULER_WIDTH, offset + step)\n      .stroke(LINE_COLOR)\n      .fillColor('black')\n      .text(`${Math.round(step)}`, 1, offset + step + 1);\n\n    if (step !== 0) {\n      ctx\n        .moveTo(RULER_WIDTH, offset + step)\n        .lineTo(width, offset + step)\n        .stroke(GRID_COLOR);\n    }\n  });\n\n  return page;\n};\n\nconst renderRulers = (ctx, page) => {\n  ctx\n    .save()\n    .lineWidth(LINE_WIDTH)\n    .fontSize(RULER_FONT_SIZE)\n    .opacity(1);\n\n  R.compose(\n    R.when(hasVerticalRuler, renderVerticalRuler(ctx)),\n    R.when(hasHorizontalRuler, renderHorizontalRuler(ctx)),\n  )(page);\n\n  ctx.restore();\n\n  return page;\n};\n\nexport default R.curryN(2, renderRulers);\n","import * as R from 'ramda';\n\nconst getDocumentProp = target => (or, prop) =>\n  R.pathOr(or, ['props', prop], target);\n\nconst setPDFMetadata = target => (key, value) => {\n  if (value) target.info[key] = value;\n};\n\n/**\n * Set document instance metadata\n *\n * @param {Object} ctx document instance\n * @param {Object} doc document root\n */\nconst addMetadata = (ctx, doc) => {\n  const getProp = getDocumentProp(doc);\n  const setProp = setPDFMetadata(ctx);\n\n  const title = getProp(null, 'title');\n  const author = getProp(null, 'author');\n  const subject = getProp(null, 'subject');\n  const keywords = getProp(null, 'keywords');\n  const creator = getProp('react-pdf', 'creator');\n  const producer = getProp('react-pdf', 'producer');\n\n  setProp('Title', title);\n  setProp('Author', author);\n  setProp('Subject', subject);\n  setProp('Keywords', keywords);\n  setProp('Creator', creator);\n  setProp('Producer', producer);\n\n  return doc;\n};\n\nexport default R.curryN(2, addMetadata);\n","import * as R from 'ramda';\n\nimport save from './save';\nimport restore from './restore';\n\nconst CONTENT_COLOR = '#a1c6e7';\nconst PADDING_COLOR = '#c4deb9';\nconst MARGIN_COLOR = '#f8cca1';\n\nconst shouldDebug = R.pathEq(['props', 'debug'], true);\n\n// TODO: Draw debug boxes using clipping to enhance quality\n\nconst debugContent = ctx =>\n  R.tap(node => {\n    const {\n      left,\n      top,\n      width,\n      height,\n      paddingLeft,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      borderLeftWidth,\n      borderTopWidth,\n      borderRightWidth,\n      borderBottomWidth,\n    } = node.box;\n\n    ctx\n      .fillColor(CONTENT_COLOR)\n      .opacity(0.5)\n      .rect(\n        left + paddingLeft + borderLeftWidth,\n        top + paddingTop + borderTopWidth,\n        width - paddingLeft - paddingRight - borderRightWidth - borderLeftWidth,\n        height -\n          paddingTop -\n          paddingBottom -\n          borderTopWidth -\n          borderBottomWidth,\n      )\n      .fill();\n  });\n\nconst debugPadding = ctx =>\n  R.tap(node => {\n    const {\n      left,\n      top,\n      width,\n      height,\n      paddingLeft,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      borderLeftWidth,\n      borderTopWidth,\n      borderRightWidth,\n      borderBottomWidth,\n    } = node.box;\n\n    ctx.fillColor(PADDING_COLOR).opacity(0.5);\n\n    // Padding top\n    ctx\n      .rect(\n        left + paddingLeft + borderLeftWidth,\n        top + borderTopWidth,\n        width - paddingRight - paddingLeft - borderLeftWidth - borderRightWidth,\n        paddingTop,\n      )\n      .fill();\n\n    // Padding left\n    ctx\n      .rect(\n        left + borderLeftWidth,\n        top + borderTopWidth,\n        paddingLeft,\n        height - borderTopWidth - borderBottomWidth,\n      )\n      .fill();\n\n    // Padding right\n    ctx\n      .rect(\n        left + width - paddingRight - borderRightWidth,\n        top + borderTopWidth,\n        paddingRight,\n        height - borderTopWidth - borderBottomWidth,\n      )\n      .fill();\n\n    // Padding bottom\n    ctx\n      .rect(\n        left + paddingLeft + borderLeftWidth,\n        top + height - paddingBottom - borderBottomWidth,\n        width - paddingRight - paddingLeft - borderLeftWidth - borderRightWidth,\n        paddingBottom,\n      )\n      .fill();\n  });\n\nconst debugMargin = ctx =>\n  R.tap(node => {\n    const {\n      left,\n      top,\n      width,\n      height,\n      marginLeft,\n      marginTop,\n      marginRight,\n      marginBottom,\n    } = node.box;\n    ctx.fillColor(MARGIN_COLOR).opacity(0.5);\n\n    // Margin top\n    ctx.rect(left, top - marginTop, width, marginTop).fill();\n\n    // Margin left\n    ctx\n      .rect(\n        left - marginLeft,\n        top - marginTop,\n        marginLeft,\n        height + marginTop + marginBottom,\n      )\n      .fill();\n\n    // Margin right\n    ctx\n      .rect(\n        left + width,\n        top - marginTop,\n        marginRight,\n        height + marginTop + marginBottom,\n      )\n      .fill();\n\n    // Margin bottom\n    ctx.rect(left, top + height, width, marginBottom).fill();\n  });\n\nconst debugText = ctx =>\n  R.tap(node => {\n    const {\n      left,\n      top,\n      width,\n      height,\n      marginLeft,\n      marginTop,\n      marginRight,\n      marginBottom,\n    } = node.box;\n\n    const roundedWidth = Math.round(width + marginLeft + marginRight);\n    const roundedHeight = Math.round(height + marginTop + marginBottom);\n\n    ctx\n      .fontSize(4)\n      .opacity(1)\n      .fillColor('black')\n      .text(\n        `${roundedWidth} x ${roundedHeight}`,\n        left - marginLeft,\n        Math.max(top - marginTop - 4, 1),\n      );\n  });\n\nconst debugOrigin = ctx =>\n  R.tap(node => {\n    if (node.origin) {\n      ctx\n        .circle(node.origin.left, node.origin.top, 3)\n        .fill('red')\n        .circle(node.origin.left, node.origin.top, 5)\n        .stroke('red');\n    }\n  });\n\nconst renderDebug = ctx =>\n  R.tap(\n    R.when(\n      shouldDebug,\n      R.compose(\n        restore(ctx),\n        debugOrigin(ctx),\n        debugText(ctx),\n        debugMargin(ctx),\n        debugPadding(ctx),\n        debugContent(ctx),\n        save(ctx),\n      ),\n    ),\n  );\n\nexport default renderDebug;\n","import * as R from 'ramda';\n\n// Ref: https://www.w3.org/TR/css-backgrounds-3/#borders\n\n// This constant is used to approximate a symmetrical arc using a cubic Bezier curve.\nconst KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nconst clipBorderTop = (ctx, layout, style, rtr, rtl) => {\n  const { top, left, width, height } = layout;\n  const { borderTopWidth, borderRightWidth, borderLeftWidth } = style;\n\n  // Clip outer top border edge\n  ctx.moveTo(left + rtl, top);\n  ctx.lineTo(left + width - rtr, top);\n\n  // Ellipse coefficients outer top right cap\n  const c0 = rtr * (1.0 - KAPPA);\n\n  // Clip outer top right cap\n  ctx.bezierCurveTo(\n    left + width - c0,\n    top,\n    left + width,\n    top + c0,\n    left + width,\n    top + rtr,\n  );\n\n  // Move down in case the margin exceedes the radius\n  const topRightYCoord = top + Math.max(borderTopWidth, rtr);\n  ctx.lineTo(left + width, topRightYCoord);\n\n  // Clip inner top right cap\n  ctx.lineTo(left + width - borderRightWidth, topRightYCoord);\n\n  // Ellipse coefficients inner top right cap\n  const innerTopRightRadiusX = Math.max(rtr - borderRightWidth, 0);\n  const innerTopRightRadiusY = Math.max(rtr - borderTopWidth, 0);\n  const c1 = innerTopRightRadiusX * (1.0 - KAPPA);\n  const c2 = innerTopRightRadiusY * (1.0 - KAPPA);\n\n  // Clip inner top right cap\n  ctx.bezierCurveTo(\n    left + width - borderRightWidth,\n    top + borderTopWidth + c2,\n    left + width - borderRightWidth - c1,\n    top + borderTopWidth,\n    left + width - borderRightWidth - innerTopRightRadiusX,\n    top + borderTopWidth,\n  );\n\n  // Clip inner top border edge\n  ctx.lineTo(left + Math.max(rtl, borderLeftWidth), top + borderTopWidth);\n\n  // Ellipse coefficients inner top left cap\n  const innerTopLeftRadiusX = Math.max(rtl - borderLeftWidth, 0);\n  const innerTopLeftRadiusY = Math.max(rtl - borderTopWidth, 0);\n  const c3 = innerTopLeftRadiusX * (1.0 - KAPPA);\n  const c4 = innerTopLeftRadiusY * (1.0 - KAPPA);\n  const topLeftYCoord = top + Math.max(borderTopWidth, rtl);\n\n  // Clip inner top left cap\n  ctx.bezierCurveTo(\n    left + borderLeftWidth + c3,\n    top + borderTopWidth,\n    left + borderLeftWidth,\n    top + borderTopWidth + c4,\n    left + borderLeftWidth,\n    topLeftYCoord,\n  );\n  ctx.lineTo(left, topLeftYCoord);\n\n  // Move down in case the margin exceedes the radius\n  ctx.lineTo(left, top + rtl);\n\n  // Ellipse coefficients outer top left cap\n  const c5 = rtl * (1.0 - KAPPA);\n\n  // Clip outer top left cap\n  ctx.bezierCurveTo(left, top + c5, left + c5, top, left + rtl, top);\n  ctx.closePath();\n  ctx.clip();\n\n  // Clip border top cap joins\n  if (borderRightWidth) {\n    const trSlope = -borderTopWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, trSlope * (-width / 2) + top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderLeftWidth) {\n    const trSlope = -borderTopWidth / borderLeftWidth;\n    ctx.moveTo(left + width / 2, trSlope * (-width / 2) + top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left + width, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nconst fillBorderTop = (ctx, layout, style, rtr, rtl) => {\n  const { top, left, width } = layout;\n  const {\n    borderTopColor,\n    borderTopWidth,\n    borderTopStyle,\n    borderRightWidth,\n    borderLeftWidth,\n  } = style;\n\n  const c0 = rtl * (1.0 - KAPPA);\n  const c1 = rtr * (1.0 - KAPPA);\n\n  ctx.moveTo(left, top + Math.max(rtl, borderTopWidth));\n  ctx.bezierCurveTo(left, top + c0, left + c0, top, left + rtl, top);\n  ctx.lineTo(left + width - rtr, top);\n  ctx.bezierCurveTo(\n    left + width - c1,\n    top,\n    left + width,\n    top + c1,\n    left + width,\n    top + rtr,\n  );\n\n  ctx.strokeColor(borderTopColor);\n  ctx.lineWidth(\n    Math.max(borderRightWidth, borderTopWidth, borderLeftWidth) * 2,\n  );\n\n  if (borderTopStyle === 'dashed') {\n    ctx.dash(borderTopWidth * 2, { space: borderTopWidth * 1.2 });\n  } else if (borderTopStyle === 'dotted') {\n    ctx.dash(borderTopWidth, { space: borderTopWidth * 1.2 });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nconst clipBorderRight = (ctx, layout, style, rtr, rbr) => {\n  const { top, left, width, height } = layout;\n  const { borderTopWidth, borderRightWidth, borderBottomWidth } = style;\n\n  // Clip outer right border edge\n  ctx.moveTo(left + width, top + rtr);\n  ctx.lineTo(left + width, top + height - rbr);\n\n  // Ellipse coefficients outer bottom right cap\n  const c0 = rbr * (1.0 - KAPPA);\n\n  // Clip outer top right cap\n  ctx.bezierCurveTo(\n    left + width,\n    top + height - c0,\n    left + width - c0,\n    top + height,\n    left + width - rbr,\n    top + height,\n  );\n\n  // Move left in case the margin exceedes the radius\n  const topBottomXCoord = left + width - Math.max(borderRightWidth, rbr);\n  ctx.lineTo(topBottomXCoord, top + height);\n\n  // Clip inner bottom right cap\n  ctx.lineTo(topBottomXCoord, top + height - borderBottomWidth);\n\n  // Ellipse coefficients inner bottom right cap\n  const innerBottomRightRadiusX = Math.max(rbr - borderRightWidth, 0);\n  const innerBottomRightRadiusY = Math.max(rbr - borderBottomWidth, 0);\n  const c1 = innerBottomRightRadiusX * (1.0 - KAPPA);\n  const c2 = innerBottomRightRadiusY * (1.0 - KAPPA);\n\n  // Clip inner top right cap\n  ctx.bezierCurveTo(\n    left + width - borderRightWidth - c1,\n    top + height - borderBottomWidth,\n    left + width - borderRightWidth,\n    top + height - borderBottomWidth - c2,\n    left + width - borderRightWidth,\n    top + height - Math.max(rbr, borderBottomWidth),\n  );\n\n  // Clip inner right border edge\n  ctx.lineTo(\n    left + width - borderRightWidth,\n    top + Math.max(rtr, borderTopWidth),\n  );\n\n  // Ellipse coefficients inner top right cap\n  const innerTopRightRadiusX = Math.max(rtr - borderRightWidth, 0);\n  const innerTopRightRadiusY = Math.max(rtr - borderTopWidth, 0);\n  const c3 = innerTopRightRadiusX * (1.0 - KAPPA);\n  const c4 = innerTopRightRadiusY * (1.0 - KAPPA);\n  const topRightXCoord = left + width - Math.max(rtr, borderRightWidth);\n\n  // Clip inner top left cap\n  ctx.bezierCurveTo(\n    left + width - borderRightWidth,\n    top + borderTopWidth + c4,\n    left + width - borderRightWidth - c3,\n    top + borderTopWidth,\n    topRightXCoord,\n    top + borderTopWidth,\n  );\n  ctx.lineTo(topRightXCoord, top);\n\n  // Move right in case the margin exceedes the radius\n  ctx.lineTo(left + width - rtr, top);\n\n  // Ellipse coefficients outer top right cap\n  const c5 = rtr * (1.0 - KAPPA);\n\n  // Clip outer top right cap\n  ctx.bezierCurveTo(\n    left + width - c5,\n    top,\n    left + width,\n    top + c5,\n    left + width,\n    top + rtr,\n  );\n\n  ctx.closePath();\n  ctx.clip();\n\n  // Clip border right cap joins\n  if (borderTopWidth) {\n    const trSlope = -borderTopWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, trSlope * (-width / 2) + top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderBottomWidth) {\n    const brSlope = borderBottomWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, brSlope * (-width / 2) + top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nconst fillBorderRight = (ctx, layout, style, rtr, rbr) => {\n  const { top, left, width, height } = layout;\n  const {\n    borderRightColor,\n    borderRightStyle,\n    borderRightWidth,\n    borderTopWidth,\n    borderBottomWidth,\n  } = style;\n\n  const c0 = rbr * (1.0 - KAPPA);\n  const c1 = rtr * (1.0 - KAPPA);\n\n  ctx.moveTo(left + width - rtr, top);\n  ctx.bezierCurveTo(\n    left + width - c1,\n    top,\n    left + width,\n    top + c1,\n    left + width,\n    top + rtr,\n  );\n  ctx.lineTo(left + width, top + height - rbr);\n  ctx.bezierCurveTo(\n    left + width,\n    top + height - c0,\n    left + width - c0,\n    top + height,\n    left + width - rbr,\n    top + height,\n  );\n\n  ctx.strokeColor(borderRightColor);\n  ctx.lineWidth(\n    Math.max(borderRightWidth, borderTopWidth, borderBottomWidth) * 2,\n  );\n\n  if (borderRightStyle === 'dashed') {\n    ctx.dash(borderRightWidth * 2, { space: borderRightWidth * 1.2 });\n  } else if (borderRightStyle === 'dotted') {\n    ctx.dash(borderRightWidth, { space: borderRightWidth * 1.2 });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nconst clipBorderBottom = (ctx, layout, style, rbl, rbr) => {\n  const { top, left, width, height } = layout;\n  const { borderBottomWidth, borderRightWidth, borderLeftWidth } = style;\n\n  // Clip outer top border edge\n  ctx.moveTo(left + width - rbr, top + height);\n  ctx.lineTo(left + rbl, top + height);\n\n  // Ellipse coefficients outer top right cap\n  const c0 = rbl * (1.0 - KAPPA);\n\n  // Clip outer top right cap\n  ctx.bezierCurveTo(\n    left + c0,\n    top + height,\n    left,\n    top + height - c0,\n    left,\n    top + height - rbl,\n  );\n\n  // Move up in case the margin exceedes the radius\n  const bottomLeftYCoord = top + height - Math.max(borderBottomWidth, rbl);\n  ctx.lineTo(left, bottomLeftYCoord);\n\n  // Clip inner bottom left cap\n  ctx.lineTo(left + borderLeftWidth, bottomLeftYCoord);\n\n  // Ellipse coefficients inner top right cap\n  const innerBottomLeftRadiusX = Math.max(rbl - borderLeftWidth, 0);\n  const innerBottomLeftRadiusY = Math.max(rbl - borderBottomWidth, 0);\n  const c1 = innerBottomLeftRadiusX * (1.0 - KAPPA);\n  const c2 = innerBottomLeftRadiusY * (1.0 - KAPPA);\n\n  // Clip inner bottom left cap\n  ctx.bezierCurveTo(\n    left + borderLeftWidth,\n    top + height - borderBottomWidth - c2,\n    left + borderLeftWidth + c1,\n    top + height - borderBottomWidth,\n    left + borderLeftWidth + innerBottomLeftRadiusX,\n    top + height - borderBottomWidth,\n  );\n\n  // Clip inner bottom border edge\n  ctx.lineTo(\n    left + width - Math.max(rbr, borderRightWidth),\n    top + height - borderBottomWidth,\n  );\n\n  // Ellipse coefficients inner top left cap\n  const innerBottomRightRadiusX = Math.max(rbr - borderRightWidth, 0);\n  const innerBottomRightRadiusY = Math.max(rbr - borderBottomWidth, 0);\n  const c3 = innerBottomRightRadiusX * (1.0 - KAPPA);\n  const c4 = innerBottomRightRadiusY * (1.0 - KAPPA);\n  const bottomRightYCoord = top + height - Math.max(borderBottomWidth, rbr);\n\n  // Clip inner top left cap\n  ctx.bezierCurveTo(\n    left + width - borderRightWidth - c3,\n    top + height - borderBottomWidth,\n    left + width - borderRightWidth,\n    top + height - borderBottomWidth - c4,\n    left + width - borderRightWidth,\n    bottomRightYCoord,\n  );\n  ctx.lineTo(left + width, bottomRightYCoord);\n\n  // Move down in case the margin exceedes the radius\n  ctx.lineTo(left + width, top + height - rbr);\n\n  // Ellipse coefficients outer top left cap\n  const c5 = rbr * (1.0 - KAPPA);\n\n  // Clip outer top left cap\n  ctx.bezierCurveTo(\n    left + width,\n    top + height - c5,\n    left + width - c5,\n    top + height,\n    left + width - rbr,\n    top + height,\n  );\n  ctx.closePath();\n  ctx.clip();\n\n  // Clip border bottom cap joins\n  if (borderRightWidth) {\n    const brSlope = borderBottomWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, brSlope * (-width / 2) + top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderLeftWidth) {\n    const trSlope = -borderBottomWidth / borderLeftWidth;\n    ctx.moveTo(left + width / 2, trSlope * (width / 2) + top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left + width, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nconst fillBorderBottom = (ctx, layout, style, rbl, rbr) => {\n  const { top, left, width, height } = layout;\n  const {\n    borderBottomColor,\n    borderBottomStyle,\n    borderBottomWidth,\n    borderRightWidth,\n    borderLeftWidth,\n  } = style;\n\n  const c0 = rbl * (1.0 - KAPPA);\n  const c1 = rbr * (1.0 - KAPPA);\n\n  ctx.moveTo(left + width, top + height - rbr);\n  ctx.bezierCurveTo(\n    left + width,\n    top + height - c1,\n    left + width - c1,\n    top + height,\n    left + width - rbr,\n    top + height,\n  );\n  ctx.lineTo(left + rbl, top + height);\n  ctx.bezierCurveTo(\n    left + c0,\n    top + height,\n    left,\n    top + height - c0,\n    left,\n    top + height - rbl,\n  );\n\n  ctx.strokeColor(borderBottomColor);\n  ctx.lineWidth(\n    Math.max(borderBottomWidth, borderRightWidth, borderLeftWidth) * 2,\n  );\n\n  if (borderBottomStyle === 'dashed') {\n    ctx.dash(borderBottomWidth * 2, { space: borderBottomWidth * 1.2 });\n  } else if (borderBottomStyle === 'dotted') {\n    ctx.dash(borderBottomWidth, { space: borderBottomWidth * 1.2 });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nconst clipBorderLeft = (ctx, layout, style, rbl, rtl) => {\n  const { top, left, width, height } = layout;\n  const { borderTopWidth, borderLeftWidth, borderBottomWidth } = style;\n\n  // Clip outer left border edge\n  ctx.moveTo(left, top + height - rbl);\n  ctx.lineTo(left, top + rtl);\n\n  // Ellipse coefficients outer top left cap\n  const c0 = rtl * (1.0 - KAPPA);\n\n  // Clip outer top left cap\n  ctx.bezierCurveTo(left, top + c0, left + c0, top, left + rtl, top);\n\n  // Move right in case the margin exceedes the radius\n  const topLeftCoordX = left + Math.max(borderLeftWidth, rtl);\n  ctx.lineTo(topLeftCoordX, top);\n\n  // Clip inner top left cap\n  ctx.lineTo(topLeftCoordX, top + borderTopWidth);\n\n  // Ellipse coefficients inner top left cap\n  const innerTopLeftRadiusX = Math.max(rtl - borderLeftWidth, 0);\n  const innerTopLeftRadiusY = Math.max(rtl - borderTopWidth, 0);\n  const c1 = innerTopLeftRadiusX * (1.0 - KAPPA);\n  const c2 = innerTopLeftRadiusY * (1.0 - KAPPA);\n\n  // Clip inner top right cap\n  ctx.bezierCurveTo(\n    left + borderLeftWidth + c1,\n    top + borderTopWidth,\n    left + borderLeftWidth,\n    top + borderTopWidth + c2,\n    left + borderLeftWidth,\n    top + Math.max(rtl, borderTopWidth),\n  );\n\n  // Clip inner left border edge\n  ctx.lineTo(\n    left + borderLeftWidth,\n    top + height - Math.max(rbl, borderBottomWidth),\n  );\n\n  // Ellipse coefficients inner bottom left cap\n  const innerBottomLeftRadiusX = Math.max(rbl - borderLeftWidth, 0);\n  const innerBottomLeftRadiusY = Math.max(rbl - borderBottomWidth, 0);\n  const c3 = innerBottomLeftRadiusX * (1.0 - KAPPA);\n  const c4 = innerBottomLeftRadiusY * (1.0 - KAPPA);\n  const bottomLeftXCoord = left + Math.max(rbl, borderLeftWidth);\n\n  // Clip inner top left cap\n  ctx.bezierCurveTo(\n    left + borderLeftWidth,\n    top + height - borderBottomWidth - c4,\n    left + borderLeftWidth + c3,\n    top + height - borderBottomWidth,\n    bottomLeftXCoord,\n    top + height - borderBottomWidth,\n  );\n  ctx.lineTo(bottomLeftXCoord, top + height);\n\n  // Move left in case the margin exceedes the radius\n  ctx.lineTo(left + rbl, top + height);\n\n  // Ellipse coefficients outer top right cap\n  const c5 = rbl * (1.0 - KAPPA);\n\n  // Clip outer top right cap\n  ctx.bezierCurveTo(\n    left + c5,\n    top + height,\n    left,\n    top + height - c5,\n    left,\n    top + height - rbl,\n  );\n\n  ctx.closePath();\n  ctx.clip();\n\n  // Clip border right cap joins\n  if (borderBottomWidth) {\n    const trSlope = -borderBottomWidth / borderLeftWidth;\n    ctx.moveTo(left + width / 2, trSlope * (width / 2) + top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left + width, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderBottomWidth) {\n    const trSlope = -borderTopWidth / borderLeftWidth;\n    ctx.moveTo(left + width / 2, trSlope * (-width / 2) + top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nconst fillBorderLeft = (ctx, layout, style, rbl, rtl) => {\n  const { top, left, height } = layout;\n  const {\n    borderLeftColor,\n    borderLeftStyle,\n    borderLeftWidth,\n    borderTopWidth,\n    borderBottomWidth,\n  } = style;\n\n  const c0 = rbl * (1.0 - KAPPA);\n  const c1 = rtl * (1.0 - KAPPA);\n\n  ctx.moveTo(left + rbl, top + height);\n  ctx.bezierCurveTo(\n    left + c0,\n    top + height,\n    left,\n    top + height - c0,\n    left,\n    top + height - rbl,\n  );\n  ctx.lineTo(left, top + rtl);\n  ctx.bezierCurveTo(left, top + c1, left + c1, top, left + rtl, top);\n\n  ctx.strokeColor(borderLeftColor);\n  ctx.lineWidth(\n    Math.max(borderLeftWidth, borderTopWidth, borderBottomWidth) * 2,\n  );\n\n  if (borderLeftStyle === 'dashed') {\n    ctx.dash(borderLeftWidth * 2, { space: borderLeftWidth * 1.2 });\n  } else if (borderLeftStyle === 'dotted') {\n    ctx.dash(borderLeftWidth, { space: borderLeftWidth * 1.2 });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nconst shouldRenderBorders = node =>\n  node.box &&\n  (node.box.borderTopWidth ||\n    node.box.borderRightWidth ||\n    node.box.borderBottomWidth ||\n    node.box.borderLeftWidth);\n\nconst renderBorders = (ctx, node) => {\n  if (!shouldRenderBorders(node)) return node;\n\n  const {\n    width,\n    height,\n    borderTopWidth,\n    borderLeftWidth,\n    borderRightWidth,\n    borderBottomWidth,\n  } = node.box;\n\n  const {\n    opacity,\n    borderTopLeftRadius = 0,\n    borderTopRightRadius = 0,\n    borderBottomLeftRadius = 0,\n    borderBottomRightRadius = 0,\n    borderTopColor = 'black',\n    borderTopStyle = 'solid',\n    borderLeftColor = 'black',\n    borderLeftStyle = 'solid',\n    borderRightColor = 'black',\n    borderRightStyle = 'solid',\n    borderBottomColor = 'black',\n    borderBottomStyle = 'solid',\n  } = node.style;\n\n  const style = {\n    borderTopColor,\n    borderTopWidth,\n    borderTopStyle,\n    borderLeftColor,\n    borderLeftWidth,\n    borderLeftStyle,\n    borderRightColor,\n    borderRightWidth,\n    borderRightStyle,\n    borderBottomColor,\n    borderBottomWidth,\n    borderBottomStyle,\n    borderTopLeftRadius,\n    borderTopRightRadius,\n    borderBottomLeftRadius,\n    borderBottomRightRadius,\n  };\n\n  const rtr = Math.min(borderTopRightRadius, 0.5 * width, 0.5 * height);\n  const rtl = Math.min(borderTopLeftRadius, 0.5 * width, 0.5 * height);\n  const rbr = Math.min(borderBottomRightRadius, 0.5 * width, 0.5 * height);\n  const rbl = Math.min(borderBottomLeftRadius, 0.5 * width, 0.5 * height);\n\n  ctx.save();\n  ctx.strokeOpacity(opacity);\n\n  if (borderTopWidth) {\n    ctx.save();\n    clipBorderTop(ctx, node.box, style, rtr, rtl);\n    fillBorderTop(ctx, node.box, style, rtr, rtl);\n    ctx.restore();\n  }\n\n  if (borderRightWidth) {\n    ctx.save();\n    clipBorderRight(ctx, node.box, style, rtr, rbr);\n    fillBorderRight(ctx, node.box, style, rtr, rbr);\n    ctx.restore();\n  }\n\n  if (borderBottomWidth) {\n    ctx.save();\n    clipBorderBottom(ctx, node.box, style, rbl, rbr);\n    fillBorderBottom(ctx, node.box, style, rbl, rbr);\n    ctx.restore();\n  }\n\n  if (borderLeftWidth) {\n    ctx.save();\n    clipBorderLeft(ctx, node.box, style, rbl, rtl);\n    fillBorderLeft(ctx, node.box, style, rbl, rtl);\n    ctx.restore();\n  }\n\n  ctx.restore();\n\n  return node;\n};\n\nexport default R.curryN(2, renderBorders);\n","import * as R from 'ramda';\n\nconst setDestination = ctx =>\n  R.tap(node => {\n    if (node.props.id) {\n      ctx.addNamedDestination(node.props.id, 'XYZ', null, node.box.top, null);\n    }\n  });\n\nexport default setDestination;\n","import * as R from 'ramda';\n\nimport save from './save';\nimport restore from './restore';\nimport clipNode from './clipNode';\n\nconst drawBackground = ctx => node => {\n  if (node.box && node.style.backgroundColor) {\n    const { top, left, width, height } = node.box;\n\n    ctx\n      .fillOpacity(node.style.opacity || 1)\n      .fillColor(node.style.backgroundColor)\n      .rect(left, top, width, height)\n      .fill();\n  }\n\n  return node;\n};\n\nconst shouldRenderBackground = R.hasPath(['style', 'backgroundColor']);\n\nconst renderBackground = (ctx, node) => {\n  R.when(\n    shouldRenderBackground,\n    R.compose(\n      restore(ctx),\n      drawBackground(ctx),\n      clipNode(ctx),\n      save(ctx),\n    ),\n  )(node);\n\n  return node;\n};\n\nexport default R.curryN(2, renderBackground);\n","import * as R from 'ramda';\n\nimport Font from '../font';\nimport save from './save';\nimport setLink from './setLink';\nimport restore from './restore';\nimport isSvg from '../node/isSvg';\nimport isText from '../node/isText';\nimport isPage from '../node/isPage';\nimport isLink from '../node/isLink';\nimport isNote from '../node/isNote';\nimport isImage from '../node/isImage';\nimport isCanvas from '../node/isCanvas';\nimport renderSvg from './renderSvg';\nimport renderText from './renderText';\nimport renderPage from './renderPage';\nimport renderNote from './renderNote';\nimport renderImage from './renderImage';\nimport renderCanvas from './renderCanvas';\nimport renderRulers from './renderRulers';\nimport addMetadata from './addMetadata';\nimport renderDebug from './renderDebug';\nimport renderBorders from './renderBorders';\nimport setDestination from './setDestination';\nimport renderBackground from './renderBackground';\nimport applyTransformations from './applyTransformations';\n\nconst shouldRenderChildren = v => !isText(v) && !isSvg(v);\n\nconst renderChildren = ctx => node => {\n  save(ctx, node);\n\n  ctx.translate(node.box.left, node.box.top);\n\n  R.compose(\n    R.forEach(renderNode(ctx)),\n    R.pathOr([], ['children']),\n  )(node);\n\n  restore(ctx, node);\n\n  return node;\n};\n\nconst renderNode = ctx => node =>\n  R.compose(\n    restore(ctx),\n    renderDebug(ctx),\n    setDestination(ctx),\n    R.when(shouldRenderChildren, renderChildren(ctx)),\n    R.when(R.either(isText, isLink), setLink(ctx)),\n    R.cond([\n      [isText, renderText(ctx)],\n      [isNote, renderNote(ctx)],\n      [isImage, renderImage(ctx)],\n      [isCanvas, renderCanvas(ctx)],\n      [isSvg, renderSvg(ctx)],\n      [R.T, R.identity],\n    ]),\n    renderBorders(ctx),\n    renderBackground(ctx),\n    applyTransformations(ctx),\n    save(ctx),\n    R.when(isPage, renderPage(ctx)),\n  )(node);\n\nconst renderDocument = ctx =>\n  R.compose(\n    R.forEach(\n      R.compose(\n        renderRulers(ctx),\n        renderNode(ctx),\n      ),\n    ),\n    R.pathOr([], ['children']),\n  );\n\nconst render = (ctx, doc) => {\n  addMetadata(ctx)(doc);\n  renderDocument(ctx)(doc);\n\n  ctx.end();\n  Font.reset(); // TODO: move outside\n\n  return ctx;\n};\n\nexport default render;\n","/**\n * Capitalize first letter of each word\n *\n * @param {String} string\n * @returns {String} capitalized string\n */\nconst capitalize = value => {\n  if (!value) return value;\n  return value.replace(/(^|\\s)\\S/g, l => l.toUpperCase());\n};\n\nexport default capitalize;\n","import * as R from 'ramda';\n\n/**\n * Capitalize first letter of string\n *\n * @param {String} string\n * @returns {String} capitalized string\n */\nconst upperFirst = R.ifElse(\n  R.isNil,\n  R.identity,\n  R.compose(\n    R.join(''),\n    R.juxt([\n      R.compose(\n        R.toUpper,\n        R.head,\n      ),\n      R.tail,\n    ]),\n  ),\n);\n\nexport default R.memoizeWith(R.identity, upperFirst);\n","import capitalize from '../utils/capitalize';\nimport upperFirst from '../utils/upperFirst';\n\n/**\n * Apply transformation to text string\n *\n * @param {String} text\n * @param {String} transformation type\n * @returns {String} transformed text\n */\nconst transformText = (text, transformation) => {\n  switch (transformation) {\n    case 'uppercase':\n      return text.toUpperCase();\n    case 'lowercase':\n      return text.toLowerCase();\n    case 'capitalize':\n      return capitalize(text);\n    case 'upperfirst':\n      return upperFirst(text);\n    default:\n      return text;\n  }\n};\n\nexport default transformText;\n","import { PDFFont } from '@react-pdf/pdfkit';\n\nclass StandardFont {\n  constructor(src) {\n    this.name = src;\n    this.src = PDFFont.open(null, src);\n  }\n\n  layout(str) {\n    const [encoded, positions] = this.src.encode(str);\n\n    return {\n      positions,\n      stringIndices: positions.map((_, i) => i),\n      glyphs: encoded.map((g, i) => {\n        const glyph = this.getGlyph(parseInt(g, 16));\n        glyph.advanceWidth = positions[i].advanceWidth;\n        return glyph;\n      }),\n    };\n  }\n\n  glyphForCodePoint(codePoint) {\n    const glyph = this.getGlyph(codePoint);\n    glyph.advanceWidth = 400;\n    return glyph;\n  }\n\n  getGlyph(id) {\n    return {\n      id,\n      _font: this.src,\n      codePoints: [id],\n      isLigature: false,\n      name: this.src.font.characterToGlyph(id),\n    };\n  }\n\n  hasGlyphForCodePoint(codePoint) {\n    return this.src.font.characterToGlyph(codePoint) !== '.notdef';\n  }\n\n  // Based on empirical observation\n  get ascent() {\n    return 900;\n  }\n\n  // Based on empirical observation\n  get descent() {\n    switch (this.name) {\n      case 'Times-Roman':\n      case 'Times-Bold':\n      case 'Times-Italic':\n        return -220;\n      case 'Courier':\n      case 'Courier-Bold':\n      case 'Courier-Oblique':\n        return -230;\n      default:\n        return -200;\n    }\n  }\n\n  get lineGap() {\n    return 0;\n  }\n\n  get unitsPerEm() {\n    return 1000;\n  }\n}\n\nexport default StandardFont;\n","import * as R from 'ramda';\n\nimport StandardFont from './standardFont';\n\nconst fontCache = {};\n\nconst IGNORED_CODE_POINTS = [173];\n\nconst getFontSize = R.pathOr(12, ['attributes', 'fontSize']);\n\nconst getOrCreateFont = name => {\n  if (fontCache[name]) return fontCache[name];\n\n  const font = new StandardFont(name);\n  fontCache[name] = font;\n\n  return font;\n};\n\nconst getFallbackFont = () => getOrCreateFont('Helvetica');\n\nconst shouldFallbackToFont = (codePoint, font) =>\n  !IGNORED_CODE_POINTS.includes(codePoint) &&\n  !font.hasGlyphForCodePoint(codePoint) &&\n  getFallbackFont().hasGlyphForCodePoint(codePoint);\n\nconst fontSubstitution = () => ({ string, runs }) => {\n  let lastFont = null;\n  let lastIndex = 0;\n  let index = 0;\n\n  const res = [];\n\n  for (const run of runs) {\n    const fontSize = getFontSize(run);\n    const defaultFont =\n      typeof run.attributes.font === 'string'\n        ? getOrCreateFont(run.attributes.font)\n        : run.attributes.font;\n\n    if (string.length === 0) {\n      res.push({ start: 0, end: 0, attributes: { font: defaultFont } });\n      break;\n    }\n\n    for (const char of string.slice(run.start, run.end)) {\n      const codePoint = char.codePointAt();\n      const shouldFallback = shouldFallbackToFont(codePoint, defaultFont);\n      const font = shouldFallback ? getFallbackFont() : defaultFont;\n\n      // If the default font does not have a glyph and the fallback font does, we use it\n      if (font !== lastFont) {\n        if (lastFont) {\n          res.push({\n            start: lastIndex,\n            end: index,\n            attributes: {\n              font: lastFont,\n              scale: lastFont ? fontSize / lastFont.unitsPerEm : 0,\n            },\n          });\n        }\n\n        lastFont = font;\n        lastIndex = index;\n      }\n\n      index += char.length;\n    }\n  }\n\n  if (lastIndex < string.length) {\n    const fontSize = getFontSize(R.last(runs));\n\n    res.push({\n      start: lastIndex,\n      end: string.length,\n      attributes: {\n        font: lastFont,\n        scale: lastFont ? fontSize / lastFont.unitsPerEm : 0,\n      },\n    });\n  }\n\n  return { string, runs: res };\n};\n\nexport default fontSubstitution;\n","import * as R from 'ramda';\nimport layoutEngine from '@react-pdf/textkit/layout';\nimport linebreaker from '@react-pdf/textkit/engines/linebreaker';\nimport justification from '@react-pdf/textkit/engines/justification';\nimport textDecoration from '@react-pdf/textkit/engines/textDecoration';\nimport scriptItemizer from '@react-pdf/textkit/engines/scriptItemizer';\nimport wordHyphenation from '@react-pdf/textkit/engines/wordHyphenation';\nimport AttributedString from '@react-pdf/textkit/attributedString';\n\nimport Font from '../font';\nimport transformText from '../text/transformText';\nimport isTextInstance from '../node/isTextInstance';\nimport fontSubstitution from '../text/fontSubstitution';\n\nconst engines = {\n  linebreaker,\n  justification,\n  textDecoration,\n  scriptItemizer,\n  wordHyphenation,\n  fontSubstitution,\n};\n\nconst engine = layoutEngine(engines);\n\nconst layoutOptions = {\n  hyphenationCallback: Font.getHyphenationCallback(),\n  shrinkWhitespaceFactor: { before: -0.5, after: -0.5 },\n};\n\nconst getFragments = instance => {\n  if (!instance) return [{ string: '' }];\n\n  const fragments = [];\n\n  const {\n    fill = 'black',\n    fontFamily = 'Helvetica',\n    fontWeight,\n    fontStyle,\n    fontSize = 18,\n    textDecoration,\n    textDecorationColor,\n    textDecorationStyle,\n    textTransform,\n    opacity,\n  } = instance.props;\n\n  const obj = Font.getFont({ fontFamily, fontWeight, fontStyle });\n  const font = obj ? obj.data : fontFamily;\n\n  const attributes = {\n    font,\n    opacity,\n    fontSize,\n    color: fill,\n    underlineStyle: textDecorationStyle,\n    underline: textDecoration === 'underline',\n    underlineColor: textDecorationColor || fill,\n    strike: textDecoration === 'line-through',\n    strikeStyle: textDecorationStyle,\n    strikeColor: textDecorationColor || fill,\n  };\n\n  instance.children.forEach(child => {\n    if (isTextInstance(child)) {\n      fragments.push({\n        string: transformText(child.value, textTransform),\n        attributes,\n      });\n    } else {\n      if (child) {\n        fragments.push(...getFragments(child));\n      }\n    }\n  });\n\n  return fragments;\n};\n\nconst getAttributedString = instance =>\n  AttributedString.fromFragments(getFragments(instance));\n\nconst AlmostInfinity = 999999999999;\n\nconst layoutTspan = node => {\n  const attributedString = getAttributedString(node);\n\n  const x = R.pathOr(0, ['props', 'x'], node);\n  const y = R.pathOr(0, ['props', 'y'], node);\n\n  const container = { x, y, width: AlmostInfinity, height: AlmostInfinity };\n\n  const lines = R.compose(\n    R.reduce(R.concat, []),\n    engine,\n  )(attributedString, container, layoutOptions);\n\n  return R.assoc('lines', lines, node);\n};\n\nconst layoutText = R.evolve({\n  children: R.map(layoutTspan),\n});\n\nexport default layoutText;\n","import * as R from 'ramda';\n\nimport { DEFS } from '../constants';\n\n/**\n * Checks if node is svg defs\n *\n * @param {Object} node\n * @returns {Boolean} is node svg defs?\n */\nconst isDefs = R.propEq('type', DEFS);\n\nexport default isDefs;\n","import * as R from 'ramda';\n\nimport isDefs from '../node/isDefs';\n\nconst getChildren = R.propOr([], 'children');\n\nconst getId = R.path(['props', 'id']);\n\nconst getDefs = R.compose(\n  R.map(R.prop(0)),\n  R.groupBy(getId),\n  getChildren,\n  R.defaultTo({}),\n  R.find(isDefs),\n  getChildren,\n);\n\nexport default getDefs;\n","import * as R from 'ramda';\n\nimport getDefs from './getDefs';\nimport isDefs from '../node/isDefs';\n\nconst isNotDefs = R.complement(isDefs);\n\nconst detachDefs = R.evolve({\n  children: R.filter(isNotDefs),\n});\n\nconst URL_REGEX = /url\\(['\"]?#([^'\"]+)['\"]?\\)/;\n\nconst replaceDef = defs =>\n  R.compose(\n    R.when(\n      R.test(URL_REGEX),\n      R.compose(\n        R.prop(R.__, defs),\n        R.prop(1),\n        R.match(URL_REGEX),\n      ),\n    ),\n    R.defaultTo(''),\n  );\n\nconst parseNodeDefs = defs => node =>\n  R.compose(\n    R.evolve({\n      props: R.evolve({\n        fill: replaceDef(defs),\n        clipPath: replaceDef(defs),\n      }),\n    }),\n    R.evolve({ children: R.map(parseNodeDefs(defs)) }),\n  )(node);\n\nconst parseDefs = root => {\n  const defs = getDefs(root);\n  return R.evolve({ children: R.map(parseNodeDefs(defs)) }, root);\n};\n\nconst replaceDefs = R.compose(\n  detachDefs,\n  parseDefs,\n);\n\nexport default replaceDefs;\n","const parseViewbox = value => {\n  if (!value) return null;\n  const values = value.split(/[,\\s]+/).map(parseFloat);\n  if (values.length !== 4) return null;\n  return { minX: values[0], minY: values[1], maxX: values[2], maxY: values[3] };\n};\n\nexport default parseViewbox;\n","import parseViewBox from './parseViewbox';\n\nconst getContainer = node => {\n  const viewbox = parseViewBox(node.props.viewBox);\n\n  if (viewbox) {\n    return { width: viewbox.maxX, height: viewbox.maxY };\n  }\n\n  if (node.props.width && node.props.height) {\n    return {\n      width: parseFloat(node.props.width),\n      height: parseFloat(node.props.height),\n    };\n  }\n\n  return { width: 0, height: 0 };\n};\n\nexport default getContainer;\n","import * as R from 'ramda';\n\nimport { SVG_INHERITED_PROPS } from '../constants';\n\nconst getInheritProps = R.compose(\n  R.pick(SVG_INHERITED_PROPS),\n  R.propOr({}, 'props'),\n);\n\nconst inheritProps = node => {\n  const props = getInheritProps(node);\n\n  return R.evolve({\n    children: R.map(\n      R.compose(\n        inheritProps,\n        R.evolve({\n          props: R.merge(props),\n        }),\n      ),\n    ),\n  })(node);\n};\n\nexport default inheritProps;\n","const parseAspectRatio = value => {\n  const match = value\n    .replace(/[\\s\\r\\t\\n]+/gm, ' ')\n    .replace(/^defer\\s/, '')\n    .split(' ');\n\n  const align = match[0] || 'xMidYMid';\n  const meetOrSlice = match[1] || 'meet';\n\n  return { align, meetOrSlice };\n};\n\nexport default parseAspectRatio;\n","import * as R from 'ramda';\nimport colorString from 'color-string';\nimport hlsToHex from 'hsl-to-hex';\n\nconst isRgb = R.test(/rgb/g);\nconst isRgba = R.test(/rgba/g);\nconst isHsl = R.test(/hsl/g);\nconst isHsla = R.test(/hsla/g);\n\n/**\n * Transform rgb color to hexa\n *\n * @param {String} styles value\n * @returns {Object} transformed value\n */\nconst parseRgb = R.compose(\n  colorString.to.hex,\n  colorString.get.rgb,\n);\n\n/**\n * Transform Hsl color to hexa\n *\n * @param {String} styles value\n * @returns {Object} transformed value\n */\nconst parseHsl = R.compose(\n  R.toUpper,\n  R.apply(hlsToHex),\n  R.map(Math.round),\n  colorString.get.hsl,\n);\n\n/**\n * Transform given color to hexa\n *\n * @param {String} styles value\n * @returns {Object} transformed value\n */\nexport const transformColor = value =>\n  R.cond([\n    [isRgba, parseRgb],\n    [isRgb, parseRgb],\n    [isHsla, parseHsl],\n    [isHsl, parseHsl],\n    [R.T, R.always(value)],\n  ])(value);\n\n/**\n * Transform rbg and cmyk colors to hexa\n *\n * @param {Object} styles object\n * @returns {Object} transformed styles\n */\nconst transformColors = styles => R.map(transformColor, styles);\n\nexport default transformColors;\n","import * as R from 'ramda';\n\nimport isSvg from '../node/isSvg';\nimport isText from '../node/isText';\n\nimport layoutText from '../svg/layoutText';\nimport replaceDefs from '../svg/replaceDefs';\nimport getContainer from '../svg/getContainer';\nimport parseViewbox from '../svg/parseViewbox';\nimport inheritProps from '../svg/inheritProps';\nimport matchPercent from '../utils/matchPercent';\nimport isTextInstance from '../node/isTextInstance';\nimport parseAspectRatio from '../svg/parseAspectRatio';\nimport { transformColor } from '../stylesheet/transformColors';\n\nconst STYLE_PROPS = [\n  'width',\n  'height',\n  'color',\n  'stroke',\n  'strokeWidth',\n  'opacity',\n  'fillOpacity',\n  'strokeOpacity',\n  'fill',\n  'fillRule',\n  'clipPath',\n  'offset',\n  'transform',\n  'strokeLinejoin',\n  'strokeLinecap',\n  'strokeDasharray',\n];\n\nconst VERTICAL_PROPS = ['y', 'y1', 'y2', 'height', 'cy', 'ry'];\nconst HORIZONTAL_PROPS = ['x', 'x1', 'x2', 'width', 'cx', 'rx'];\n\nconst transformPercent = container =>\n  R.mapObjIndexed((value, key) => {\n    const match = matchPercent(value);\n\n    if (match && VERTICAL_PROPS.includes(key)) {\n      return match.percent * container.height;\n    }\n\n    if (match && HORIZONTAL_PROPS.includes(key)) {\n      return match.percent * container.width;\n    }\n\n    return value;\n  });\n\nconst parsePercent = value => {\n  const match = matchPercent(value);\n  return match ? match.percent : parseFloat(value);\n};\n\nconst parseProps = container =>\n  R.compose(\n    R.evolve({\n      props: R.o(\n        R.evolve({\n          x: parseFloat,\n          x1: parseFloat,\n          x2: parseFloat,\n          y: parseFloat,\n          y1: parseFloat,\n          y2: parseFloat,\n          r: parseFloat,\n          rx: parseFloat,\n          ry: parseFloat,\n          cx: parseFloat,\n          cy: parseFloat,\n          width: parseFloat,\n          height: parseFloat,\n          offset: parsePercent,\n          fill: transformColor,\n          opacity: parsePercent,\n          stroke: transformColor,\n          stopOpacity: parsePercent,\n          stopColor: transformColor,\n        }),\n        transformPercent(container),\n      ),\n    }),\n  );\n\nconst mergeStyles = node => {\n  const style = R.propOr({}, 'style', node);\n  return R.evolve({ props: R.merge(style) }, node);\n};\n\nconst removeNoneValues = R.evolve({\n  props: R.map(R.when(R.equals('none'), R.always(null))),\n});\n\nconst pickStyleProps = node => {\n  const styleProps = R.o(R.pick(STYLE_PROPS), R.propOr({}, 'props'))(node);\n  return R.evolve({ style: R.merge(styleProps) }, node);\n};\n\nconst parseSvgProps = R.evolve({\n  props: R.evolve({\n    width: parseFloat,\n    height: parseFloat,\n    viewBox: parseViewbox,\n    preserveAspectRatio: parseAspectRatio,\n  }),\n});\n\nconst wrapBetweenTspan = node => ({\n  type: 'TSPAN',\n  props: {},\n  children: [node],\n});\n\nconst addMissingTspan = R.when(\n  isText,\n  R.evolve({\n    children: R.map(R.when(isTextInstance, wrapBetweenTspan)),\n  }),\n);\n\nconst resolveSvgNode = container =>\n  R.compose(\n    parseProps(container),\n    addMissingTspan,\n    removeNoneValues,\n    mergeStyles,\n  );\n\nconst resolveChildren = container => node =>\n  R.evolve({\n    children: R.map(\n      R.compose(\n        resolveChildren(container),\n        resolveSvgNode(container),\n      ),\n    ),\n  })(node);\n\nconst parseText = node =>\n  R.ifElse(\n    isText,\n    layoutText,\n    R.evolve({\n      children: R.map(parseText),\n    }),\n  )(node);\n\nconst resolveSvgRoot = node => {\n  const container = getContainer(node);\n\n  return R.compose(\n    replaceDefs,\n    parseText,\n    parseSvgProps,\n    pickStyleProps,\n    inheritProps,\n    resolveChildren(container),\n  )(node);\n};\n\nconst resolveSvg = node =>\n  R.compose(\n    R.evolve({ children: R.map(resolveSvg) }),\n    R.when(isSvg, resolveSvgRoot),\n  )(node);\n\nexport default resolveSvg;\n","import * as R from 'ramda';\nimport { SVG, DOCUMENT } from '../constants';\n\nconst getZIndex = R.path(['style', 'zIndex']);\n\nconst isType = R.propEq('type');\n\nconst shouldNotSort = R.anyPass([isType(DOCUMENT), isType(SVG)]);\n\nconst sortZIndex = (a, b) => {\n  const za = getZIndex(a);\n  const zb = getZIndex(b);\n\n  if (!za && !zb) return 0;\n  if (!za) return 1;\n  if (!zb) return -1;\n\n  return zb - za;\n};\n\n/**\n * Sort children by zIndex value\n *\n * @param {Object} node\n * @returns {Object} node\n */\nconst resolveZIndex = node =>\n  R.compose(\n    R.evolve({ children: R.map(resolveZIndex) }),\n    R.unless(shouldNotSort, R.evolve({ children: R.sort(sortZIndex) })),\n  )(node);\n\nexport default resolveZIndex;\n","import * as R from 'ramda';\n\nimport { RULER_WIDTH } from '../constants';\nimport hasVerticalRuler from '../node/hasVerticalRuler';\nimport hasHorizontalRuler from '../node/hasHorizontalRuler';\n\n/**\n * Adjust page size given ruler props\n *\n * @param {Object} page\n * @returns {boolean} page with size altered by ruler props\n */\nconst adjustPageSize = R.compose(\n  R.when(\n    hasVerticalRuler,\n    R.evolve({\n      box: { height: R.add(RULER_WIDTH) },\n      children: R.map(\n        R.evolve({\n          box: { top: R.add(RULER_WIDTH) },\n        }),\n      ),\n    }),\n  ),\n  R.when(\n    hasHorizontalRuler,\n    R.evolve({\n      box: { width: R.add(RULER_WIDTH) },\n      children: R.map(\n        R.evolve({\n          box: { left: R.add(RULER_WIDTH) },\n        }),\n      ),\n    }),\n  ),\n);\n\n/**\n * Adjust pages size given ruler props\n *\n * @param {Object} root\n * @returns {boolean} root with pages size altered by ruler props\n */\nconst resolveRulers = R.evolve({\n  children: R.map(adjustPageSize),\n});\n\nexport default resolveRulers;\n","import PNG from '@react-pdf/png-js';\n\nPNG.isValid = function(data) {\n  try {\n    return !!new PNG(data);\n  } catch (e) {\n    return false;\n  }\n};\n\nexport default PNG;\n","// Extracted from https://github.com/devongovett/pdfkit/blob/master/lib/image/jpeg.coffee\n\nconst MARKERS = [\n  0xffc0,\n  0xffc1,\n  0xffc2,\n  0xffc3,\n  0xffc5,\n  0xffc6,\n  0xffc7,\n  0xffc8,\n  0xffc9,\n  0xffca,\n  0xffcb,\n  0xffcc,\n  0xffcd,\n  0xffce,\n  0xffcf,\n];\n\nclass JPEG {\n  data = null;\n  width = null;\n  height = null;\n\n  constructor(data) {\n    this.data = data;\n\n    if (data.readUInt16BE(0) !== 0xffd8) {\n      throw new Error('SOI not found in JPEG');\n    }\n\n    let marker;\n    let pos = 2;\n\n    while (pos < data.length) {\n      marker = data.readUInt16BE(pos);\n      pos += 2;\n      if (MARKERS.includes(marker)) {\n        break;\n      }\n      pos += data.readUInt16BE(pos);\n    }\n\n    if (!MARKERS.includes(marker)) {\n      throw new Error('Invalid JPEG.');\n    }\n\n    pos += 3;\n    this.height = data.readUInt16BE(pos);\n\n    pos += 2;\n    this.width = data.readUInt16BE(pos);\n  }\n}\n\nJPEG.isValid = function(data) {\n  if (!data || !Buffer.isBuffer(data) || data.readUInt16BE(0) !== 0xffd8) {\n    return false;\n  }\n\n  let marker;\n  let pos = 2;\n\n  while (pos < data.length) {\n    marker = data.readUInt16BE(pos);\n    pos += 2;\n    if (MARKERS.includes(marker)) {\n      break;\n    }\n    pos += data.readUInt16BE(pos);\n  }\n\n  if (!MARKERS.includes(marker)) {\n    return false;\n  }\n\n  return true;\n};\n\nexport default JPEG;\n","const createCache = ({ limit = 100 } = {}) => {\n  let cache = {};\n  let keys = [];\n\n  return {\n    get: key => cache[key],\n    set: (key, value) => {\n      keys.push(key);\n      if (keys.length > limit) {\n        delete cache[keys.shift()];\n      }\n      cache[key] = value;\n    },\n    reset: () => {\n      cache = {};\n      keys = [];\n    },\n    length: () => keys.length,\n  };\n};\n\nexport default createCache;\n","import fs from 'fs';\nimport url from 'url';\nimport path from 'path';\nimport fetch from 'cross-fetch';\n\nimport PNG from '../utils/png';\nimport JPEG from '../utils/jpeg';\nimport createCache from '../utils/cache';\n\nexport const IMAGE_CACHE = createCache({ limit: 30 });\n\nexport const getAbsoluteLocalPath = src => {\n  if (BROWSER) {\n    throw new Error('Cannot check local paths in client-side environment');\n  }\n\n  const { protocol, auth, host, port, hostname, path: pathname } = url.parse(\n    src,\n  );\n  const absolutePath = path.resolve(pathname);\n  if ((protocol && protocol !== 'file:') || auth || host || port || hostname) {\n    return undefined;\n  }\n  return absolutePath;\n};\n\nconst fetchLocalFile = src =>\n  new Promise((resolve, reject) => {\n    try {\n      if (BROWSER) {\n        return reject(new Error('Cannot fetch local file in this environemnt'));\n      }\n      const absolutePath = getAbsoluteLocalPath(src);\n      if (!absolutePath) {\n        return reject(new Error(`Cannot fetch non-local path: ${src}`));\n      }\n      fs.readFile(absolutePath, (err, data) =>\n        err ? reject(err) : resolve(data),\n      );\n    } catch (err) {\n      reject(err);\n    }\n  });\n\nconst fetchRemoteFile = async (uri, options) => {\n  const response = await fetch(uri, options);\n\n  const buffer = await (response.buffer\n    ? response.buffer()\n    : response.arrayBuffer());\n\n  return buffer.constructor.name === 'Buffer' ? buffer : Buffer.from(buffer);\n};\n\nconst isValidFormat = format => {\n  const lower = format.toLowerCase();\n  return lower === 'jpg' || lower === 'jpeg' || lower === 'png';\n};\n\nconst guessFormat = buffer => {\n  let format;\n\n  if (JPEG.isValid(buffer)) {\n    format = 'jpg';\n  } else if (PNG.isValid(buffer)) {\n    format = 'png';\n  }\n\n  return format;\n};\n\nconst isCompatibleBase64 = ({ uri }) =>\n  /^data:image\\/[a-zA-Z]*;base64,[^\"]*/g.test(uri);\n\nfunction getImage(body, extension) {\n  switch (extension.toLowerCase()) {\n    case 'jpg':\n    case 'jpeg':\n      return new JPEG(body);\n    case 'png':\n      return new PNG(body);\n    default:\n      return null;\n  }\n}\n\nconst resolveBase64Image = ({ uri }) => {\n  const match = /^data:image\\/([a-zA-Z]*);base64,([^\"]*)/g.exec(uri);\n  const format = match[1];\n  const data = match[2];\n\n  if (!isValidFormat(format)) {\n    throw new Error(`Base64 image invalid format: ${format}`);\n  }\n\n  return new Promise(resolve => {\n    return resolve(getImage(Buffer.from(data, 'base64'), format));\n  });\n};\n\nconst resolveImageFromData = src => {\n  if (src.data && src.format) {\n    return new Promise(resolve => resolve(getImage(src.data, src.format)));\n  }\n\n  throw new Error(`Invalid data given for local file: ${JSON.stringify(src)}`);\n};\n\nconst resolveBufferImage = buffer => {\n  const format = guessFormat(buffer);\n\n  if (format) {\n    return new Promise(resolve => resolve(getImage(buffer, format)));\n  }\n};\n\nconst getImageFormat = body => {\n  const isPng =\n    body[0] === 137 &&\n    body[1] === 80 &&\n    body[2] === 78 &&\n    body[3] === 71 &&\n    body[4] === 13 &&\n    body[5] === 10 &&\n    body[6] === 26 &&\n    body[7] === 10;\n\n  const isJpg = body[0] === 255 && body[1] === 216 && body[2] === 255;\n\n  let extension = '';\n  if (isPng) {\n    extension = 'png';\n  } else if (isJpg) {\n    extension = 'jpg';\n  } else {\n    throw new Error('Not valid image extension');\n  }\n\n  return extension;\n};\n\nconst resolveImageFromUrl = async src => {\n  const { uri, body, headers, method = 'GET' } = src;\n\n  const data =\n    !BROWSER && getAbsoluteLocalPath(uri)\n      ? await fetchLocalFile(uri)\n      : await fetchRemoteFile(uri, { body, headers, method });\n\n  const extension = getImageFormat(data);\n\n  return getImage(data, extension);\n};\n\nconst resolveImage = (src, { cache = true } = {}) => {\n  const cacheKey = src.data ? src.data.toString() : src.uri;\n\n  if (cache && IMAGE_CACHE.get(cacheKey)) {\n    return IMAGE_CACHE.get(cacheKey);\n  }\n\n  let image;\n  if (isCompatibleBase64(src)) {\n    image = resolveBase64Image(src);\n  } else if (Buffer.isBuffer(src)) {\n    image = resolveBufferImage(src);\n  } else if (typeof src === 'object' && src.data) {\n    image = resolveImageFromData(src);\n  } else {\n    image = resolveImageFromUrl(src);\n  }\n\n  if (!image) {\n    throw new Error('Cannot resolve image');\n  }\n\n  if (cache) {\n    IMAGE_CACHE.set(cacheKey, image);\n  }\n\n  return image;\n};\n\nexport default resolveImage;\n","import * as R from 'ramda';\n\nconst isNotNil = R.complement(R.isNil);\n\n/**\n * Takes a list of predicates and returns the first predicate result that returns true for a given list of arguments\n *\n * @param  {...any} predicates\n * @param  {any} value\n */\nconst firstPass = (...fns) => value => {\n  let res;\n\n  for (const fn of fns) {\n    res = fn(value);\n    if (isNotNil(res)) return res;\n  }\n\n  return res;\n};\n\nexport default firstPass;\n","import * as R from 'ramda';\n\nimport firstPass from '../utils/firstPass';\n\n/**\n * Get image source\n *\n * @param {Object} image node\n * @returns {String} image src\n */\nconst getSource = R.compose(\n  R.when(R.is(String), src => ({ uri: src })),\n  firstPass(\n    R.path(['props', 'src']),\n    R.path(['props', 'source']),\n    R.path(['props', 'href']),\n  ),\n);\n\nexport default getSource;\n","import resolveImage from './resolveImage';\nimport getSource from './getSource';\nimport warning from '../utils/warning';\n\n/**\n * Resolves async src if passed\n *\n * @param {string | Function} src\n * @returns {object} resolved src\n */\nconst resolveSrc = async src =>\n  typeof src === 'function' ? { uri: await src() } : src;\n\n/**\n * Fetches image and append data to node\n * Ideally this fn should be immutable.\n *\n * @param {Object} node\n */\nconst fetchImage = async node => {\n  const src = getSource(node);\n  const { cache } = node.props;\n\n  if (!src) {\n    warning(false, 'Image should receive either a \"src\" or \"source\" prop');\n    return;\n  }\n\n  try {\n    const source = await resolveSrc(src);\n    node.image = await resolveImage(source, { cache });\n  } catch (e) {\n    node.image = { width: 0, height: 0 };\n    console.warn(e.message);\n  }\n};\n\nexport default fetchImage;\n","/* eslint-disable no-cond-assign */\nimport emojiRegex from 'emoji-regex';\n\nimport Font from '../font';\nimport resolveImage from '../image/resolveImage';\n\n// Caches emoji images data\nconst emojis = {};\nconst regex = emojiRegex();\n\nconst reflect = promise => (...args) => promise(...args).then(v => v, e => e);\n\n// Returns a function to be able to mock resolveImage.\nconst makeFetchEmojiImage = () => reflect(resolveImage);\n\n/**\n * When an emoji as no color, it might still have 2 parts,\n * the canonical emoji and an empty string.\n * ex.\n *   (no color) Array.from('') => [\"\", \"\"]\n *   (w/ color) Array.from('') => [\"\", \"\"]\n *\n * The empty string needs to be removed otherwise the generated\n * url will be incorect.\n */\nconst _removeNoColor = x => x !== '';\n\nconst getCodePoints = string =>\n  Array.from(string)\n    .filter(_removeNoColor)\n    .map(char => char.codePointAt(0).toString(16))\n    .join('-');\n\nconst buildEmojiUrl = emoji => {\n  const { url, format } = Font.getEmojiSource();\n  return `${url}${getCodePoints(emoji)}.${format}`;\n};\n\nexport const fetchEmojis = string => {\n  const emojiSource = Font.getEmojiSource();\n\n  if (!emojiSource || !emojiSource.url) return [];\n\n  const promises = [];\n\n  let match;\n  while ((match = regex.exec(string))) {\n    const emoji = match[0];\n\n    if (!emojis[emoji] || emojis[emoji].loading) {\n      const emojiUrl = buildEmojiUrl(emoji);\n\n      emojis[emoji] = { loading: true };\n      const fetchEmojiImage = makeFetchEmojiImage();\n      promises.push(\n        fetchEmojiImage({ uri: emojiUrl }).then(image => {\n          emojis[emoji].loading = false;\n          emojis[emoji].data = image.data;\n        }),\n      );\n    }\n  }\n\n  return promises;\n};\n\nexport const embedEmojis = fragments => {\n  const result = [];\n\n  for (let i = 0; i < fragments.length; i++) {\n    const fragment = fragments[i];\n\n    let match;\n    let lastIndex = 0;\n\n    while ((match = regex.exec(fragment.string))) {\n      const index = match.index;\n      const emoji = match[0];\n      const emojiSize = fragment.attributes.fontSize;\n      const chunk = fragment.string.slice(lastIndex, index + match[0].length);\n\n      // If emoji image was found, we create a new fragment with the\n      // correct attachment and object substitution character;\n      if (emojis[emoji] && emojis[emoji].data) {\n        result.push({\n          string: chunk.replace(match, String.fromCharCode(0xfffc)),\n          attributes: {\n            ...fragment.attributes,\n            attachment: {\n              width: emojiSize,\n              height: emojiSize,\n              yOffset: Math.floor(emojiSize * 0.1),\n              image: emojis[emoji].data,\n            },\n          },\n        });\n      } else {\n        // If no emoji data, we just replace the emoji with a nodef char\n        result.push({\n          string: chunk.replace(match, String.fromCharCode(0)),\n          attributes: fragment.attributes,\n        });\n      }\n\n      lastIndex = index + emoji.length;\n    }\n\n    if (lastIndex < fragment.string.length) {\n      result.push({\n        string: fragment.string.slice(lastIndex),\n        attributes: fragment.attributes,\n      });\n    }\n  }\n\n  return result;\n};\n","import * as R from 'ramda';\n\nimport Font from '../font';\nimport isImage from '../node/isImage';\nimport fetchImage from '../image/fetchImage';\nimport { fetchEmojis } from '../text/emoji';\n\n/**\n * Get all asset promises that need to be resolved\n *\n * @param {Object} root node\n * @returns {Array} asset promises\n */\nconst fetchAssets = node => {\n  const promises = [];\n  const listToExplore = node.children.slice(0);\n\n  while (listToExplore.length > 0) {\n    const node = listToExplore.shift();\n\n    if (isImage(node)) {\n      promises.push(fetchImage(node));\n    }\n\n    if (node.style && node.style.fontFamily) {\n      promises.push(Font.load(node.style));\n    }\n\n    if (typeof node === 'string') {\n      promises.push(...fetchEmojis(node));\n    }\n\n    if (typeof node.value === 'string') {\n      promises.push(...fetchEmojis(node.value));\n    }\n\n    if (node.children) {\n      node.children.forEach(childNode => {\n        listToExplore.push(childNode);\n      });\n    }\n  }\n\n  return promises;\n};\n\n/**\n * Fetch image, font and emoji assets in parallel.\n * Layout process will not be resumed until promise resolves.\n *\n * @param {Object} root node\n * @returns {Object} root node\n */\nconst resolveAssets = node =>\n  R.compose(\n    R.then(R.always(node)),\n    p => Promise.all(p),\n    fetchAssets,\n  )(node);\n\nexport default resolveAssets;\n","import * as R from 'ramda';\n\n/**\n * Checks if value is not an array\n *\n * @param {any} value\n * @returns {Boolean} isn't value an array\n */\nconst isNotArray = R.complement(R.is(Array));\n\n/**\n * Casts value to array\n *\n * @param {any} value\n * @returns {Array} casted value\n */\nconst castArray = R.when(isNotArray, v => [v]);\n\nexport default castArray;\n","import * as R from 'ramda';\n\nimport castArray from '../utils/castArray';\n\n/**\n * Remove nil values from array\n *\n * @param {Array} array\n * @returns {Array} array without nils\n */\nconst compact = R.filter(Boolean);\n\n/**\n * Checks if value is array\n *\n * @param {any} value\n * @returns {Boolean} is value an array\n */\nconst isArray = R.is(Array);\n\n/**\n * Merges style objects array\n *\n * @param {Array} style objects array\n * @returns {Object} merged style object\n */\nconst mergeStyles = styles =>\n  styles.reduce((acc, style) => {\n    const s = isArray(style) ? flatten(style) : style;\n\n    Object.keys(s).forEach(key => {\n      if (s[key] !== null && s[key] !== undefined) {\n        acc[key] = s[key];\n      }\n    });\n\n    return acc;\n  }, {});\n\n/**\n * Flattens an array of style objects, into one aggregated style object.\n *\n * @param {Array} style objects array\n * @returns {Object} flatted style object\n */\nconst flatten = R.compose(\n  mergeStyles,\n  compact,\n  castArray,\n);\n\nexport default flatten;\n","const hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Expand rules\n */\nconst styleShorthands = {\n  margin: {\n    marginTop: true,\n    marginRight: true,\n    marginBottom: true,\n    marginLeft: true,\n  },\n  marginHorizontal: {\n    marginLeft: true,\n    marginRight: true,\n  },\n  marginVertical: {\n    marginTop: true,\n    marginBottom: true,\n  },\n  padding: {\n    paddingTop: true,\n    paddingRight: true,\n    paddingBottom: true,\n    paddingLeft: true,\n  },\n  paddingHorizontal: {\n    paddingLeft: true,\n    paddingRight: true,\n  },\n  paddingVertical: {\n    paddingTop: true,\n    paddingBottom: true,\n  },\n  border: {\n    borderTopColor: true,\n    borderTopStyle: true,\n    borderTopWidth: true,\n    borderRightColor: true,\n    borderRightStyle: true,\n    borderRightWidth: true,\n    borderBottomColor: true,\n    borderBottomStyle: true,\n    borderBottomWidth: true,\n    borderLeftColor: true,\n    borderLeftStyle: true,\n    borderLeftWidth: true,\n  },\n  borderTop: {\n    borderTopColor: true,\n    borderTopStyle: true,\n    borderTopWidth: true,\n  },\n  borderRight: {\n    borderRightColor: true,\n    borderRightStyle: true,\n    borderRightWidth: true,\n  },\n  borderBottom: {\n    borderBottomColor: true,\n    borderBottomStyle: true,\n    borderBottomWidth: true,\n  },\n  borderLeft: {\n    borderLeftColor: true,\n    borderLeftStyle: true,\n    borderLeftWidth: true,\n  },\n  borderColor: {\n    borderTopColor: true,\n    borderRightColor: true,\n    borderBottomColor: true,\n    borderLeftColor: true,\n  },\n  borderRadius: {\n    borderTopLeftRadius: true,\n    borderTopRightRadius: true,\n    borderBottomRightRadius: true,\n    borderBottomLeftRadius: true,\n  },\n  borderStyle: {\n    borderTopStyle: true,\n    borderRightStyle: true,\n    borderBottomStyle: true,\n    borderLeftStyle: true,\n  },\n  borderWidth: {\n    borderTopWidth: true,\n    borderRightWidth: true,\n    borderBottomWidth: true,\n    borderLeftWidth: true,\n  },\n  objectPosition: {\n    objectPositionX: true,\n    objectPositionY: true,\n  },\n  transformOrigin: {\n    transformOriginX: true,\n    transformOriginY: true,\n  },\n  flex: {\n    flexGrow: true,\n    flexShrink: true,\n    flexBasis: true,\n  },\n};\n\n/**\n * Expand the shorthand properties to isolate every declaration from the others.\n *\n * @param { Object } style object\n * @returns { Object } expanded style object\n */\nconst expandStyles = style => {\n  if (!style) return style;\n\n  const propsArray = Object.keys(style);\n  const resolvedStyle = {};\n\n  for (let i = 0; i < propsArray.length; i++) {\n    const key = propsArray[i];\n    const value = style[key];\n\n    if (styleShorthands[key]) {\n      const expandedProps = styleShorthands[key];\n\n      for (const propName in expandedProps) {\n        if (hasOwnProperty.call(expandedProps, propName)) {\n          resolvedStyle[propName] = value;\n        }\n      }\n    } else {\n      resolvedStyle[key] = value;\n    }\n  }\n\n  return resolvedStyle;\n};\n\nexport default expandStyles;\n","import * as R from 'ramda';\n\nimport { DPI } from '../constants';\n\nconst MM_FACTOR = (1 / 25.4) * DPI;\n\nconst CM_FACTOR = (1 / 2.54) * DPI;\n\n/**\n * Parses scalar value in value and unit pairs\n *\n * @param {String} scalar value\n * @returns {Object} parsed value\n */\nconst parseValue = value => {\n  const match = /^(-?\\d*\\.?\\d+)(in|mm|cm|pt|vh|vw|px)?$/g.exec(value);\n\n  return match\n    ? { value: parseFloat(match[1], 10), unit: match[2] || 'pt' }\n    : { value, unit: undefined };\n};\n\n/**\n * Transform given scalar value\n *\n * @param {Object} container\n * @param {String} styles value\n * @returns {Object} transformed value\n */\nconst transformUnit = R.curryN(2, (container, value) => {\n  const scalar = parseValue(value);\n\n  switch (scalar.unit) {\n    case 'in':\n      return scalar.value * DPI;\n    case 'mm':\n      return scalar.value * MM_FACTOR;\n    case 'cm':\n      return scalar.value * CM_FACTOR;\n    case 'vh':\n      return scalar.value * (container.height / 100);\n    case 'vw':\n      return scalar.value * (container.width / 100);\n    default:\n      return scalar.value;\n  }\n});\n\n/**\n * Transform units on given styles object.\n * Container is given to calculate vh and vw\n *\n * @param {Object} container\n * @param {Object} styles object\n * @returns {Object} transformed styles\n */\nconst transformUnits = (container, styles) =>\n  R.map(transformUnit(container), styles);\n\nexport default R.curryN(2, transformUnits);\n","import * as R from 'ramda';\nimport matchMedia from 'media-engine';\n\n/**\n * Resolves media queries in styles object\n *\n * @param {Object} container\n * @param {Object} styles object\n */\nconst resolveMediaQueries = (container, styles) => {\n  return Object.keys(styles).reduce((acc, key) => {\n    if (/@media/.test(key)) {\n      return {\n        ...acc,\n        ...matchMedia({ [key]: styles[key] }, container),\n      };\n    }\n\n    return { ...acc, [key]: styles[key] };\n  }, {});\n};\n\nexport default R.curryN(2, resolveMediaQueries);\n","import * as R from 'ramda';\n\nimport isLink from '../node/isLink';\nimport flattenStyles from '../stylesheet/flatten';\nimport expandStyles from '../stylesheet/expandStyles';\nimport transformUnits from '../stylesheet/transformUnits';\nimport transformStyles from '../stylesheet/transformStyles';\nimport transformColors from '../stylesheet/transformColors';\nimport resolveMediaQueries from '../stylesheet/resolveMediaQueries';\n\nconst LINK_STYLES = {\n  color: 'blue',\n  textDecoration: 'underline',\n};\n\n/**\n * Filter styles with `none` value\n *\n * @param {Object} style object\n * @returns {Object} style without none values\n */\nconst filterNoneValues = R.reject(R.equals('none'));\n\n/**\n * Resolves styles\n *\n * @param {Object} container\n * @param {Object} node\n * @param {Object} style object\n * @returns {Object} resolved style object\n */\nconst resolveStyles = container =>\n  R.compose(\n    transformUnits(container),\n    transformColors,\n    transformStyles,\n    expandStyles,\n    resolveMediaQueries(container),\n    filterNoneValues,\n    flattenStyles,\n  );\n\n/**\n * Resolves node styles\n *\n * @param {Object} container\n * @param {Object} document node\n * @returns {Object} node (and subnodes) with resolved styles\n */\nconst resolveNodeStyles = container => node =>\n  R.o(\n    R.when(isLink, R.evolve({ style: R.merge(LINK_STYLES) })),\n    R.evolve({\n      style: resolveStyles(container),\n      children: R.map(resolveNodeStyles(container)),\n    }),\n  )(node);\n\n/**\n * Resolves page styles\n *\n * @param {Object} document page\n * @returns {Object} document page with resolved styles\n */\nconst resolvePageStyles = page => {\n  const box = R.prop('box', page);\n  const style = R.prop('style', page);\n  const container = R.isEmpty(box) ? style : box;\n\n  return R.evolve({\n    style: resolveStyles(container),\n    children: R.map(resolveNodeStyles(container)),\n  })(page);\n};\n\n/**\n * Resolves root styles\n *\n * @param {Object} document root\n * @returns {Object} document root with resolved styles\n */\nexport default R.evolve({\n  children: R.map(resolvePageStyles),\n});\n","import * as R from 'ramda';\n\nimport matchPercent from '../utils/matchPercent';\n\nconst getTransformStyle = s => R.pathOr('50%', ['style', s]);\n\n/**\n * Get node origin\n *\n * @param {Object} node\n * @returns {Object} node origin\n */\nconst getOrigin = node => {\n  if (!node.box) return {};\n\n  const { left, top, width, height } = node.box;\n  const transformOriginX = getTransformStyle('transformOriginX')(node);\n  const transformOriginY = getTransformStyle('transformOriginY')(node);\n\n  const percentX = matchPercent(transformOriginX);\n  const percentY = matchPercent(transformOriginY);\n\n  const offsetX = percentX ? width * percentX.percent : transformOriginX;\n  const offsetY = percentY ? height * percentY.percent : transformOriginY;\n\n  return { left: left + offsetX, top: top + offsetY };\n};\n\nexport default getOrigin;\n","import * as R from 'ramda';\n\nimport getOrigin from '../node/getOrigin';\n\n/**\n * Resolve node origin\n *\n * @param {Object} node\n * @returns {Object} node with origin attribute\n */\nconst resolveNodeOrigin = node =>\n  R.compose(\n    R.evolve({ children: R.map(resolveNodeOrigin) }),\n    R.converge(R.assoc('origin'), [getOrigin, R.identity]),\n  )(node);\n\n/**\n * Resolve document origins\n *\n * @param {Object} document root\n * @returns {Object} documrnt root\n */\nconst resolveOrigin = R.evolve({\n  children: R.map(resolveNodeOrigin),\n});\n\nexport default resolveOrigin;\n","import * as R from 'ramda';\n\nimport { PORTRAIT, LANDSCAPE } from '../constants';\n\nconst VALID_ORIENTATIONS = [PORTRAIT, LANDSCAPE];\n\n/**\n * Get page orientation. Defaults to landscape\n *\n * @param { Object } page object\n * @returns { String } page orientation\n */\nconst getOrientation = R.compose(\n  R.ifElse(\n    R.includes(R.__, VALID_ORIENTATIONS),\n    R.identity,\n    R.always(PORTRAIT),\n  ),\n  R.pathOr(PORTRAIT, ['props', 'orientation']),\n);\n\nexport default getOrientation;\n","import * as R from 'ramda';\n\nimport getOrientation from './getOrientation';\n\nimport { LANDSCAPE } from '../constants';\n\nconst isLandscape = R.compose(\n  R.equals(LANDSCAPE),\n  getOrientation,\n);\n\nexport default isLandscape;\n","import * as R from 'ramda';\n\nimport isLandscape from './isLandscape';\nimport { PAGE_SIZES } from '../constants';\n\n/**\n * Transforms array into size object\n *\n * @param {Array} array\n * @returns {Object} size object with width and height\n */\nconst toSizeObject = R.applySpec({\n  width: R.prop(0),\n  height: R.prop(1),\n});\n\n/**\n * Flip size object\n *\n * @param {Object} size object\n * @returns {Object} flipped size object\n */\nconst flipSizeObject = R.applySpec({\n  width: R.prop('height'),\n  height: R.prop('width'),\n});\n\n/**\n * Returns size object from a given string\n *\n * @param {String} page size string\n * @returns {Object} size object with width and height\n */\nconst getStringSize = R.compose(\n  toSizeObject,\n  R.prop(R.__, PAGE_SIZES),\n  R.toUpper,\n);\n\n/**\n * Returns size object from a single number\n *\n * @param {Number} page size number\n * @returns {Object} size object with width and height\n */\nconst getNumberSize = R.compose(\n  toSizeObject,\n  v => [v],\n);\n\n/**\n * Throws invalid size error\n *\n * @param {String} invalid page size input\n */\nconst throwInvalidError = size => {\n  throw new Error(`Invalid Page size: ${JSON.stringify(size)}`);\n};\n\n/**\n * Return page size in an object { width, height }\n *\n * @param {Object} page instance\n * @returns {Object} size object with width and height\n */\nconst getSize = page => {\n  const size = R.compose(\n    R.cond([\n      [R.is(String), getStringSize],\n      [R.is(Array), toSizeObject],\n      [R.is(Number), getNumberSize],\n      [R.is(Object), R.identity],\n      [R.T, throwInvalidError],\n    ]),\n    R.pathOr('A4', ['props', 'size']),\n  )(page);\n\n  return isLandscape(page) ? flipSizeObject(size) : size;\n};\n\nexport default getSize;\n","import * as R from 'ramda';\n\n/**\n * Add empt box prop if not present in node\n *\n * @param {Object} node\n * @returns {Object} node with box prop\n */\nconst assocIfNil = (key, value, target) =>\n  R.when(\n    R.compose(\n      R.isNil,\n      R.prop(key),\n    ),\n    R.assoc(key, value),\n  )(target);\n\nexport default R.curryN(3, assocIfNil);\n","import * as R from 'ramda';\n\nimport getPageSize from '../page/getSize';\nimport assocIfNil from '../utils/assocIfNil';\n\n/**\n * Resolves page size\n *\n * @param {Object} page\n * @returns {Object} page with resolved size in style attribute\n */\nexport const resolvePageSize = page => {\n  const size = getPageSize(page);\n  return R.evolve({ style: R.merge(R.__, size) })(page);\n};\n\n/**\n * Resolves page sizes\n *\n * @param {Object} document root\n * @returns {Object} document root with resolved page sizes\n */\nconst resolvePageSizes = R.evolve({\n  children: R.map(\n    R.compose(\n      resolvePageSize,\n      assocIfNil('style', {}),\n    ),\n  ),\n});\n\nexport default resolvePageSizes;\n","/**\n * Get line index at given height\n *\n * @param {Object} node\n * @param {Number} height\n */\nconst lineIndexAtHeight = (node, height) => {\n  let y = 0;\n\n  if (!node.lines) return 0;\n\n  for (let i = 0; i < node.lines.length; i++) {\n    const line = node.lines[i];\n    if (y + line.box.height > height) return i;\n    y += line.box.height;\n  }\n\n  return node.lines.length;\n};\n\nexport default lineIndexAtHeight;\n","/**\n * Get height for given text line index\n *\n * @param {Object} node\n * @param {Number} index\n */\nconst heightAtLineIndex = (node, index) => {\n  let counter = 0;\n\n  if (!node.lines) return counter;\n\n  for (let i = 0; i < index; i++) {\n    const line = node.lines[i];\n\n    if (!line) break;\n\n    counter += line.box.height;\n  }\n\n  return counter;\n};\n\nexport default heightAtLineIndex;\n","import * as R from 'ramda';\n\nimport lineIndexAtHeight from './lineIndexAtHeight';\nimport heightAtLineIndex from './heightAtLineIndex';\n\nconst zero = R.always(0);\n\nconst getTop = R.pathOr(0, ['box', 'top']);\n\nconst getWidows = R.pathOr(2, ['props', 'widows']);\n\nconst getOrphans = R.pathOr(2, ['props', 'orphans']);\n\nconst getLineBreak = (node, height) => {\n  const top = getTop(node);\n  const widows = getWidows(node);\n  const orphans = getOrphans(node);\n  const linesQuantity = node.lines.length;\n  const slicedLine = lineIndexAtHeight(node, height - top);\n\n  if (slicedLine === 0) {\n    return 0;\n  } else if (linesQuantity < orphans) {\n    return linesQuantity;\n  } else if (slicedLine < orphans || linesQuantity < orphans + widows) {\n    return 0;\n  } else if (linesQuantity === orphans + widows) {\n    return orphans;\n  } else if (linesQuantity - slicedLine < widows) {\n    return linesQuantity - widows;\n  }\n\n  return slicedLine;\n};\n\nconst splitText = (node, height) => {\n  const slicedLineIndex = getLineBreak(node, height);\n  const currentHeight = heightAtLineIndex(node, slicedLineIndex);\n  const nextHeight = node.box.height - currentHeight;\n\n  const current = R.evolve(\n    {\n      lines: R.slice(0, slicedLineIndex),\n      style: R.evolve({\n        marginBottom: zero,\n        paddingBottom: zero,\n        borderBottomWidth: zero,\n        borderBottomLeftRadius: zero,\n        borderBottomRightRadius: zero,\n      }),\n      box: {\n        height: R.always(currentHeight),\n        borderBottomWidth: zero,\n      },\n    },\n    node,\n  );\n\n  const next = R.evolve(\n    {\n      lines: R.slice(slicedLineIndex, Infinity),\n      style: R.evolve({\n        marginTop: zero,\n        paddingTop: zero,\n        borderTopWidth: zero,\n        borderTopLeftRadius: zero,\n        borderTopRightRadius: zero,\n      }),\n      box: {\n        top: zero,\n        height: R.always(nextHeight),\n        borderTopWidth: zero,\n      },\n    },\n    node,\n  );\n\n  return [current, next];\n};\n\nexport default splitText;\n","import * as R from 'ramda';\n\nconst zero = R.always(0);\n\nconst getTop = R.pathOr(0, ['box', 'top']);\n\nconst hasFixedHeight = R.hasPath(['style', 'height']);\n\nconst subtractHeight = value =>\n  R.o(R.subtract(R.__, value), R.path(['box', 'height']));\n\nconst splitNode = (node, height) => {\n  if (!node) return [null, null];\n\n  const nodeTop = getTop(node);\n\n  // TODO: We should keep style untouched\n  const current = R.evolve({\n    style: R.evolve({\n      marginBottom: zero,\n      paddingBottom: zero,\n      borderBottomWidth: zero,\n      borderBottomLeftRadius: zero,\n      borderBottomRightRadius: zero,\n    }),\n    box: {\n      height: R.always(height - nodeTop),\n      borderBottomWidth: zero,\n    },\n  })(node);\n\n  const nextHeight = R.ifElse(\n    hasFixedHeight,\n    subtractHeight(height - nodeTop),\n    R.always(null),\n  )(node);\n\n  // TODO: We should keep style untouched\n  const next = R.evolve({\n    style: R.evolve({\n      marginTop: zero,\n      paddingTop: zero,\n      borderTopWidth: zero,\n      borderTopLeftRadius: zero,\n      borderTopRightRadius: zero,\n    }),\n    box: {\n      top: zero,\n      height: R.always(nextHeight),\n      borderTopWidth: zero,\n    },\n  })(node);\n\n  return [current, next];\n};\n\nexport default splitNode;\n","import * as R from 'ramda';\n\nimport castArray from '../utils/castArray';\nimport { TEXT_INSTANCE } from '../constants';\n\nconst isString = R.is(String);\n\nconst isNumber = R.is(Number);\n\nconst isNotString = R.complement(isString);\n\n/**\n * Transforms a react element instance to internal element format\n *\n * @param {Object} React element\n * @returns {Object} parsed react element\n */\nconst createInstance = element => {\n  if (isString(element) || isNumber(element))\n    return { type: TEXT_INSTANCE, value: `${element}` };\n\n  if (isNotString(element.type))\n    return createInstance(element.type(element.props));\n\n  const {\n    type,\n    props: { style = {}, children = [], ...props },\n  } = element;\n\n  const nextChildren = R.compose(\n    R.map(createInstance),\n    castArray,\n  )(children);\n\n  return {\n    type,\n    style,\n    props,\n    box: {},\n    children: nextChildren,\n  };\n};\n\nexport default createInstance;\n","import * as R from 'ramda';\n\n/**\n * Get many nodes height\n *\n * @param {Array} nodes\n * @return {number} nodes height\n */\nconst getNodesHeight = nodes => {\n  let max = 0;\n  let min = Infinity;\n\n  if (R.isEmpty(nodes)) return 0;\n\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    min = Math.min(min, node.box.top);\n    max = Math.max(max, node.box.top + node.box.height);\n  }\n\n  return max - min;\n};\n\nexport default getNodesHeight;\n","import * as R from 'ramda';\n\nimport isSvg from './isSvg';\nimport isNote from './isNote';\nimport isImage from './isImage';\nimport isCanvas from './isCanvas';\nimport getNodesHeight from './getNodesHeight';\n\nconst getWrap = R.ifElse(\n  R.anyPass([isSvg, isNote, isImage, isCanvas]),\n  R.always(false),\n  R.pathOr(true, ['props', 'wrap']),\n);\n\nconst getBreak = R.pathOr(false, ['props', 'break']);\n\nconst getMinPresenceAhead = R.path(['props', 'minPresenceAhead']);\n\nconst defaultPresenceAhead = element => height =>\n  Math.min(element.box.height, height);\n\nconst getPresenceAhead = (elements, height) => {\n  let result = 0;\n\n  for (let i = 0; i < elements.length; i++) {\n    const element = elements[i];\n\n    if (!element.box) continue;\n\n    const isElementInside = height > element.box.top;\n    const presenceAhead =\n      element.props.presenceAhead || defaultPresenceAhead(element);\n\n    if (element && isElementInside) {\n      result += presenceAhead(height - element.box.top);\n    }\n  }\n\n  return result;\n};\n\nconst shouldBreak = (child, futureElements, height) => {\n  const minPresenceAhead = getMinPresenceAhead(child);\n  const presenceAhead = getPresenceAhead(futureElements, height);\n  const futureHeight = getNodesHeight(futureElements);\n  const shouldSplit = height < child.box.top + child.box.height;\n  const shouldWrap = getWrap(child);\n\n  return (\n    getBreak(child) ||\n    (!shouldWrap && shouldSplit) ||\n    (minPresenceAhead < futureHeight && presenceAhead < minPresenceAhead)\n  );\n};\n\nexport default shouldBreak;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport firstPass from '../utils/firstPass';\n\nconst getComputedPadding = edge => node => {\n  const yogaNode = node._yogaNode;\n  return yogaNode ? yogaNode.getComputedPadding(edge) : null;\n};\n\n/**\n * Get Yoga computed paddings. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} paddings\n */\nconst getPadding = R.applySpec({\n  paddingTop: firstPass(\n    getComputedPadding(Yoga.EDGE_TOP),\n    R.path(['box', 'paddingTop']),\n    R.path(['style', 'paddingTop']),\n    R.path(['style', 'paddingVertical']),\n    R.path(['style', 'padding']),\n    R.always(0),\n  ),\n  paddingRight: firstPass(\n    getComputedPadding(Yoga.EDGE_RIGHT),\n    R.path(['box', 'paddingRight']),\n    R.path(['style', 'paddingRight']),\n    R.path(['style', 'paddingHorizontal']),\n    R.path(['style', 'padding']),\n    R.always(0),\n  ),\n  paddingBottom: firstPass(\n    getComputedPadding(Yoga.EDGE_BOTTOM),\n    R.path(['box', 'paddingBottom']),\n    R.path(['style', 'paddingBottom']),\n    R.path(['style', 'paddingVertical']),\n    R.path(['style', 'padding']),\n    R.always(0),\n  ),\n  paddingLeft: firstPass(\n    getComputedPadding(Yoga.EDGE_LEFT),\n    R.path(['box', 'paddingLeft']),\n    R.path(['style', 'paddingLeft']),\n    R.path(['style', 'paddingHorizontal']),\n    R.path(['style', 'padding']),\n    R.always(0),\n  ),\n});\n\nexport default getPadding;\n","import * as R from 'ramda';\n\nimport getPadding from '../node/getPadding';\n\nconst getContentArea = page => {\n  const { paddingTop } = getPadding(page);\n  const height = R.path(['style', 'height'], page);\n  return height - paddingTop;\n};\n\nexport default getContentArea;\n","const IGNORABLE_CODEPOINTS = [\n  8232, // LINE_SEPARATOR\n  8233, // PARAGRAPH_SEPARATOR\n];\n\nconst buildSubsetForFont = font =>\n  IGNORABLE_CODEPOINTS.reduce((acc, codePoint) => {\n    if (font.hasGlyphForCodePoint && font.hasGlyphForCodePoint(codePoint)) {\n      return acc;\n    }\n    return [...acc, String.fromCharCode(codePoint)];\n  }, []);\n\nexport const ignoreChars = fragments =>\n  fragments.map(fragment => {\n    const charSubset = buildSubsetForFont(fragment.attributes.font);\n    const subsetRegex = new RegExp(charSubset.join('|'));\n\n    return {\n      string: fragment.string.replace(subsetRegex, ''),\n      attributes: fragment.attributes,\n    };\n  });\n","import AttributedString from '@react-pdf/textkit/attributedString';\n\nimport Font from '../font';\nimport isImage from '../node/isImage';\nimport { embedEmojis } from './emoji';\nimport transformText from './transformText';\nimport { ignoreChars } from './ignorableChars';\nimport isTextInstance from '../node/isTextInstance';\n\nconst PREPROCESSORS = [ignoreChars, embedEmojis];\n\n/**\n * Get textkit framgents of given node object\n *\n * @param {Object} instance node\n * @returns {Array} text fragments\n */\nconst getFragments = instance => {\n  if (!instance) return [{ string: '' }];\n\n  let fragments = [];\n  const {\n    color = 'black',\n    backgroundColor,\n    fontFamily = 'Helvetica',\n    fontWeight,\n    fontStyle,\n    fontSize = 18,\n    textAlign = 'left',\n    lineHeight,\n    textDecoration,\n    textDecorationColor,\n    textDecorationStyle,\n    textTransform,\n    letterSpacing,\n    textIndent,\n    opacity,\n  } = instance.style;\n\n  const obj = Font.getFont({ fontFamily, fontWeight, fontStyle });\n  const font = obj ? obj.data : fontFamily;\n\n  const attributes = {\n    font,\n    color,\n    opacity,\n    fontSize,\n    backgroundColor,\n    align: textAlign,\n    indent: textIndent,\n    link: instance.src,\n    characterSpacing: letterSpacing,\n    underlineStyle: textDecorationStyle,\n    underline: textDecoration === 'underline',\n    underlineColor: textDecorationColor || color,\n    strike: textDecoration === 'line-through',\n    strikeStyle: textDecorationStyle,\n    strikeColor: textDecorationColor || color,\n    lineHeight: lineHeight ? lineHeight * fontSize : null,\n  };\n\n  instance.children.forEach(child => {\n    if (isImage(child)) {\n      fragments.push({\n        string: String.fromCharCode(0xfffc),\n        attributes: {\n          ...attributes,\n          attachment: {\n            width: child.style.width || fontSize,\n            height: child.style.height || fontSize,\n            image: child.image.data,\n          },\n        },\n      });\n    } else if (isTextInstance(child)) {\n      fragments.push({\n        string: transformText(child.value, textTransform),\n        attributes,\n      });\n    } else {\n      if (child) {\n        fragments.push(...getFragments(child));\n      }\n    }\n  });\n\n  for (const preprocessor of PREPROCESSORS) {\n    fragments = preprocessor(fragments);\n  }\n\n  return fragments;\n};\n\n/**\n * Get textkit attributed string from text node\n *\n * @param {Object} instance node\n * @returns {Object} attributed string\n */\nconst getAttributedString = instance =>\n  AttributedString.fromFragments(getFragments(instance));\n\nexport default getAttributedString;\n","import * as R from 'ramda';\nimport layoutEngine from '@react-pdf/textkit/layout';\nimport linebreaker from '@react-pdf/textkit/engines/linebreaker';\nimport justification from '@react-pdf/textkit/engines/justification';\nimport textDecoration from '@react-pdf/textkit/engines/textDecoration';\nimport scriptItemizer from '@react-pdf/textkit/engines/scriptItemizer';\nimport wordHyphenation from '@react-pdf/textkit/engines/wordHyphenation';\n\nimport Font from '../font';\nimport fontSubstitution from './fontSubstitution';\nimport getAttributedString from './getAttributedString';\n\nconst engines = {\n  linebreaker,\n  justification,\n  textDecoration,\n  scriptItemizer,\n  wordHyphenation,\n  fontSubstitution,\n};\n\nconst engine = layoutEngine(engines);\n\n/**\n * Get layout container for specific text node\n *\n * @param {Object} node\n * @param {Number} width\n * @param {Number} height\n * @returns {Object} layout container\n */\nconst getContainer = (node, width, height) => {\n  const maxLines = R.path(['style', 'maxLines'], node);\n  const textOverflow = R.path(['style', 'textOverflow'], node);\n\n  return {\n    x: 0,\n    y: 0,\n    width,\n    maxLines,\n    height: height || Infinity,\n    truncateMode: textOverflow,\n  };\n};\n\n/**\n * Get text layout options for specific text node\n *\n * @param {Object} node instance\n * @returns {Object} layout options\n */\nconst getLayoutOptions = node => ({\n  hyphenationPenalty: node.props.hyphenationPenalty,\n  hyphenationCallback: Font.getHyphenationCallback(),\n  shrinkWhitespaceFactor: { before: -0.5, after: -0.5 },\n});\n\n/**\n * Get text lines for given node\n *\n * @param {Object} node\n * @param {Number} container width\n * @param {Number} container height\n * @returns {Array} layout lines\n */\nconst layoutText = R.compose(\n  R.reduce(R.concat, []),\n  R.converge(engine, [getAttributedString, getContainer, getLayoutOptions]),\n);\n\nexport default layoutText;\n","import * as R from 'ramda';\n\nimport isSvg from '../node/isSvg';\nimport isText from '../node/isText';\nimport layoutText from '../text/layoutText';\n\nconst isNotSvg = R.complement(isSvg);\n\nconst hasLines = node =>\n  node.props.fixed ? !R.isEmpty(node.lines) : !!node.lines;\n\nconst shouldLayoutText = node => isText(node) && !hasLines(node);\n\n/**\n * Performs text layout on text node if wasn't calculated before.\n * Text layout is usually performed on Yoga's layout process (via setMeasureFunc),\n * but we need to layout those nodes with fixed width and height.\n *\n * @param {Object} node\n * @returns {Object} layouted node\n */\nconst resolveTextLayout = node =>\n  R.compose(\n    R.evolve({\n      children: R.map(R.when(isNotSvg, resolveTextLayout)),\n    }),\n    R.when(\n      shouldLayoutText,\n      R.compose(\n        R.converge(R.assoc('lines'), [\n          R.converge(layoutText, [\n            R.identity,\n            R.path(['box', 'width']),\n            R.path(['box', 'height']),\n          ]),\n          R.identity,\n        ]),\n      ),\n    ),\n  )(node);\n\nexport default resolveTextLayout;\n","import * as R from 'ramda';\n\nimport isSvg from '../node/isSvg';\nimport { INHERITED_PROPERTIES } from '../constants';\n\n/**\n * Get styles sub group of inherited properties\n *\n * @param {Object} style object\n * @returns {Object} style object only with inherited properties\n */\nconst getInheritStyles = R.compose(\n  R.pick(INHERITED_PROPERTIES),\n  R.propOr({}, 'style'),\n);\n\n/**\n * Merges styles with node\n *\n * @param {Object} style object\n * @param {Object} node\n * @returns {Object} node with styles merged\n */\nconst mergeStyles = styles =>\n  R.evolve({\n    style: R.merge(styles),\n  });\n\n/**\n * Inherit style values from the root to the leafs\n *\n * @param {Object} document root\n * @returns {Object} document root with inheritance\n *\n */\nconst resolveInheritance = node => {\n  if (isSvg(node)) return node;\n\n  const inheritStyles = getInheritStyles(node);\n\n  return R.evolve({\n    children: R.map(\n      R.compose(\n        resolveInheritance,\n        mergeStyles(inheritStyles),\n      ),\n    ),\n  })(node);\n};\n\nexport default resolveInheritance;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport firstPass from '../utils/firstPass';\n\nconst getComputedMargin = edge => node => {\n  const yogaNode = node._yogaNode;\n  return yogaNode ? yogaNode.getComputedMargin(edge) : null;\n};\n\n/**\n * Get Yoga computed magins. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} margins\n */\nconst getMargin = R.applySpec({\n  marginTop: firstPass(\n    getComputedMargin(Yoga.EDGE_TOP),\n    R.path(['box', 'marginTop']),\n    R.path(['style', 'marginTop']),\n    R.path(['style', 'marginVertical']),\n    R.path(['style', 'margin']),\n    R.always(0),\n  ),\n  marginRight: firstPass(\n    getComputedMargin(Yoga.EDGE_RIGHT),\n    R.path(['box', 'marginRight']),\n    R.path(['style', 'marginRight']),\n    R.path(['style', 'marginHorizontal']),\n    R.path(['style', 'margin']),\n    R.always(0),\n  ),\n  marginBottom: firstPass(\n    getComputedMargin(Yoga.EDGE_BOTTOM),\n    R.path(['box', 'marginBottom']),\n    R.path(['style', 'marginBottom']),\n    R.path(['style', 'marginVertical']),\n    R.path(['style', 'margin']),\n    R.always(0),\n  ),\n  marginLeft: firstPass(\n    getComputedMargin(Yoga.EDGE_LEFT),\n    R.path(['box', 'marginLeft']),\n    R.path(['style', 'marginLeft']),\n    R.path(['style', 'marginHorizontal']),\n    R.path(['style', 'margin']),\n    R.always(0),\n  ),\n});\n\nexport default getMargin;\n","import * as R from 'ramda';\n\nconst getTop = yogaNode => (yogaNode ? yogaNode.getComputedTop() : 0);\nconst getRight = yogaNode => (yogaNode ? yogaNode.getComputedRight() : 0);\nconst getBottom = yogaNode => (yogaNode ? yogaNode.getComputedBottom() : 0);\nconst getLeft = yogaNode => (yogaNode ? yogaNode.getComputedLeft() : 0);\n\n/**\n * Get Yoga computed position. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} position\n */\nconst getPosition = node => {\n  const yogaNode = node._yogaNode;\n\n  return R.applySpec({\n    top: getTop,\n    right: getRight,\n    bottom: getBottom,\n    left: getLeft,\n  })(yogaNode);\n};\n\nexport default getPosition;\n","const DEFAULT_DIMENSION = {\n  width: 0,\n  height: 0,\n};\n\n/**\n * Get Yoga computed dimensions. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} dimensions\n */\nconst getDimension = node => {\n  const yogaNode = node._yogaNode;\n\n  if (!yogaNode) return DEFAULT_DIMENSION;\n\n  return {\n    width: yogaNode.getComputedWidth(),\n    height: yogaNode.getComputedHeight(),\n  };\n};\n\nexport default getDimension;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nconst getComputedBorder = edge => yogaNode =>\n  yogaNode ? yogaNode.getComputedBorder(edge) : 0;\n\n/**\n * Get Yoga computed border width. Zero otherwise\n *\n * @param {Object} node\n * @return {Object} border widths\n */\nconst getBorderWidth = node => {\n  const yogaNode = node._yogaNode;\n\n  return R.applySpec({\n    borderTopWidth: getComputedBorder(Yoga.EDGE_TOP),\n    borderRightWidth: getComputedBorder(Yoga.EDGE_RIGHT),\n    borderBottomWidth: getComputedBorder(Yoga.EDGE_BOTTOM),\n    borderLeftWidth: getComputedBorder(Yoga.EDGE_LEFT),\n  })(yogaNode);\n};\n\nexport default getBorderWidth;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\n/**\n * Set display attribute to node's Yoga instance\n *\n * @param {String} display\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setDisplay = value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (yogaNode) {\n      yogaNode.setDisplay(\n        value === 'none' ? Yoga.DISPLAY_NONE : Yoga.DISPLAY_FLEX,\n      );\n    }\n  });\n\nexport default setDisplay;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\n/**\n * Set overflow attribute to node's Yoga instance\n *\n * @param {String} overflow value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setOverflow = value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (!R.isNil(value) && yogaNode) {\n      const yogaValue = R.cond([\n        [R.equals('hidden'), R.always(Yoga.OVERFLOW_HIDDEN)],\n        [R.equals('scroll'), R.always(Yoga.OVERFLOW_SCROLL)],\n        [R.T, R.always(Yoga.OVERFLOW_VISIBLE)],\n      ])(value);\n\n      yogaNode.setOverflow(yogaValue);\n    }\n  });\n\nexport default setOverflow;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\n/**\n * Set flex wrap attribute to node's Yoga instance\n *\n * @param {String} flex wrap value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setFlexWrap = value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (yogaNode) {\n      const yogaValue = R.cond([\n        [R.equals('wrap'), R.always(Yoga.WRAP_WRAP)],\n        [R.equals('wrap-reverse'), R.always(Yoga.WRAP_WRAP_REVERSE)],\n        [R.T, R.always(Yoga.WRAP_NO_WRAP)],\n      ])(value);\n\n      yogaNode.setFlexWrap(yogaValue);\n    }\n  });\n\nexport default setFlexWrap;\n","import * as R from 'ramda';\n\nimport upperFirst from '../utils/upperFirst';\nimport matchPercent from '../utils/matchPercent';\n\nconst isNotNil = R.complement(R.isNil);\n\n/**\n * Set generic yoga attribute to node's Yoga instance, handing `auto`, edges and percentage cases\n *\n * @param {String} property\n * @param {Number} edge\n * @param {any} value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setYogaValue = (attr, edge) => value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (!R.isNil(value) && yogaNode) {\n      const hasEdge = isNotNil(edge);\n      const fixedMethod = `set${upperFirst(attr)}`;\n      const autoMethod = `${fixedMethod}Auto`;\n      const percentMethod = `${fixedMethod}Percent`;\n      const percent = matchPercent(value);\n\n      if (percent && !yogaNode[percentMethod]) {\n        throw new Error(`You can't pass percentage values to ${attr} property`);\n      }\n\n      if (percent) {\n        hasEdge\n          ? yogaNode[percentMethod](edge, percent.value)\n          : yogaNode[percentMethod](percent.value);\n      } else if (value === 'auto') {\n        hasEdge ? yogaNode[autoMethod](edge) : yogaNode[autoMethod]();\n      } else {\n        hasEdge\n          ? yogaNode[fixedMethod](edge, value)\n          : yogaNode[fixedMethod](value);\n      }\n    }\n  });\n\nexport default setYogaValue;\n","import * as R from 'ramda';\n\nimport setYogaValue from './setYogaValue';\n\n/**\n * Set flex grow attribute to node's Yoga instance\n *\n * @param {Number} flex grow value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setFlexGrow = R.compose(\n  setYogaValue('flexGrow'),\n  R.defaultTo(0),\n);\n\nexport default setFlexGrow;\n","import setYogaValue from './setYogaValue';\n\n/**\n * Set flex basis attribute to node's Yoga instance\n *\n * @param {Number} flex basis value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setFlexBasis = setYogaValue('flexBasis');\n\nexport default setFlexBasis;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport upperFirst from '../utils/upperFirst';\n\n/**\n * Set generic align attribute to node's Yoga instance\n *\n * @param {String} specific align property\n * @param {String} align value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setAlign = attr => value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (yogaNode) {\n      const yogaValue = R.cond([\n        [R.equals('flex-start'), R.always(Yoga.ALIGN_FLEX_START)],\n        [R.equals('center'), R.always(Yoga.ALIGN_CENTER)],\n        [R.equals('flex-end'), R.always(Yoga.ALIGN_FLEX_END)],\n        [R.equals('stretch'), R.always(Yoga.ALIGN_STRETCH)],\n        [R.equals('baseline'), R.always(Yoga.ALIGN_BASELINE)],\n        [R.equals('space-between'), R.always(Yoga.ALIGN_SPACE_BETWEEN)],\n        [R.equals('space-around'), R.always(Yoga.ALIGN_SPACE_AROUND)],\n        [\n          R.T,\n          R.always(attr === 'items' ? Yoga.ALIGN_STRETCH : Yoga.ALIGN_AUTO),\n        ],\n      ])(value);\n\n      yogaNode[`setAlign${upperFirst(attr)}`](yogaValue);\n    }\n  });\n\nexport default setAlign;\n","import setAlign from './setAlign';\n\n/**\n * Set align self attribute to node's Yoga instance\n *\n * @param {String} align value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setAlignSelf = setAlign('self');\n\nexport default setAlignSelf;\n","import setAlign from './setAlign';\n\n/**\n * Set align items attribute to node's Yoga instance\n *\n * @param {String} align value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setAlignItems = setAlign('items');\n\nexport default setAlignItems;\n","import * as R from 'ramda';\n\nimport setYogaValue from './setYogaValue';\n\n/**\n * Set flex shrink attribute to node's Yoga instance\n *\n * @param {Number} flex shrink value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setFlexShrink = R.compose(\n  setYogaValue('flexShrink'),\n  R.defaultTo(1),\n);\n\nexport default setFlexShrink;\n","import * as R from 'ramda';\n\n/**\n * Set aspect ratio attribute to node's Yoga instance\n *\n * @param {Number} ratio\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setAspectRatio = value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (!R.isNil(value) && yogaNode) {\n      yogaNode.setAspectRatio(value);\n    }\n  });\n\nexport default setAspectRatio;\n","import setAlign from './setAlign';\n\n/**\n * Set align content attribute to node's Yoga instance\n *\n * @param {String} align value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setAlignContent = setAlign('content');\n\nexport default setAlignContent;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\n/**\n * Set position type attribute to node's Yoga instance\n *\n * @param {String} position type\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setPositionType = value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (!R.isNil(value) && yogaNode) {\n      yogaNode.setPositionType(\n        value === 'absolute'\n          ? Yoga.POSITION_TYPE_ABSOLUTE\n          : Yoga.POSITION_TYPE_RELATIVE,\n      );\n    }\n  });\n\nexport default setPositionType;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nconst isRow = R.equals('row');\nconst isRowReverse = R.equals('row-reverse');\nconst isColumnReverse = R.equals('column-reverse');\n\n/**\n * Set flex direction attribute to node's Yoga instance\n *\n * @param {String} flex direction value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setFlexDirection = value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (yogaNode) {\n      const yogaValue = R.cond([\n        [isRow, R.always(Yoga.FLEX_DIRECTION_ROW)],\n        [isRowReverse, R.always(Yoga.FLEX_DIRECTION_ROW_REVERSE)],\n        [isColumnReverse, R.always(Yoga.FLEX_DIRECTION_COLUMN_REVERSE)],\n        [R.T, R.always(Yoga.FLEX_DIRECTION_COLUMN)],\n      ])(value);\n\n      yogaNode.setFlexDirection(yogaValue);\n    }\n  });\n\nexport default setFlexDirection;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\n/**\n * Set justify content attribute to node's Yoga instance\n *\n * @param {String} justify content value\n * @param {Object} node instance\n * @return {Object} node instance\n */\nconst setJustifyContent = value =>\n  R.tap(node => {\n    const yogaNode = node._yogaNode;\n\n    if (!R.isNil(value) && yogaNode) {\n      const yogaValue = R.cond([\n        [R.equals('center'), R.always(Yoga.JUSTIFY_CENTER)],\n        [R.equals('flex-end'), R.always(Yoga.JUSTIFY_FLEX_END)],\n        [R.equals('space-between'), R.always(Yoga.JUSTIFY_SPACE_BETWEEN)],\n        [R.equals('space-around'), R.always(Yoga.JUSTIFY_SPACE_AROUND)],\n        [R.equals('space-evenly'), R.always(Yoga.JUSTIFY_SPACE_EVENLY)],\n        [R.T, R.always(Yoga.JUSTIFY_FLEX_START)],\n      ])(value);\n\n      yogaNode.setJustifyContent(yogaValue);\n    }\n  });\n\nexport default setJustifyContent;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport setYogaValue from './setYogaValue';\n\n/**\n * Set margin top attribute to node's Yoga instance\n *\n * @param {Number} margin top\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMarginTop = setYogaValue('margin', Yoga.EDGE_TOP);\n\n/**\n * Set margin right attribute to node's Yoga instance\n *\n * @param {Number} margin right\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMarginRight = setYogaValue('margin', Yoga.EDGE_RIGHT);\n\n/**\n * Set margin bottom attribute to node's Yoga instance\n *\n * @param {Number} margin bottom\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMarginBottom = setYogaValue('margin', Yoga.EDGE_BOTTOM);\n\n/**\n * Set margin left attribute to node's Yoga instance\n *\n * @param {Number} margin left\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMarginLeft = setYogaValue('margin', Yoga.EDGE_LEFT);\n\n/**\n * Set all margins at once\n *\n * @param {Number} margin\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMargin = margin =>\n  R.tap(node => {\n    setMarginTop(margin)(node);\n    setMarginRight(margin)(node);\n    setMarginBottom(margin)(node);\n    setMarginLeft(margin)(node);\n  });\n\nexport default setMargin;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport setYogaValue from './setYogaValue';\n\n/**\n * Set padding top attribute to node's Yoga instance\n *\n * @param {Number} padding top\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPaddingTop = setYogaValue('padding', Yoga.EDGE_TOP);\n\n/**\n * Set padding right attribute to node's Yoga instance\n *\n * @param {Number} padding right\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPaddingRight = setYogaValue('padding', Yoga.EDGE_RIGHT);\n\n/**\n * Set padding bottom attribute to node's Yoga instance\n *\n * @param {Number} padding bottom\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPaddingBottom = setYogaValue('padding', Yoga.EDGE_BOTTOM);\n\n/**\n * Set padding left attribute to node's Yoga instance\n *\n * @param {Number} padding left\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPaddingLeft = setYogaValue('padding', Yoga.EDGE_LEFT);\n\n/**\n * Set all paddings at once\n *\n * @param {Number} margin\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPadding = padding =>\n  R.tap(node => {\n    setPaddingTop(padding)(node);\n    setPaddingRight(padding)(node);\n    setPaddingBottom(padding)(node);\n    setPaddingLeft(padding)(node);\n  });\n\nexport default setPadding;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport setYogaValue from './setYogaValue';\n\n/**\n * Set border top attribute to node's Yoga instance\n *\n * @param {Number} border top width\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setBorderTop = setYogaValue('border', Yoga.EDGE_TOP);\n\n/**\n * Set border right attribute to node's Yoga instance\n *\n * @param {Number} border right width\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setBorderRight = setYogaValue('border', Yoga.EDGE_RIGHT);\n\n/**\n * Set border bottom attribute to node's Yoga instance\n *\n * @param {Number} border bottom width\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setBorderBottom = setYogaValue('border', Yoga.EDGE_BOTTOM);\n\n/**\n * Set border left attribute to node's Yoga instance\n *\n * @param {Number} border left width\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setBorderLeft = setYogaValue('border', Yoga.EDGE_LEFT);\n\n/**\n * Set all border widths at once\n *\n * @param {Number} border width\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setBorder = width =>\n  R.tap(node => {\n    setBorderTop(width)(node);\n    setBorderRight(width)(node);\n    setBorderBottom(width)(node);\n    setBorderLeft(width)(node);\n  });\n\nexport default setBorder;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport setYogaValue from './setYogaValue';\n\n/**\n * Set position top attribute to node's Yoga instance\n *\n * @param {Number} position top\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPositionTop = setYogaValue('position', Yoga.EDGE_TOP);\n\n/**\n * Set position right attribute to node's Yoga instance\n *\n * @param {Number} position right\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPositionRight = setYogaValue('position', Yoga.EDGE_RIGHT);\n\n/**\n * Set position bottom attribute to node's Yoga instance\n *\n * @param {Number} position bottom\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPositionBottom = setYogaValue('position', Yoga.EDGE_BOTTOM);\n\n/**\n * Set position left attribute to node's Yoga instance\n *\n * @param {Number} position left\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPositionLeft = setYogaValue('position', Yoga.EDGE_LEFT);\n\n/**\n * Set all positions at once\n *\n * @param {Number} position\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setPosition = position =>\n  R.tap(node => {\n    setPositionTop(position)(node);\n    setPositionRight(position)(node);\n    setPositionBottom(position)(node);\n    setPositionLeft(position)(node);\n  });\n\nexport default setPosition;\n","import setYogaValue from './setYogaValue';\n\n/**\n * Set width to node's Yoga instance\n *\n * @param {Number} width\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setWidth = setYogaValue('width');\n\n/**\n * Set min width to node's Yoga instance\n *\n * @param {Number} min width\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMinWidth = setYogaValue('minWidth');\n\n/**\n * Set max width to node's Yoga instance\n *\n * @param {Number} max width\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMaxWidth = setYogaValue('maxWidth');\n\n/**\n * Set height to node's Yoga instance\n *\n * @param {Number} height\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setHeight = setYogaValue('height');\n\n/**\n * Set min height to node's Yoga instance\n *\n * @param {Number} min height\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMinHeight = setYogaValue('minHeight');\n\n/**\n * Set max height to node's Yoga instance\n *\n * @param {Number} max height\n * @param {Object} node instance\n * @return {Object} node instance\n */\nexport const setMaxHeight = setYogaValue('maxHeight');\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nconst getAspectRatio = viewbox => {\n  if (!viewbox) return null;\n  return (viewbox.maxX - viewbox.minX) / (viewbox.maxY - viewbox.minY);\n};\n\n/**\n * Yoga svg measure function\n *\n * @param {Object} page\n * @param {Object} node\n * @param {Number} width\n * @param {Number} widthMode\n * @param {Number} height\n * @param {Number} heightMode\n * @returns {Object} canvas width and height\n */\nconst measureCanvas = (page, node, width, widthMode, height, heightMode) => {\n  const aspectRatio = getAspectRatio(node.props.viewBox) || 1;\n\n  if (\n    widthMode === Yoga.MEASURE_MODE_EXACTLY ||\n    widthMode === Yoga.MEASURE_MODE_AT_MOST\n  ) {\n    return { width, height: width / aspectRatio };\n  }\n\n  if (heightMode === Yoga.MEASURE_MODE_EXACTLY) {\n    return { width: height * aspectRatio };\n  }\n\n  return {};\n};\n\nexport default R.curryN(6, measureCanvas);\n","import AttributedString from '@react-pdf/textkit/attributedString';\n\n/**\n * Get lines width (if any)\n *\n * @param {Object} node\n * @returns {Number} lines width\n */\nconst linesWidth = node => {\n  if (!node.lines) return -1;\n  return Math.max(\n    ...node.lines.map(line => AttributedString.advanceWidth(line)),\n  );\n};\n\nexport default linesWidth;\n","/**\n * Get lines height (if any)\n *\n * @param {Object} node\n * @returns {Number} lines height\n */\nconst linesHeight = node => {\n  if (!node.lines) return -1;\n  return node.lines.reduce((acc, line) => acc + line.box.height, 0);\n};\n\nexport default linesHeight;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport layoutText from './layoutText';\nimport linesWidth from './linesWidth';\nimport linesHeight from './linesHeight';\n\n/**\n * Yoga text measure function\n *\n * @param {Object} page\n * @param {Object} node\n * @param {Number} width\n * @param {Number} widthMode\n * @param {Number} height\n * @param {Number} heightMode\n * @returns {Object} text width and height\n */\nconst measureText = (page, node, width, widthMode, height, heightMode) => {\n  if (widthMode === Yoga.MEASURE_MODE_EXACTLY) {\n    if (!node.lines) node.lines = layoutText(node, width, height);\n\n    return { height: linesHeight(node) };\n  }\n\n  if (widthMode === Yoga.MEASURE_MODE_AT_MOST) {\n    if (!node.lines) node.lines = layoutText(node, width, height);\n\n    return {\n      height: linesHeight(node),\n      width: Math.min(width, linesWidth(node)),\n    };\n  }\n\n  return {};\n};\n\nexport default R.curryN(6, measureText);\n","import * as R from 'ramda';\n\n/**\n * Get image ratio\n *\n * @param {Object} image node\n * @returns {Number} image ratio\n */\nconst getRatio = R.ifElse(\n  R.hasPath(['image', 'data']),\n  node => node.image.width / node.image.height,\n  R.always(1),\n);\n\nexport default getRatio;\n","import * as R from 'ramda';\n\n/**\n * Checks if page has auto height\n *\n * @param {Object} page\n * @returns {Boolean} is page height auto\n */\nconst isHeightAuto = R.pathSatisfies(R.isNil, ['box', 'height']);\n\nexport default isHeightAuto;\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport getRatio from '../image/getRatio';\nimport getMargin from '../node/getMargin';\nimport getPadding from '../node/getPadding';\nimport isHeightAuto from '../page/isHeightAuto';\n\nconst SAFETY_HEIGHT = 10;\n\n/**\n * Yoga image measure function\n *\n * @param {Object} page\n * @param {Object} node\n * @param {Number} width\n * @param {Number} widthMode\n * @param {Number} height\n * @param {Number} heightMode\n * @returns {Object} image width and height\n */\nconst measureImage = (page, node, width, widthMode, height, heightMode) => {\n  const imageRatio = getRatio(node);\n  const imageMargin = getMargin(node);\n  const pagePadding = getPadding(page);\n  const pageArea = isHeightAuto(page)\n    ? Infinity\n    : page.box.height -\n      pagePadding.paddingTop -\n      pagePadding.paddingBottom -\n      imageMargin.marginTop -\n      imageMargin.marginBottom -\n      SAFETY_HEIGHT;\n\n  // Skip measure if image data not present yet\n  if (!node.image) return { width: 0, height: 0 };\n\n  if (\n    widthMode === Yoga.MEASURE_MODE_EXACTLY &&\n    heightMode === Yoga.MEASURE_MODE_UNDEFINED\n  ) {\n    const scaledHeight = width / imageRatio;\n    return { height: Math.min(pageArea, scaledHeight) };\n  }\n\n  if (\n    heightMode === Yoga.MEASURE_MODE_EXACTLY &&\n    (widthMode === Yoga.MEASURE_MODE_AT_MOST ||\n      widthMode === Yoga.MEASURE_MODE_UNDEFINED)\n  ) {\n    return { width: Math.min(height * imageRatio, width) };\n  }\n\n  if (\n    widthMode === Yoga.MEASURE_MODE_EXACTLY &&\n    heightMode === Yoga.MEASURE_MODE_AT_MOST\n  ) {\n    const scaledHeight = width / imageRatio;\n    return { height: Math.min(height, pageArea, scaledHeight) };\n  }\n\n  if (\n    widthMode === Yoga.MEASURE_MODE_AT_MOST &&\n    heightMode === Yoga.MEASURE_MODE_AT_MOST\n  ) {\n    if (imageRatio > 1) {\n      return {\n        width: width,\n        height: Math.min(width / imageRatio, height),\n      };\n    } else {\n      return {\n        width: Math.min(height * imageRatio, width),\n        height: height,\n      };\n    }\n  }\n\n  return { height, width };\n};\n\nexport default R.curryN(6, measureImage);\n","import * as R from 'ramda';\n\nimport getMargin from '../node/getMargin';\nimport getPadding from '../node/getPadding';\nimport isHeightAuto from '../page/isHeightAuto';\n\nconst SAFETY_HEIGHT = 10;\n\nconst getMax = R.reduce(R.max, -Infinity);\n\n/**\n * Helper object to predict canvas size\n * TODO: Implement remaining functions (as close as possible);\n */\nconst measureCtx = () => {\n  const ctx = {};\n  const points = [];\n\n  const nil = () => ctx;\n  const addPoint = (x, y) => points.push([x, y]);\n\n  const moveTo = R.compose(\n    nil,\n    addPoint,\n  );\n\n  const rect = (x, y, w, h) => {\n    addPoint(x, y);\n    addPoint(x + w, y);\n    addPoint(x, y + h);\n    addPoint(x + w, y + h);\n    return ctx;\n  };\n\n  const ellipse = (x, y, rx, ry) => {\n    ry = ry || rx;\n\n    addPoint(x - rx, y - ry);\n    addPoint(x + rx, y - ry);\n    addPoint(x + rx, y + ry);\n    addPoint(x - rx, y + ry);\n\n    return ctx;\n  };\n\n  const polygon = (...pts) => {\n    points.push(...pts);\n    return nil();\n  };\n\n  // Change dimensions\n  ctx.rect = rect;\n  ctx.moveTo = moveTo;\n  ctx.lineTo = moveTo;\n  ctx.circle = ellipse;\n  ctx.polygon = polygon;\n  ctx.ellipse = ellipse;\n  ctx.roundedRect = rect;\n\n  // To be implemented\n  ctx.text = nil;\n  ctx.path = nil;\n  ctx.lineWidth = nil;\n  ctx.bezierCurveTo = nil;\n  ctx.quadraticCurveTo = nil;\n\n  ctx.scale = nil;\n  ctx.rotate = nil;\n  ctx.translate = nil;\n\n  // These don't change dimensions\n  ctx.dash = nil;\n  ctx.clip = nil;\n  ctx.save = nil;\n  ctx.fill = nil;\n  ctx.font = nil;\n  ctx.stroke = nil;\n  ctx.lineCap = nil;\n  ctx.opacity = nil;\n  ctx.restore = nil;\n  ctx.lineJoin = nil;\n  ctx.fontSize = nil;\n  ctx.fillColor = nil;\n  ctx.miterLimit = nil;\n  ctx.strokeColor = nil;\n  ctx.fillOpacity = nil;\n  ctx.strokeOpacity = nil;\n  ctx.linearGradient = nil;\n  ctx.radialGradient = nil;\n\n  ctx.getWidth = () =>\n    R.compose(\n      getMax,\n      R.pluck(0),\n    )(points);\n\n  ctx.getHeight = () =>\n    R.compose(\n      getMax,\n      R.pluck(1),\n    )(points);\n\n  return ctx;\n};\n\n/**\n * Yoga canvas measure function\n *\n * @param {Object} page\n * @param {Object} node\n * @param {Number} width\n * @param {Number} widthMode\n * @param {Number} height\n * @param {Number} heightMode\n * @returns {Object} canvas width and height\n */\nconst measureCanvas = (page, node) => {\n  const imageMargin = getMargin(node);\n  const pagePadding = getPadding(page);\n  const pageArea = isHeightAuto(page)\n    ? Infinity\n    : page.box.height -\n      pagePadding.paddingTop -\n      pagePadding.paddingBottom -\n      imageMargin.marginTop -\n      imageMargin.marginBottom -\n      SAFETY_HEIGHT;\n\n  const ctx = measureCtx();\n\n  node.props.paint(ctx);\n\n  const width = ctx.getWidth();\n  const height = Math.min(pageArea, ctx.getHeight());\n\n  return { height, width };\n};\n\nexport default R.curryN(6, measureCanvas);\n","import * as R from 'ramda';\nimport Yoga from 'yoga-layout';\n\nimport getMargin from '../node/getMargin';\nimport getPadding from '../node/getPadding';\nimport getPosition from '../node/getPosition';\nimport getDimension from '../node/getDimension';\nimport getBorderWidth from '../node/getBorderWidth';\nimport setDisplay from '../node/setDisplay';\nimport setOverflow from '../node/setOverflow';\nimport setFlexWrap from '../node/setFlexWrap';\nimport setFlexGrow from '../node/setFlexGrow';\nimport setFlexBasis from '../node/setFlexBasis';\nimport setAlignSelf from '../node/setAlignSelf';\nimport setAlignItems from '../node/setAlignItems';\nimport setFlexShrink from '../node/setFlexShrink';\nimport setAspectRatio from '../node/setAspectRatio';\nimport setAlignContent from '../node/setAlignContent';\nimport setPositionType from '../node/setPositionType';\nimport setFlexDirection from '../node/setFlexDirection';\nimport setJustifyContent from '../node/setJustifyContent';\nimport {\n  setMarginTop,\n  setMarginRight,\n  setMarginBottom,\n  setMarginLeft,\n} from '../node/setMargin';\nimport {\n  setPaddingTop,\n  setPaddingRight,\n  setPaddingBottom,\n  setPaddingLeft,\n} from '../node/setPadding';\nimport {\n  setBorderTop,\n  setBorderRight,\n  setBorderBottom,\n  setBorderLeft,\n} from '../node/setBorderWidth';\nimport {\n  setPositionTop,\n  setPositionRight,\n  setPositionBottom,\n  setPositionLeft,\n} from '../node/setPosition';\nimport {\n  setWidth,\n  setHeight,\n  setMinWidth,\n  setMaxWidth,\n  setMinHeight,\n  setMaxHeight,\n} from '../node/setDimension';\nimport isSvg from '../node/isSvg';\nimport isText from '../node/isText';\nimport isNote from '../node/isNote';\nimport isPage from '../node/isPage';\nimport isImage from '../node/isImage';\nimport isCanvas from '../node/isCanvas';\nimport measureSvg from '../svg/measureSvg';\nimport measureText from '../text/measureText';\nimport measureImage from '../image/measureImage';\nimport measureCanvas from '../canvas/measureCanvas';\nimport isTextInstance from '../node/isTextInstance';\n\nconst YOGA_NODE = '_yogaNode';\nconst YOGA_CONFIG = Yoga.Config.create();\n\nYOGA_CONFIG.setPointScaleFactor(0);\n\nconst setNodeHeight = node =>\n  R.ifElse(\n    isPage,\n    setHeight(node.box.height),\n    setHeight(node.box.height || node.style.height),\n  );\n\n/**\n * Set styles valeus into yoga node before layout calculation\n *\n * @param {Object} node\n * @returns {Object} node\n */\nconst setYogaValues = R.tap(node => {\n  R.compose(\n    setNodeHeight(node),\n    setWidth(node.style.width),\n    setMinWidth(node.style.minWidth),\n    setMaxWidth(node.style.maxWidth),\n    setMinHeight(node.style.minHeight),\n    setMaxHeight(node.style.maxHeight),\n    setMarginTop(node.style.marginTop),\n    setMarginRight(node.style.marginRight),\n    setMarginBottom(node.style.marginBottom),\n    setMarginLeft(node.style.marginLeft),\n    setPaddingTop(node.style.paddingTop),\n    setPaddingRight(node.style.paddingRight),\n    setPaddingBottom(node.style.paddingBottom),\n    setPaddingLeft(node.style.paddingLeft),\n    setPositionType(node.style.position),\n    setPositionTop(node.style.top),\n    setPositionRight(node.style.right),\n    setPositionBottom(node.style.bottom),\n    setPositionLeft(node.style.left),\n    setBorderTop(node.style.borderTopWidth),\n    setBorderRight(node.style.borderRightWidth),\n    setBorderBottom(node.style.borderBottomWidth),\n    setBorderLeft(node.style.borderLeftWidth),\n    setDisplay(node.style.display),\n    setFlexDirection(node.style.flexDirection),\n    setAlignSelf(node.style.alignSelf),\n    setAlignContent(node.style.alignContent),\n    setAlignItems(node.style.alignItems),\n    setJustifyContent(node.style.justifyContent),\n    setFlexWrap(node.style.flexWrap),\n    setOverflow(node.style.overflow),\n    setAspectRatio(node.style.aspectRatio),\n    setFlexBasis(node.style.flexBasis),\n    setFlexGrow(node.style.flexGrow),\n    setFlexShrink(node.style.flexShrink),\n  )(node);\n});\n\n/**\n * Inserts child into parent' yoga node\n *\n * @param {Object} parent\n * @param {Object} node\n * @param {Object} node\n */\nconst insertYogaNodes = parent =>\n  R.tap(child => parent.insertChild(child[YOGA_NODE], parent.getChildCount()));\n\nconst setMeasureFunc = page => node => {\n  const yogaNode = node[YOGA_NODE];\n\n  if (isText(node)) {\n    yogaNode.setMeasureFunc(measureText(page, node));\n  }\n\n  if (isImage(node)) {\n    yogaNode.setMeasureFunc(measureImage(page, node));\n  }\n\n  if (isCanvas(node)) {\n    yogaNode.setMeasureFunc(measureCanvas(page, node));\n  }\n\n  if (isSvg(node)) {\n    yogaNode.setMeasureFunc(measureSvg(page, node));\n  }\n\n  return node;\n};\n\nconst isNotText = R.complement(isText);\nconst isNotNote = R.complement(isNote);\nconst isNotSvg = R.complement(isSvg);\nconst isNotTextInstance = R.complement(isTextInstance);\nconst isLayoutElement = R.allPass([isNotText, isNotNote, isNotSvg]);\n\n/**\n * Creates and add yoga node to document tree\n * Handles measure function for text and image nodes\n *\n * @param {Object} node\n * @returns {Object} node with appended yoga node\n */\nconst createYogaNodes = page => node => {\n  const yogaNode = Yoga.Node.createWithConfig(YOGA_CONFIG);\n\n  return R.compose(\n    setMeasureFunc(page),\n    R.when(\n      isLayoutElement,\n      R.evolve({\n        children: R.map(\n          R.compose(\n            insertYogaNodes(yogaNode),\n            createYogaNodes(page),\n          ),\n        ),\n      }),\n    ),\n    setYogaValues,\n    R.assoc(YOGA_NODE, yogaNode),\n  )(node);\n};\n\n/**\n * Performs yoga calculation\n *\n * @param {Object} node\n * @returns {Object} node\n */\nconst calculateLayout = R.tap(page => page[YOGA_NODE].calculateLayout());\n\n/**\n * Saves Yoga layout result into 'box' attribute of node\n *\n * @param {Object} node\n * @returns {Object} node with box data\n */\nconst persistDimensions = node => {\n  return R.evolve({\n    children: R.map(R.when(isNotTextInstance, persistDimensions)),\n    box: R.always(\n      R.mergeAll([\n        getPadding(node),\n        getMargin(node),\n        getBorderWidth(node),\n        getPosition(node),\n        getDimension(node),\n      ]),\n    ),\n  })(node);\n};\n\n/**\n * Removes and destroys yoga node frm document tree\n *\n * @param {Object} node\n * @returns {Object} node without yoga node\n */\nconst destroyYogaNodes = node => {\n  return R.compose(\n    R.dissoc(YOGA_NODE),\n    R.tap(n => Yoga.Node.destroy(n[YOGA_NODE])),\n    R.evolve({ children: R.map(R.when(isLayoutElement, destroyYogaNodes)) }),\n  )(node);\n};\n\n/**\n * Calculates page object layout using Yoga.\n * Takes node values from 'box' and 'style' attributes, and persist them back into 'box'\n * Destroy yoga values at the end.\n *\n * @param {Object} page object\n * @returns {Object} page object with correct 'box' layout attributes\n */\nexport const resolvePageDimensions = page =>\n  R.ifElse(\n    R.isNil,\n    R.always(null),\n    R.compose(\n      destroyYogaNodes,\n      persistDimensions,\n      calculateLayout,\n      createYogaNodes(page),\n    ),\n  )(page);\n\n/**\n * Calculates root object layout using Yoga.\n *\n * @param {Object} root object\n * @returns {Object} root object with correct 'box' layout attributes\n */\nconst resolveDimensions = node =>\n  R.evolve({\n    children: R.map(resolvePageDimensions),\n  })(node);\n\nexport default resolveDimensions;\n","import * as R from 'ramda';\n\nimport isText from '../node/isText';\nimport splitText from '../text/splitText';\nimport splitNode from '../node/splitNode';\nimport createInstance from '../node/createInstance';\nimport shouldNodeBreak from '../node/shouldBreak';\nimport getContentArea from '../page/getContentArea';\nimport resolveTextLayout from './resolveTextLayout';\nimport resolveInheritance from './resolveInheritance';\nimport { resolvePageDimensions } from './resolveDimensions';\n\n// Prevent splitting elements by low decimal numbers\nconst SAFTY_THRESHOLD = 0.001;\n\nconst assingChildren = R.assoc('children');\n\nconst getTop = R.pathOr(0, ['box', 'top']);\n\nconst getHeight = R.path(['box', 'height']);\n\nconst getChildren = R.propOr([], 'children');\n\nconst isElementOutside = R.useWith(R.lte, [R.identity, getTop]);\n\nconst isFixed = R.pathEq(['props', 'fixed'], true);\n\nconst allFixed = R.all(isFixed);\n\nconst isDynamic = R.hasPath(['props', 'render']);\n\nconst relayoutPage = R.compose(\n  resolveTextLayout,\n  resolveInheritance,\n  resolvePageDimensions,\n);\n\nconst splitView = (node, height) => {\n  const [currentNode, nextNode] = splitNode(node, height);\n  const [currentChilds, nextChildren] = splitChildren(height, node);\n\n  return [\n    assingChildren(currentChilds)(currentNode),\n    assingChildren(nextChildren)(nextNode),\n  ];\n};\n\nconst split = R.ifElse(isText, splitText, splitView);\n\nconst splitNodes = (height, nodes) => {\n  const currentChildren = [];\n  const nextChildren = [];\n\n  for (let i = 0; i < nodes.length; i++) {\n    const child = nodes[i];\n    const futureNodes = nodes.slice(i + 1);\n    const futureFixedNodes = R.filter(isFixed, futureNodes);\n\n    const nodeTop = getTop(child);\n    const nodeHeight = getHeight(child);\n    const isOutside = isElementOutside(height, child);\n    const shouldBreak = shouldNodeBreak(child, futureNodes, height);\n    const shouldSplit = height + SAFTY_THRESHOLD < nodeTop + nodeHeight;\n\n    if (isFixed(child)) {\n      nextChildren.push(child);\n      currentChildren.push(child);\n      continue;\n    }\n\n    if (isOutside) {\n      const next = R.evolve({ box: { top: R.subtract(R.__, height) } })(child);\n      nextChildren.push(next);\n      continue;\n    }\n\n    if (shouldBreak) {\n      const next = R.evolve({\n        box: { top: R.subtract(R.__, height) },\n        props: R.evolve({ break: R.always(false) }),\n      })(child);\n\n      currentChildren.push(...futureFixedNodes);\n      nextChildren.push(next, ...futureNodes);\n      break;\n    }\n\n    if (shouldSplit) {\n      const [currentChild, nextChild] = split(child, height);\n\n      if (currentChild) currentChildren.push(currentChild);\n      if (nextChild) nextChildren.push(nextChild);\n\n      continue;\n    }\n\n    currentChildren.push(child);\n  }\n\n  return [currentChildren, nextChildren];\n};\n\nconst splitChildren = (height, node) => {\n  const children = getChildren(node);\n  const availableHeight = height - getTop(node);\n  return splitNodes(availableHeight, children);\n};\n\nconst splitPage = (page, pageNumber) => {\n  const contentArea = getContentArea(page);\n  const height = R.path(['style', 'height'], page);\n  const dynamicPage = resolveDynamicPage({ pageNumber }, page);\n\n  const [currentChilds, nextChilds] = splitNodes(\n    contentArea,\n    dynamicPage.children,\n  );\n\n  const currentPage = R.compose(\n    relayoutPage,\n    assingChildren(currentChilds),\n    R.assocPath(['box', 'height'], height),\n  )(page);\n\n  if (R.isEmpty(nextChilds) || allFixed(nextChilds)) return [currentPage, null];\n\n  const nextPage = R.compose(\n    relayoutPage,\n    assingChildren(nextChilds),\n    R.dissocPath(['box', 'height']),\n  )(page);\n\n  return [currentPage, nextPage];\n};\n\nconst shouldResolveDynamicNodes = node =>\n  R.either(\n    isDynamic,\n    R.compose(\n      R.any(shouldResolveDynamicNodes),\n      R.propOr([], 'children'),\n    ),\n  )(node);\n\nconst resolveDynamicPage = (props, page) =>\n  R.when(\n    shouldResolveDynamicNodes,\n    R.compose(\n      relayoutPage,\n      resolveDynamicNodes(props),\n    ),\n  )(page);\n\nconst resolveDynamicNodes = props => node => {\n  const isNodeDynamic = R.always(isDynamic(node));\n\n  const resolveRender = () => {\n    const res = node.props.render(props);\n    return [createInstance(res)];\n  };\n\n  return R.evolve(\n    {\n      children: R.ifElse(\n        isNodeDynamic,\n        resolveRender,\n        R.map(resolveDynamicNodes(props)),\n      ),\n      lines: R.when(isNodeDynamic, R.always([])),\n    },\n    node,\n  );\n};\n\nconst paginate = (page, pageNumber) => {\n  if (!page) return [];\n\n  let splittedPage = splitPage(page, pageNumber);\n\n  const pages = [splittedPage[0]];\n  let nextPage = splittedPage[1];\n\n  while (nextPage !== null) {\n    splittedPage = splitPage(nextPage, pageNumber + pages.length);\n\n    pages.push(splittedPage[0]);\n    nextPage = splittedPage[1];\n  }\n\n  return pages;\n};\n\nconst resolvePageIndices = (page, pageNumber, pages) => {\n  const totalPages = pages.length;\n  return resolveDynamicPage({ pageNumber: pageNumber + 1, totalPages }, page);\n};\n\nconst resolvePagination = doc => {\n  let pages = [];\n  let pageNumber = 1;\n\n  for (let i = 0; i < doc.children.length; i++) {\n    const page = doc.children[i];\n    const subpages = paginate(page, pageNumber);\n\n    pageNumber += subpages.length;\n    pages = pages.concat(subpages);\n  }\n\n  pages = pages.map(resolvePageIndices);\n\n  return assingChildren(pages, doc);\n};\n\nexport default resolvePagination;\n","import * as R from 'ramda';\n\n/**\n * Removes margins on node\n *\n * @param {Object} node\n * @returns {Object} node without margins\n */\nconst removeMargins = R.compose(\n  R.dissocPath(['style', 'margin']),\n  R.dissocPath(['style', 'marginTop']),\n  R.dissocPath(['style', 'marginRight']),\n  R.dissocPath(['style', 'marginBottom']),\n  R.dissocPath(['style', 'marginLeft']),\n  R.dissocPath(['style', 'marginHorizontal']),\n  R.dissocPath(['style', 'marginVertical']),\n);\n\nexport default removeMargins;\n","import * as R from 'ramda';\n\nimport removeMargins from '../node/removeMargins';\n\n/**\n * Remove page margins\n *\n * @param {Object} document root\n * @returns {Object} document root without margins on pages\n */\nconst resolvePageMargins = R.evolve({\n  children: R.map(removeMargins),\n});\n\nexport default resolvePageMargins;\n","import * as R from 'ramda';\n\nimport isNote from '../node/isNote';\nimport isTextInstance from '../node/isTextInstance';\n\n/**\n * Get node underlying text value\n *\n * @param {Object} node\n * @returns {String} node text content\n */\nconst getNodeText = node =>\n  R.cond([\n    [R.is(String), R.identity],\n    [isTextInstance, R.prop('value')],\n    [\n      R.T,\n      R.compose(\n        getNodesText,\n        R.propOr([], 'children'),\n      ),\n    ],\n  ])(node);\n\n/**\n * Get underlying text value of several nodes\n *\n * @param {Array} nodes\n * @returns {String} nodes text content\n */\nconst getNodesText = R.compose(\n  R.join(''),\n  R.map(getNodeText),\n);\n\n/**\n * Transforms string to text instance\n *\n * @param {String} value\n * @returns {Array} text intance\n */\nconst wrapTextInstance = value => [{ type: 'TEXT_INSTANCE', value }];\n\n/**\n * Cast Note children as a text instance\n *\n * @param {Object} node\n * @returns {Object} node with resolved note children\n */\nconst resolveNoteChildren = node =>\n  R.ifElse(\n    isNote,\n    R.evolve({\n      children: R.compose(\n        wrapTextInstance,\n        getNodesText,\n      ),\n    }),\n    R.evolve({ children: R.map(resolveNoteChildren) }),\n  )(node);\n\nexport default resolveNoteChildren;\n","import * as R from 'ramda';\n\nimport matchPercent from '../utils/matchPercent';\n\n/*\n * Translates page percentage horizontal paddings in fixed ones\n *\n * @param {Object} page container\n * @param {String} padding value\n * @returns {Object} translated padding value\n */\nconst resolvePageHorizontalPadding = container => value => {\n  const match = matchPercent(value);\n  return match ? match.percent * container.width : value;\n};\n\n/**\n * Translates page percentage vertical paddings in fixed ones\n *\n * @param {Object} page container\n * @param {String} padding value\n * @returns {Object} translated padding value\n */\nconst resolvePageVerticalPadding = container => value => {\n  const match = matchPercent(value);\n  return match ? match.percent * container.height : value;\n};\n\n/**\n * Translates page percentage paddings in fixed ones\n *\n * @param {Object} page\n * @returns {Object} page with fixed paddings\n */\nconst resolvePagePaddings = page => {\n  const container = R.pathOr({}, ['props', 'size'], page);\n\n  return R.evolve({\n    style: R.evolve({\n      paddingLeft: resolvePageHorizontalPadding(container),\n      paddingRight: resolvePageHorizontalPadding(container),\n      paddingTop: resolvePageVerticalPadding(container),\n      paddingBottom: resolvePageVerticalPadding(container),\n    }),\n  })(page);\n};\n\n/**\n * Translates all pages percentage paddings in fixed ones\n * This has to be computed from pages calculated size and not by Yoga\n * because at this point we didn't performed pagination yet.\n *\n * @param {Object} document root\n * @returns {Object} document root with translated page paddings\n */\nexport default R.evolve({\n  children: R.map(resolvePagePaddings),\n});\n","import * as R from 'ramda';\n\nimport matchPercent from '../utils/matchPercent';\n\n/**\n *\n * @param {Object} container width and height\n * @param {String | Number} value border radius value\n * @returns {Number} fixed border radius value\n */\nconst resolveRadius = container => value => {\n  const match = matchPercent(value);\n  return match\n    ? match.percent * Math.min(container.width, container.height)\n    : value;\n};\n\n/**\n * Transforms percent border radius into fixed values\n *\n * @param {Object} node\n * @returns {Object} node\n */\nconst resolvePercentRadius = node =>\n  R.evolve({\n    children: R.map(resolvePercentRadius),\n    style: R.evolve({\n      borderTopLeftRadius: resolveRadius(node.box),\n      borderTopRightRadius: resolveRadius(node.box),\n      borderBottomRightRadius: resolveRadius(node.box),\n      borderBottomLeftRadius: resolveRadius(node.box),\n    }),\n  })(node);\n\nexport default resolvePercentRadius;\n","import * as R from 'ramda';\n\nimport matchPercent from '../utils/matchPercent';\n\n/**\n * Transform percent height into fixed\n *\n * @param {String | number} height\n * @return {number} height\n */\nconst transformHeight = pageArea => height => {\n  const match = matchPercent(height);\n  return match ? match.percent * pageArea : height;\n};\n\n/**\n * Get page area (height minus paddings)\n *\n * @param {Object} page\n * @return {number} page area\n */\nconst getPageArea = page => {\n  const pageHeight = R.path(['style', 'height'], page);\n  const pagePaddingTop = R.pathOr(0, ['style', 'paddingTop'], page);\n  const pagePaddingBottom = R.pathOr(0, ['style', 'paddingBottom'], page);\n  return pageHeight - pagePaddingTop - pagePaddingBottom;\n};\n\n/**\n * Checks if page has height\n *\n * @param {Object} page\n * @return {boolean} page has height\n */\nconst hasHeight = R.hasPath(['style', 'height']);\n\n/**\n * Transform node percent height to fixed\n *\n * @param {Object} page\n * @param {Object} node\n * @return {Object} transformed node\n */\nconst resolveNodePercentHeight = page => node => {\n  if (hasHeight(page)) {\n    const pageArea = getPageArea(page);\n    return R.evolve({ style: { height: transformHeight(pageArea) } })(node);\n  }\n\n  return node;\n};\n\n/**\n * Transform page immediate children with percent height to fixed\n *\n * @param {Object} page\n * @return {Object} transformed page\n */\nconst resolvePagePercentHeight = page =>\n  R.evolve({\n    children: R.map(resolveNodePercentHeight(page)),\n  })(page);\n\n/**\n * Transform all page immediate children with percent height to fixed\n *\n * @param {Object} document root\n * @return {Object} transformed document root\n */\nconst resolvePercentHeight = R.evolve({\n  children: R.map(resolvePagePercentHeight),\n});\n\nexport default resolvePercentHeight;\n","import * as R from 'ramda';\n\nimport { TEXT } from '../constants';\nimport isLink from '../node/isLink';\nimport isTextInstance from '../node/isTextInstance';\n\n/**\n * Checks if node has render prop\n *\n * @param {Object} node\n * @returns {Boolean} has render prop?\n */\nconst hasRenderProp = R.hasPath(['props', 'render']);\n\n/**\n * Checks if all children of node are text instances\n *\n * @param {Object} node\n * @returns {Boolean} are all children text instances?\n */\nconst hasTextInstanceChilds = R.compose(\n  R.all(isTextInstance),\n  R.propOr([], 'children'),\n);\n\n/**\n * If the Link has a string child or render prop, substitute the instance by a Text,\n * that will ultimately render the inline Link via the textkit PDF renderer.\n *\n * @param {Object} node\n * @returns {Object} node with link substitution\n */\nconst resolveLinkSubstitution = node =>\n  R.evolve({\n    children: R.map(\n      R.ifElse(\n        R.both(isLink, R.either(hasRenderProp, hasTextInstanceChilds)),\n        R.assoc('type', TEXT),\n        resolveLinkSubstitution,\n      ),\n    ),\n  })(node);\n\nexport default resolveLinkSubstitution;\n","import * as R from 'ramda';\n\n/**\n * Performs right-to-left function composition with async functions support\n *\n * @param  {...any} functions\n */\nconst asyncCompose = (...fns) => async value => {\n  for (const fn of R.reverse(fns)) value = await fn(value);\n  return value;\n};\n\nexport default asyncCompose;\n","// import * as R from 'ramda';\n\nimport resolveSvg from './resolveSvg';\nimport resolveZIndex from './resolveZIndex';\nimport resolveRulers from './resolveRulers';\nimport resolveAssets from './resolveAssets';\nimport resolveStyles from './resolveStyles';\nimport resolveOrigins from './resolveOrigins';\nimport resolvePageSizes from './resolvePageSizes';\nimport resolvePagination from './resolvePagination';\nimport resolveDimensions from './resolveDimensions';\nimport resolveTextLayout from './resolveTextLayout';\nimport resolveInheritance from './resolveInheritance';\nimport resolvePageMargins from './resolvePageMargins';\nimport resolveNoteChildren from './resolveNoteChildren';\nimport resolvePagePaddings from './resolvePagePaddings';\nimport resolvePercentRadius from './resolvePercentRadius';\nimport resolvePercentHeight from './resolvePercentHeight';\nimport resolveLinkSubstitution from './resolveLinkSubstitution';\nimport asyncCompose from '../utils/asyncCompose';\n\n// const startTimer = name => R.tap(() => console.time(name));\n// const endTimer = name => R.tap(() => console.timeEnd(name));\n\nconst layout = asyncCompose(\n  resolveZIndex,\n  resolveRulers,\n  resolveOrigins,\n  resolvePagination,\n  resolveTextLayout,\n  resolvePercentRadius,\n  resolveDimensions,\n  resolveSvg,\n  resolveAssets,\n  resolveInheritance,\n  resolvePercentHeight,\n  resolvePagePaddings,\n  resolveStyles,\n  resolveNoteChildren,\n  resolveLinkSubstitution,\n  resolvePageMargins,\n  resolvePageSizes,\n);\n\nexport default layout;\n","/**\n * Checks if two sets of props are equal (recursively)\n *\n * @param {Object} props A\n * @param {Object} props B\n * @returns {Boolean} props equals?\n *\n */\nconst propsEqual = (a, b) => {\n  const oldPropsKeys = Object.keys(a);\n  const newPropsKeys = Object.keys(b);\n\n  if (oldPropsKeys.length !== newPropsKeys.length) {\n    return false;\n  }\n\n  for (let i = 0; i < oldPropsKeys.length; i++) {\n    const propName = oldPropsKeys[i];\n\n    if (propName === 'render') {\n      if (!a[propName] !== !b[propName]) {\n        return false;\n      }\n      continue;\n    }\n\n    if (propName !== 'children' && a[propName] !== b[propName]) {\n      if (\n        typeof a[propName] === 'object' &&\n        typeof b[propName] === 'object' &&\n        propsEqual(a[propName], b[propName])\n      ) {\n        continue;\n      }\n\n      return false;\n    }\n\n    if (\n      propName === 'children' &&\n      (typeof a[propName] === 'string' || typeof b[propName] === 'string')\n    ) {\n      return a[propName] === b[propName];\n    }\n  }\n\n  return true;\n};\n\nexport default propsEqual;\n","'use strict';\n\nimport ReactFiberReconciler from 'react-reconciler';\nimport {\n  unstable_scheduleCallback as schedulePassiveEffects,\n  unstable_cancelCallback as cancelPassiveEffects,\n} from 'scheduler';\n\nimport propsEqual from './utils/propsEqual';\n\nconst emptyObject = {};\n\nconst createRenderer = ({ onChange = () => {} }) => {\n  return ReactFiberReconciler({\n    schedulePassiveEffects,\n\n    cancelPassiveEffects,\n\n    supportsMutation: true,\n\n    isPrimaryRenderer: false,\n\n    warnsIfNotActing: false,\n\n    appendInitialChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    createInstance(type, { style, children, ...props }) {\n      return {\n        type,\n        box: {},\n        style: style || {},\n        props: props || {},\n        children: [],\n      };\n    },\n\n    createTextInstance(text, rootContainerInstance) {\n      return { type: 'TEXT_INSTANCE', value: text };\n    },\n\n    finalizeInitialChildren(element, type, props) {\n      return false;\n    },\n\n    getPublicInstance(instance) {\n      return instance;\n    },\n\n    prepareForCommit() {\n      // Noop\n    },\n\n    prepareUpdate(element, type, oldProps, newProps) {\n      return !propsEqual(oldProps, newProps);\n    },\n\n    resetAfterCommit: onChange,\n\n    resetTextContent(element) {\n      // Noop\n    },\n\n    getRootHostContext() {\n      return emptyObject;\n    },\n\n    getChildHostContext() {\n      return emptyObject;\n    },\n\n    shouldSetTextContent(type, props) {\n      return false;\n    },\n\n    now: Date.now,\n\n    useSyncScheduling: true,\n\n    appendChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    appendChildToContainer(parentInstance, child) {\n      if (parentInstance.type === 'ROOT') {\n        parentInstance.document = child;\n      } else {\n        parentInstance.children.push(child);\n      }\n    },\n\n    insertBefore(parentInstance, child, beforeChild) {\n      const index = parentInstance.children.indexOf(beforeChild);\n      if (index !== -1 && child)\n        parentInstance.children.splice(index, 0, child);\n    },\n\n    removeChild(parentInstance, child) {\n      const index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    removeChildFromContainer(parentInstance, child) {\n      const index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    commitTextUpdate(textInstance, oldText, newText) {\n      textInstance.value = newText;\n    },\n\n    commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n      const { style, ...props } = newProps;\n      instance.props = props;\n      instance.style = style;\n    },\n  });\n};\n\nexport default createRenderer;\n","import flatten from './flatten';\n\nconst create = styles => styles;\n\nconst absoluteFillObject = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0,\n};\n\nexport default {\n  hairlineWidth: 1,\n  create,\n  flatten,\n  absoluteFillObject,\n};\n","import BlobStream from 'blob-stream';\nimport PDFDocument from '@react-pdf/pdfkit';\n\nimport Font from './font';\nimport renderPDF from './render';\nimport layoutDocument from './layout';\nimport createRenderer from './renderer';\nimport StyleSheet from './stylesheet';\nimport { version } from '../package.json';\nimport {\n  VIEW,\n  TEXT,\n  LINK,\n  PAGE,\n  NOTE,\n  IMAGE,\n  DOCUMENT,\n  CANVAS,\n  SVG,\n  GROUP,\n  PATH,\n  RECT,\n  LINE,\n  CIRCLE,\n  ELLIPSE,\n  POLYGON,\n  POLYLINE,\n  DEFS,\n  TSPAN,\n  CLIP_PATH,\n  STOP,\n  LINEAR_GRADIENT,\n  RADIAL_GRADIENT,\n} from './constants';\n\nconst View = VIEW;\nconst Text = TEXT;\nconst Link = LINK;\nconst Page = PAGE;\nconst Note = NOTE;\nconst Image = IMAGE;\nconst Document = DOCUMENT;\nconst Canvas = CANVAS;\nconst Svg = SVG;\nconst G = GROUP;\nconst Path = PATH;\nconst Rect = RECT;\nconst Line = LINE;\nconst Circle = CIRCLE;\nconst Ellipse = ELLIPSE;\nconst Polygon = POLYGON;\nconst Polyline = POLYLINE;\nconst Defs = DEFS;\nconst Tspan = TSPAN;\nconst ClipPath = CLIP_PATH;\nconst Stop = STOP;\nconst LinearGradient = LINEAR_GRADIENT;\nconst RadialGradient = RADIAL_GRADIENT;\n\nconst pdf = ({ initialValue, onChange }) => {\n  const container = { type: 'ROOT', document: null };\n  const PDFRenderer = createRenderer({ onChange });\n  const mountNode = PDFRenderer.createContainer(container);\n\n  if (initialValue) updateContainer(initialValue);\n\n  const render = async () => {\n    const ctx = new PDFDocument({ autoFirstPage: false });\n\n    console.time('layout');\n    const layout = await layoutDocument(container.document);\n    console.timeEnd('layout');\n\n    return renderPDF(ctx, layout);\n  };\n\n  const layout = async () => {\n    return layoutDocument(container);\n  };\n\n  function updateContainer(doc) {\n    PDFRenderer.updateContainer(doc, mountNode, null);\n  }\n\n  function callOnRender(params = {}) {\n    if (container.document.props.onRender) {\n      container.document.props.onRender(params);\n    }\n  }\n\n  async function toBlob() {\n    const instance = await render();\n    const stream = instance.pipe(BlobStream());\n\n    return new Promise((resolve, reject) => {\n      stream.on('finish', () => {\n        try {\n          const blob = stream.toBlob('application/pdf');\n          callOnRender({ blob });\n          resolve(blob);\n        } catch (error) {\n          reject(error);\n        }\n      });\n\n      stream.on('error', reject);\n    });\n  }\n\n  async function toBuffer() {\n    callOnRender();\n    return render();\n  }\n\n  function toString() {\n    let result = '';\n    const instance = render();\n\n    return new Promise((resolve, reject) => {\n      try {\n        instance.on('data', function(buffer) {\n          result += buffer;\n        });\n\n        instance.on('end', function() {\n          resolve(result);\n        });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  return {\n    layout,\n    container,\n    updateContainer,\n    toBuffer,\n    toBlob,\n    toString,\n  };\n};\n\nexport {\n  version,\n  View,\n  Text,\n  Link,\n  Page,\n  Font,\n  Note,\n  Image,\n  Document,\n  Canvas,\n  Svg,\n  G,\n  Path,\n  Rect,\n  Line,\n  Circle,\n  Ellipse,\n  Polygon,\n  Defs,\n  Tspan,\n  ClipPath,\n  Polyline,\n  Stop,\n  LinearGradient,\n  RadialGradient,\n  StyleSheet,\n  pdf,\n};\n","import React from 'react';\n\nconst svgpath = require('svgpath');\n\nimport { pdf } from './index';\n\nconst queue = require('queue');\n\nconst canvasInstance = canvas => {\n  const instance = {};\n  const images = {};\n  const ctx = canvas.getContext('2d');\n\n  let fillColor = 'white';\n\n  const nil = () => {\n    return instance;\n  };\n\n  instance.info = {};\n  instance.end = nil;\n  instance.font = nil;\n\n  instance.translate = (x, y) => {\n    ctx.translate(x, y);\n    return instance;\n  };\n\n  instance.addPage = ({ size }) => {\n    canvas.width = size[0];\n    canvas.height = size[1];\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  instance.save = () => {\n    ctx.save();\n    return instance;\n  };\n\n  instance.restore = () => {\n    ctx.restore();\n    return instance;\n  };\n\n  instance.moveTo = (x, y) => {\n    ctx.moveTo(x, y);\n    return instance;\n  };\n\n  instance.lineTo = (x, y) => {\n    ctx.lineTo(x, y);\n    return instance;\n  };\n\n  instance.bezierCurveTo = (a, b, c, d, e, f) => {\n    ctx.bezierCurveTo(a, b, c, d, e, f);\n    return instance;\n  };\n\n  instance.closePath = () => {\n    ctx.closePath();\n    return instance;\n  };\n\n  instance.clip = () => {\n    ctx.clip();\n    return instance;\n  };\n\n  instance.fillColor = color => {\n    fillColor = color;\n    return instance;\n  };\n\n  instance.rect = (a, b, c, d) => {\n    ctx.rect(a, b, c, d);\n    return instance;\n  };\n\n  instance.fill = () => {\n    ctx.fillStyle = fillColor;\n    ctx.fill();\n    return instance;\n  };\n\n  instance.fillOpacity = opacity => {\n    ctx.globalAlpha = opacity;\n    return instance;\n  };\n\n  instance._addGlyphs = (glyphs, positions) => {\n    let xAdvance = 0;\n    const fontSize = 20;\n    const unitsPerEm = 2048;\n\n    for (let i = 0; i < glyphs.length; i++) {\n      const glyph = glyphs[i];\n      const position = positions[i];\n\n      const path = svgpath(glyph.path.toSVG())\n        .scale(1, -1)\n        .scale(fontSize / unitsPerEm)\n        .translate(xAdvance, 0)\n        .toString();\n\n      xAdvance += position.xAdvance;\n\n      ctx.fillStyle = '#000';\n\n      const p = new Path2D(path);\n\n      ctx.stroke(p);\n      ctx.fill(p);\n    }\n\n    return instance;\n  };\n\n  instance.image = (data, x, y, { width, height }) => {\n    const base64Data = btoa(String.fromCharCode.apply(null, data));\n\n    if (images[base64Data]) {\n      ctx.drawImage(images[base64Data], x, y, width, height);\n    } else {\n      const img = document.createElement('img');\n      img.src = 'data:image/png;base64,' + base64Data;\n\n      images[base64Data] = img;\n\n      img.onload = () => {\n        ctx.drawImage(img, x, y, width, height);\n      };\n    }\n\n    return instance;\n  };\n\n  instance.clear = () => {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return instance;\n};\n\nexport class CanvasViewer extends React.Component {\n  ctx = null;\n  instance = pdf();\n  renderQueue = queue({ autostart: true, concurrency: 1 });\n  state = { layout: null, error: null };\n\n  componentDidMount() {\n    this.ctx = canvasInstance(this.canvas);\n    this.queueDocumentRender(this.props.children);\n\n    this.renderQueue.on('error', this.onRenderFailed);\n    this.renderQueue.on('success', this.onRenderSuccessful);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.children !== this.props.children) {\n      this.queueDocumentRender(this.props.children);\n    }\n  }\n\n  componentWillUnmount() {\n    this.renderQueue.end();\n  }\n\n  queueDocumentRender(doc) {\n    this.renderQueue.splice(0, this.renderQueue.length, () => {\n      this.instance.updateContainer(doc);\n\n      if (this.instance.isDirty() && !this.state.error) {\n        return this.instance.renderWithContext(this.ctx);\n      }\n\n      return Promise.resolve();\n    });\n  }\n\n  onRenderFailed = error => {\n    this.setState({ error });\n    console.error(error);\n  };\n\n  onRenderSuccessful = layout => {\n    this.setState({ layout });\n  };\n\n  render() {\n    return (\n      <canvas\n        height={900}\n        id=\"myCanvas\"\n        ref={ref => (this.canvas = ref)}\n        style={{ border: '1px solid black' }}\n        width={900}\n      />\n    );\n  }\n}\n","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport { CanvasViewer } from './canvas';\n\nimport warning from '../src/utils/warning';\n\nconst queue = require('queue');\n\nimport {\n  pdf,\n  View,\n  Text,\n  Link,\n  Page,\n  Font,\n  Note,\n  Image,\n  Canvas,\n  Svg,\n  G,\n  Path,\n  Rect,\n  Line,\n  Circle,\n  Ellipse,\n  Polygon,\n  Polyline,\n  Defs,\n  Tspan,\n  ClipPath,\n  Stop,\n  LinearGradient,\n  RadialGradient,\n  version,\n  StyleSheet,\n  // createInstance,\n  Document as PDFDocument,\n} from './index';\n\nconst flatStyles = stylesArray =>\n  stylesArray.reduce((acc, style) => ({ ...acc, ...style }), {});\n\nexport const Document = ({ children, ...props }) => {\n  return <PDFDocument {...props}>{children}</PDFDocument>;\n};\n\nclass InternalBlobProvider extends React.PureComponent {\n  renderQueue = queue({ autostart: true, concurrency: 1 });\n  state = { blob: null, url: null, loading: true, error: null };\n\n  componentDidMount() {\n    this.instance = pdf({ onChange: this.queueDocumentRender });\n    this.instance.updateContainer(this.props.document);\n\n    this.renderQueue.on('error', this.onRenderFailed);\n    this.renderQueue.on('success', this.onRenderSuccessful);\n  }\n\n  componentDidUpdate() {\n    this.instance.updateContainer(this.props.document);\n  }\n\n  componentWillUnmount() {\n    this.renderQueue.end();\n  }\n\n  queueDocumentRender = () => {\n    this.renderQueue.splice(0, this.renderQueue.length, () =>\n      this.state.error ? Promise.resolve() : this.instance.toBlob(),\n    );\n  };\n\n  onRenderFailed = error => {\n    this.setState({ error });\n    console.error(error);\n  };\n\n  onRenderSuccessful = blob => {\n    const oldBlobUrl = this.state.url;\n\n    this.setState(\n      { blob, url: URL.createObjectURL(blob), loading: false },\n      () => URL.revokeObjectURL(oldBlobUrl),\n    );\n  };\n\n  render() {\n    return this.props.children(this.state);\n  }\n}\n\nexport const BlobProvider = ({ document: doc, children }) => {\n  if (!doc) {\n    warning(false, 'You should pass a valid document to BlobProvider');\n    return null;\n  }\n\n  return <InternalBlobProvider document={doc}>{children}</InternalBlobProvider>;\n};\n\nexport const PDFViewer = ({\n  className,\n  style,\n  children,\n  innerRef,\n  ...props\n}) => {\n  return (\n    <InternalBlobProvider document={children}>\n      {({ url }) => (\n        <iframe\n          className={className}\n          ref={innerRef}\n          src={url}\n          style={Array.isArray(style) ? flatStyles(style) : style}\n          {...props}\n        />\n      )}\n    </InternalBlobProvider>\n  );\n};\n\nexport const PDFDownloadLink = ({\n  document: doc,\n  className,\n  style,\n  children,\n  fileName = 'document.pdf',\n}) => {\n  if (!doc) {\n    warning(false, 'You should pass a valid document to PDFDownloadLink');\n    return null;\n  }\n\n  const downloadOnIE = blob => () => {\n    if (window.navigator.msSaveBlob) {\n      window.navigator.msSaveBlob(blob, fileName);\n    }\n  };\n\n  return (\n    <InternalBlobProvider document={doc}>\n      {params => (\n        <a\n          className={className}\n          download={fileName}\n          href={params.url}\n          onClick={downloadOnIE(params.blob)}\n          style={Array.isArray(style) ? flatStyles(style) : style}\n        >\n          {typeof children === 'function' ? children(params) : children}\n        </a>\n      )}\n    </InternalBlobProvider>\n  );\n};\n\nexport {\n  pdf,\n  View,\n  Text,\n  Link,\n  Page,\n  Font,\n  Note,\n  Image,\n  Canvas,\n  Svg,\n  G,\n  Path,\n  Rect,\n  Line,\n  Circle,\n  Ellipse,\n  Polygon,\n  Polyline,\n  Defs,\n  Tspan,\n  ClipPath,\n  Stop,\n  LinearGradient,\n  RadialGradient,\n  version,\n  StyleSheet,\n} from './index';\n\nexport { CanvasViewer } from './canvas';\n\nexport default {\n  pdf,\n  View,\n  Text,\n  Link,\n  Page,\n  Font,\n  Note,\n  Image,\n  Canvas,\n  Svg,\n  G,\n  Path,\n  Rect,\n  Line,\n  Circle,\n  Ellipse,\n  Polygon,\n  Polyline,\n  Defs,\n  Tspan,\n  ClipPath,\n  Stop,\n  LinearGradient,\n  RadialGradient,\n  version,\n  Document,\n  PDFViewer,\n  StyleSheet,\n  CanvasViewer,\n  BlobProvider,\n  PDFDownloadLink,\n};\n"],"names":["VIEW","TEXT","LINK","PAGE","NOTE","IMAGE","DOCUMENT","CANVAS","TEXT_INSTANCE","SVG","GROUP","PATH","RECT","LINE","CIRCLE","ELLIPSE","POLYGON","POLYLINE","DEFS","TSPAN","CLIP_PATH","STOP","LINEAR_GRADIENT","RADIAL_GRADIENT","DPI","FONT_WEIGHTS","thin","hairline","ultralight","extralight","light","normal","medium","semibold","demibold","bold","ultrabold","extrabold","heavy","black","PAGE_SIZES","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","C10","RA0","RA1","RA2","RA3","RA4","SRA0","SRA1","SRA2","SRA3","SRA4","EXECUTIVE","FOLIO","LEGAL","LETTER","TABLOID","PORTRAIT","LANDSCAPE","INHERITED_PROPERTIES","SVG_INHERITED_PROPS","RULER_WIDTH","RULER_COLOR","RULER_FONT_SIZE","DEFAULT_RULER_STEPS","LINE_WIDTH","LINE_COLOR","GRID_COLOR","BOX_MODEL_REGEX","OBJECT_POSITION_REGEX","BORDER_SHORTHAND_REGEX","TRANSFORM_ORIGIN_REGEX","matchBoxModel","R","matchObjectPosition","matchBorderShorthand","matchTransformOrigin","isNumber","Number","isFontWeightStyle","key","match","isBorderStyle","value","isBoxModelStyle","isObjectPositionStyle","isTransformOriginStyle","isFlexGrow","isFlexShrink","isFlexBasis","processBorders","Error","processBoxModel","processFontWeight","toLowerCase","processObjectPosition","transformOffsetKeywords","processTransformOrigin","result","processFlexGrow","matches","split","processFlexShrink","processFlexBasis","keepSame","matchNumber","String","castFloat","v","parseFloat","transformStyle","transformStyles","fetchFont","src","options","fetch","response","buffer","arrayBuffer","constructor","name","Buffer","from","FontSource","fontFamily","fontStyle","fontWeight","data","loading","load","headers","body","method","fontkit","create","Promise","resolve","reject","open","err","Font","family","sources","register","push","descriptor","styleSources","filter","s","exactFit","find","res","leftOffset","rightOffset","fit","length","lt","gt","emojiSource","registerEmojiSource","url","format","getEmojiSource","hyphenationCallback","registerHyphenationCallback","callback","getHyphenationCallback","fonts","font","i","getRegisteredFonts","getRegisteredFontFamilies","Object","keys","getFont","isStandard","standardFonts","includes","reset","hasOwnProperty","clear","emoji","hyphenation","save","ctx","node","PROTOCOL_REGEXP","DEST_REGEXP","getURL","isSrcId","getSource","setLink","box","top","left","width","height","instanceMethod","slice","restore","isSvg","isText","isPage","hasSource","isLink","isNote","isImage","isCanvas","KAPPA","Math","sqrt","clipNode","style","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","rtr","min","ctr","moveTo","lineTo","bezierCurveTo","rbr","cbr","rbl","cbl","rtl","ctl","closePath","clip","renderPath","d","path","props","getProp","p","renderRect","x","y","rx","ry","krx","kry","renderLine","x1","y1","x2","y2","drawEllipse","cx","cy","ox","oy","xe","ye","xm","ym","renderEllipse","renderCircle","r","renderRun","run","runAdvanceWidth","runWidth","attributes","fontSize","color","opacity","fillColor","fillOpacity","sbix","COLR","CPAL","translate","ascent","glyphs","position","positions","glyph","xOffset","yOffset","render","xAdvance","yAdvance","_addGlyphs","error","console","log","renderSpan","line","textAnchor","lineWidth","runs","renderSvgText","children","span","lines","isOdd","lengthIsOdd","parsePoints","drawPolyline","points","forEach","renderPolyline","renderPolygon","printWarning","args","argIndex","message","replace","__DEV__","process","env","NODE_ENV","warning","condition","undefined","drawImage","paddingTop","paddingLeft","image","href","renderImage","getRotation","transform","exec","PI","getTranslateX","matchX","matchGeneric","getTranslateY","matchY","getScaleX","getScaleY","getMatrix","applySingleTransformation","origin","test","rotate","scale","applyTransformations","re","isPath","isRect","isLine","isTspan","isGroup","isCircle","isTextInstance","renderGroup","isEllipse","isPolygon","isPolyline","normalizePath","prev","bezierX","bezierY","startX","startY","quadX","quadY","len","seg","command","curves","arcToCurve","px","py","xAxisRotation","largeArcFlag","sweepFlag","j","c","quadratic","getPathBoundingBox","absPath","parsePath","bounds","Infinity","l","getCircleBoundingBox","getEllipseBoundingBox","getLineBoundingBox","getRectBoundingBox","max","getPolylineBoundingBox","xValues","yValues","getBoundingBox","warnUnsupportedNode","warn","type","setStrokeWidth","setStrokeColor","strokeColor","setOpacity","setFillOpacity","setStrokeOpacity","strokeOpacity","setLineJoin","lineJoin","setLineCap","lineCap","setLineDash","dashArray","dash","space","hasLinearGradientFill","hasRadialGradientFill","setLinearGradientFill","bbox","gradient","m0","m3","m4","m5","gx1","gy1","gx2","gy2","grad","linearGradient","stop","offset","stopColor","stopOpacity","fill","setRadialGradientFill","fx","fy","gr","gcx","gcy","gfx","gfy","radialGradient","setFillColor","setFill","draw","stroke","fillAndStroke","fillRule","renderNode","renderSvgImage","drawNode","clipPath","drawChildren","defaultsZero","preserveAspectRatio","viewBox","meetOrSlice","align","minX","minY","logicalWidth","maxX","logicalHeight","maxY","logicalRatio","physicalRatio","scaleX","scaleY","moveToOrigin","renderSvg","renderText","initialY","PDFRenderer","renderPage","addPage","size","margin","renderNote","note","isPercent","matchPercent","percent","absValue","abs","absPercent","isNumeric","n","isNaN","isFinite","applyContainObjectFit","cw","ch","iw","ih","cr","ir","pxp","pyp","pxv","pyv","applyNoneObjectFit","applyCoverObjectFit","applyScaleDownObjectFit","containDimension","noneDimension","applyFillObjectFit","resolveObjectFit","objectPositionX","objectPositionY","paddingRight","paddingBottom","objectFit","availableMethods","painter","reduce","acc","prop","renderCanvas","availableWidth","availableHeight","paint","hasVerticalRuler","hasHorizontalRuler","range","steps","Array","ceil","_","matchPercentage","getVerticalSteps","page","horizontalRulerSteps","rulerSteps","percentage","getHorizontalSteps","verticalRulerSteps","renderVerticalRuler","hRange","rect","map","step","text","round","renderHorizontalRuler","renderRulers","getDocumentProp","target","or","setPDFMetadata","info","addMetadata","doc","setProp","title","author","subject","keywords","creator","producer","CONTENT_COLOR","PADDING_COLOR","MARGIN_COLOR","shouldDebug","debugContent","borderLeftWidth","borderTopWidth","borderRightWidth","borderBottomWidth","debugPadding","debugMargin","marginLeft","marginTop","marginRight","marginBottom","debugText","roundedWidth","roundedHeight","debugOrigin","circle","renderDebug","clipBorderTop","layout","c0","topRightYCoord","innerTopRightRadiusX","innerTopRightRadiusY","c1","c2","innerTopLeftRadiusX","innerTopLeftRadiusY","c3","c4","topLeftYCoord","c5","trSlope","fillBorderTop","borderTopColor","borderTopStyle","undash","clipBorderRight","topBottomXCoord","innerBottomRightRadiusX","innerBottomRightRadiusY","topRightXCoord","brSlope","fillBorderRight","borderRightColor","borderRightStyle","clipBorderBottom","bottomLeftYCoord","innerBottomLeftRadiusX","innerBottomLeftRadiusY","bottomRightYCoord","fillBorderBottom","borderBottomColor","borderBottomStyle","clipBorderLeft","topLeftCoordX","bottomLeftXCoord","fillBorderLeft","borderLeftColor","borderLeftStyle","shouldRenderBorders","renderBorders","setDestination","id","addNamedDestination","drawBackground","backgroundColor","shouldRenderBackground","renderBackground","shouldRenderChildren","renderChildren","renderDocument","end","capitalize","toUpperCase","upperFirst","transformText","transformation","StandardFont","PDFFont","str","encode","encoded","stringIndices","g","getGlyph","parseInt","advanceWidth","glyphForCodePoint","codePoint","_font","codePoints","isLigature","characterToGlyph","hasGlyphForCodePoint","fontCache","IGNORED_CODE_POINTS","getFontSize","getOrCreateFont","getFallbackFont","shouldFallbackToFont","fontSubstitution","string","lastFont","lastIndex","index","defaultFont","start","char","codePointAt","shouldFallback","unitsPerEm","engines","linebreaker","justification","textDecoration","scriptItemizer","wordHyphenation","engine","layoutEngine","layoutOptions","shrinkWhitespaceFactor","before","after","getFragments","instance","fragments","textDecorationColor","textDecorationStyle","textTransform","obj","underlineStyle","underline","underlineColor","strike","strikeStyle","strikeColor","child","getAttributedString","AttributedString","fromFragments","AlmostInfinity","layoutTspan","attributedString","container","layoutText","isDefs","getChildren","getId","getDefs","isNotDefs","detachDefs","URL_REGEX","replaceDef","defs","parseNodeDefs","parseDefs","root","replaceDefs","parseViewbox","values","getContainer","viewbox","parseViewBox","getInheritProps","inheritProps","parseAspectRatio","isRgb","isRgba","isHsl","isHsla","parseRgb","colorString","to","hex","get","rgb","parseHsl","hlsToHex","hsl","transformColor","transformColors","styles","STYLE_PROPS","VERTICAL_PROPS","HORIZONTAL_PROPS","transformPercent","parsePercent","parseProps","mergeStyles","removeNoneValues","pickStyleProps","styleProps","parseSvgProps","wrapBetweenTspan","addMissingTspan","resolveSvgNode","resolveChildren","parseText","resolveSvgRoot","resolveSvg","getZIndex","isType","shouldNotSort","sortZIndex","a","b","za","zb","resolveZIndex","adjustPageSize","resolveRulers","PNG","isValid","e","MARKERS","JPEG","readUInt16BE","marker","pos","isBuffer","createCache","limit","cache","set","shift","IMAGE_CACHE","getAbsoluteLocalPath","parse","protocol","auth","host","port","hostname","pathname","absolutePath","fetchLocalFile","fs","readFile","fetchRemoteFile","uri","isValidFormat","lower","guessFormat","isCompatibleBase64","getImage","extension","resolveBase64Image","resolveImageFromData","JSON","stringify","resolveBufferImage","getImageFormat","isPng","isJpg","resolveImageFromUrl","resolveImage","cacheKey","toString","isNotNil","firstPass","fns","fn","resolveSrc","fetchImage","source","emojis","regex","emojiRegex","reflect","promise","then","makeFetchEmojiImage","_removeNoColor","getCodePoints","join","buildEmojiUrl","fetchEmojis","promises","emojiUrl","fetchEmojiImage","embedEmojis","fragment","emojiSize","chunk","fromCharCode","attachment","floor","fetchAssets","listToExplore","childNode","resolveAssets","all","isNotArray","castArray","compact","Boolean","isArray","flatten","prototype","styleShorthands","marginHorizontal","marginVertical","padding","paddingHorizontal","paddingVertical","border","borderTop","borderRight","borderBottom","borderLeft","borderColor","borderRadius","borderStyle","borderWidth","objectPosition","transformOrigin","transformOriginX","transformOriginY","flex","flexGrow","flexShrink","flexBasis","expandStyles","propsArray","resolvedStyle","expandedProps","propName","call","MM_FACTOR","CM_FACTOR","parseValue","unit","transformUnit","scalar","transformUnits","resolveMediaQueries","matchMedia","LINK_STYLES","filterNoneValues","resolveStyles","flattenStyles","resolveNodeStyles","resolvePageStyles","getTransformStyle","getOrigin","percentX","percentY","offsetX","offsetY","resolveNodeOrigin","resolveOrigin","VALID_ORIENTATIONS","getOrientation","isLandscape","toSizeObject","flipSizeObject","getStringSize","getNumberSize","throwInvalidError","getSize","assocIfNil","resolvePageSize","getPageSize","resolvePageSizes","lineIndexAtHeight","heightAtLineIndex","counter","zero","getTop","getWidows","getOrphans","getLineBreak","widows","orphans","linesQuantity","slicedLine","splitText","slicedLineIndex","currentHeight","nextHeight","current","next","hasFixedHeight","subtractHeight","splitNode","nodeTop","isString","isNotString","createInstance","element","nextChildren","getNodesHeight","nodes","getWrap","getBreak","getMinPresenceAhead","defaultPresenceAhead","getPresenceAhead","elements","isElementInside","presenceAhead","shouldBreak","futureElements","minPresenceAhead","futureHeight","shouldSplit","shouldWrap","getComputedPadding","edge","yogaNode","_yogaNode","getPadding","Yoga","EDGE_TOP","EDGE_RIGHT","EDGE_BOTTOM","EDGE_LEFT","getContentArea","IGNORABLE_CODEPOINTS","buildSubsetForFont","ignoreChars","charSubset","subsetRegex","RegExp","PREPROCESSORS","textAlign","lineHeight","letterSpacing","textIndent","indent","link","characterSpacing","preprocessor","maxLines","textOverflow","truncateMode","getLayoutOptions","hyphenationPenalty","isNotSvg","hasLines","fixed","shouldLayoutText","resolveTextLayout","getInheritStyles","resolveInheritance","inheritStyles","getComputedMargin","getMargin","getComputedTop","getRight","getComputedRight","getBottom","getComputedBottom","getLeft","getComputedLeft","getPosition","right","bottom","DEFAULT_DIMENSION","getDimension","getComputedWidth","getComputedHeight","getComputedBorder","getBorderWidth","setDisplay","DISPLAY_NONE","DISPLAY_FLEX","setOverflow","yogaValue","OVERFLOW_HIDDEN","OVERFLOW_SCROLL","OVERFLOW_VISIBLE","setFlexWrap","WRAP_WRAP","WRAP_WRAP_REVERSE","WRAP_NO_WRAP","setYogaValue","attr","hasEdge","fixedMethod","autoMethod","percentMethod","setFlexGrow","setFlexBasis","setAlign","ALIGN_FLEX_START","ALIGN_CENTER","ALIGN_FLEX_END","ALIGN_STRETCH","ALIGN_BASELINE","ALIGN_SPACE_BETWEEN","ALIGN_SPACE_AROUND","ALIGN_AUTO","setAlignSelf","setAlignItems","setFlexShrink","setAspectRatio","setAlignContent","setPositionType","POSITION_TYPE_ABSOLUTE","POSITION_TYPE_RELATIVE","isRow","isRowReverse","isColumnReverse","setFlexDirection","FLEX_DIRECTION_ROW","FLEX_DIRECTION_ROW_REVERSE","FLEX_DIRECTION_COLUMN_REVERSE","FLEX_DIRECTION_COLUMN","setJustifyContent","JUSTIFY_CENTER","JUSTIFY_FLEX_END","JUSTIFY_SPACE_BETWEEN","JUSTIFY_SPACE_AROUND","JUSTIFY_SPACE_EVENLY","JUSTIFY_FLEX_START","setMarginTop","setMarginRight","setMarginBottom","setMarginLeft","setPaddingTop","setPaddingRight","setPaddingBottom","setPaddingLeft","setBorderTop","setBorderRight","setBorderBottom","setBorderLeft","setPositionTop","setPositionRight","setPositionBottom","setPositionLeft","setWidth","setMinWidth","setMaxWidth","setHeight","setMinHeight","setMaxHeight","getAspectRatio","measureCanvas","widthMode","heightMode","aspectRatio","MEASURE_MODE_EXACTLY","MEASURE_MODE_AT_MOST","linesWidth","linesHeight","measureText","getRatio","isHeightAuto","SAFETY_HEIGHT","measureImage","imageRatio","imageMargin","pagePadding","pageArea","MEASURE_MODE_UNDEFINED","scaledHeight","getMax","measureCtx","nil","addPoint","w","h","ellipse","polygon","roundedRect","quadraticCurveTo","miterLimit","getWidth","getHeight","YOGA_NODE","YOGA_CONFIG","Config","setPointScaleFactor","setNodeHeight","setYogaValues","minWidth","maxWidth","minHeight","maxHeight","display","flexDirection","alignSelf","alignContent","alignItems","justifyContent","flexWrap","overflow","insertYogaNodes","parent","insertChild","getChildCount","setMeasureFunc","measureSvg","isNotText","isNotNote","isNotTextInstance","isLayoutElement","createYogaNodes","Node","createWithConfig","calculateLayout","persistDimensions","destroyYogaNodes","destroy","resolvePageDimensions","resolveDimensions","SAFTY_THRESHOLD","assingChildren","isElementOutside","isFixed","allFixed","isDynamic","relayoutPage","splitView","currentNode","nextNode","splitChildren","currentChilds","splitNodes","currentChildren","futureNodes","futureFixedNodes","nodeHeight","isOutside","shouldNodeBreak","break","currentChild","nextChild","splitPage","pageNumber","contentArea","dynamicPage","resolveDynamicPage","nextChilds","currentPage","nextPage","shouldResolveDynamicNodes","resolveDynamicNodes","isNodeDynamic","resolveRender","paginate","splittedPage","pages","resolvePageIndices","totalPages","resolvePagination","subpages","concat","removeMargins","resolvePageMargins","getNodeText","getNodesText","wrapTextInstance","resolveNoteChildren","resolvePageHorizontalPadding","resolvePageVerticalPadding","resolvePagePaddings","resolveRadius","resolvePercentRadius","transformHeight","getPageArea","pageHeight","pagePaddingTop","pagePaddingBottom","hasHeight","resolveNodePercentHeight","resolvePagePercentHeight","resolvePercentHeight","hasRenderProp","hasTextInstanceChilds","resolveLinkSubstitution","asyncCompose","resolveOrigins","propsEqual","oldPropsKeys","newPropsKeys","emptyObject","createRenderer","onChange","ReactFiberReconciler","schedulePassiveEffects","cancelPassiveEffects","supportsMutation","isPrimaryRenderer","warnsIfNotActing","appendInitialChild","parentInstance","createTextInstance","rootContainerInstance","finalizeInitialChildren","getPublicInstance","prepareForCommit","prepareUpdate","oldProps","newProps","resetAfterCommit","resetTextContent","getRootHostContext","getChildHostContext","shouldSetTextContent","now","Date","useSyncScheduling","appendChild","appendChildToContainer","document","insertBefore","beforeChild","indexOf","splice","removeChild","removeChildFromContainer","commitTextUpdate","textInstance","oldText","newText","commitUpdate","updatePayload","absoluteFillObject","hairlineWidth","View","Text","Link","Page","Note","Image","Document","Canvas","Svg","G","Path","Rect","Line","Circle","Ellipse","Polygon","Polyline","Defs","Tspan","ClipPath","Stop","LinearGradient","RadialGradient","pdf","initialValue","mountNode","createContainer","updateContainer","PDFDocument","autoFirstPage","time","layoutDocument","timeEnd","renderPDF","callOnRender","params","onRender","toBlob","stream","pipe","BlobStream","on","blob","toBuffer","svgpath","require","queue","canvasInstance","canvas","images","getContext","clearRect","f","fillStyle","globalAlpha","toSVG","Path2D","base64Data","btoa","apply","img","createElement","onload","CanvasViewer","renderQueue","autostart","concurrency","state","onRenderFailed","setState","onRenderSuccessful","componentDidMount","queueDocumentRender","componentDidUpdate","prevProps","componentWillUnmount","isDirty","renderWithContext","ref","React","Component","flatStyles","stylesArray","InternalBlobProvider","oldBlobUrl","URL","createObjectURL","revokeObjectURL","PureComponent","BlobProvider","PDFViewer","className","innerRef","PDFDownloadLink","fileName","downloadOnIE","window","navigator","msSaveBlob","version","StyleSheet"],"mappings":"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"}