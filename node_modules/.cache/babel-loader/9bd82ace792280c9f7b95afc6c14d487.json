{"ast":null,"code":"// Generated by CoffeeScript 1.7.1\n(function () {\n  var Bitfield;\n\n  Bitfield = function () {\n    function Bitfield(type, flags) {\n      this.type = type;\n      this.flags = flags != null ? flags : [];\n    }\n\n    Bitfield.prototype.decode = function (stream) {\n      var flag, i, res, val, _i, _len, _ref;\n\n      val = this.type.decode(stream);\n      res = {};\n      _ref = this.flags;\n\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n        flag = _ref[i];\n\n        if (flag != null) {\n          res[flag] = !!(val & 1 << i);\n        }\n      }\n\n      return res;\n    };\n\n    Bitfield.prototype.size = function () {\n      return this.type.size();\n    };\n\n    Bitfield.prototype.encode = function (stream, keys) {\n      var flag, i, val, _i, _len, _ref;\n\n      val = 0;\n      _ref = this.flags;\n\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n        flag = _ref[i];\n\n        if (flag != null) {\n          if (keys[flag]) {\n            val |= 1 << i;\n          }\n        }\n      }\n\n      return this.type.encode(stream, val);\n    };\n\n    return Bitfield;\n  }();\n\n  module.exports = Bitfield;\n}).call(this);","map":null,"metadata":{},"sourceType":"script"}