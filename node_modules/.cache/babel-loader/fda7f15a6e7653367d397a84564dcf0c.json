{"ast":null,"code":"'use strict';\n\nvar _ = require('lodash');\n\nvar dayjs = require('dayjs');\n\nvar utc = require('dayjs/plugin/utc');\n\ndayjs.extend(utc);\n/**\n * @namespace deserialize\n */\n\nfunction parseDate(s, format) {\n  var m = dayjs.utc(s, format);\n\n  if (m.isValid()) {\n    return m.toDate();\n  }\n\n  return s;\n}\n\nfunction parseNumber(n, parser) {\n  var parsed = parser(n);\n\n  if (isNaN(parsed)) {\n    return n;\n  }\n\n  return parsed;\n}\n/**\n * @function iso8601Date\n * @memberOf deserialize\n * @description parse a string into a Date object\n *\n * @param  {string} s date string in YYYY-MM-DD format\n * @return {Date} Date object\n */\n\n\nfunction iso8601Date(s) {\n  return parseDate(s, 'YYYY-MM-DD');\n}\n/**\n * @function iso8601DateTime\n * @memberOf deserialize\n * @description parse a string into a Date object\n *\n * @param  {String} s date string in YYYY-MM-DD[T]HH:mm:ss[Z] format\n * @return {Date} Date object\n */\n\n\nfunction iso8601DateTime(s) {\n  return parseDate(s, 'YYYY-MM-DD[T]HH:mm:ss[Z]');\n}\n/**\n * @function rfc2822DateTime\n * @memberOf deserialize\n * @description parse a string into a Date object\n *\n * @param  {String} s date string in ddd, DD MMM YYYY HH:mm:ss [+0000] format\n * @return {Date} Date object\n */\n\n\nfunction rfc2822DateTime(s) {\n  return parseDate(s, 'ddd, DD MMM YYYY HH:mm:ss [+0000]');\n}\n/**\n * @function decimal\n * @memberOf deserialize\n * @description parse a string into a decimal\n *\n * @param  {string} d decimal value as string\n * @return {number} number object\n */\n\n\nfunction decimal(d) {\n  return parseNumber(d, parseFloat);\n}\n/**\n * @function integer\n * @memberOf deserialize\n * @description parse a string into a integer\n *\n * @param  {string} i integer value as string\n * @return {number} number object\n */\n\n\nfunction integer(i) {\n  return parseNumber(i, _.parseInt);\n}\n\nmodule.exports = {\n  iso8601Date: iso8601Date,\n  iso8601DateTime: iso8601DateTime,\n  rfc2822DateTime: rfc2822DateTime,\n  decimal: decimal,\n  integer: integer\n};","map":null,"metadata":{},"sourceType":"script"}